{"version":3,"sources":["components/Moves/Moves.js","utils/vibrate.js","components/Inputs/CountButton.js","components/Moves/Material.js","utils/defaultMaterials.js","utils/helperFunctions.js","components/Providers/MoveProvider.js","components/Layout/SectionTitle.js","components/Layout/TableFooter.js","utils/useGroup.js","components/Moves/Materials.js","utils/useLongPress.js","components/Inputs/Input.js","components/Moves/Client.js","components/Moves/MoveMenu.js","components/Moves/MoveBottomBar.js","components/Inputs/ButtonSelect.js","components/Inputs/NoInput.js","components/Moves/Local.js","components/Moves/LongDistance.js","components/Moves/FlatRate.js","components/Moves/Rates.js","components/Moves/Inventory.js","components/Moves/SignButton.js","components/Moves/Estimate.js","utils/fillBOLForm.js","components/Moves/Overview.js","utils/defaultMiscFees.js","components/Moves/MiscFees.js","components/Moves/Move.js","components/Moves/PaymentType.js","components/Moves/Card.js","components/Moves/Payment.js","components/Inputs/SignatureBlock.js","components/Moves/Signatures.js","components/Moves/Totals.js","components/Moves/PreviewPDF.js","components/Moves/ContactInfo.js","components/Moves/Locations.js","components/Moves/Dates.js","components/Moves/Valuation.js","components/Moves/Release.js","components/Moves/ClearData.js","components/Moves/MoveInOne.js","components/Estimates/Estimates.js","components/Estimates/Estimate.js","components/Paramount/Paramounts.js","components/Paramount/FieldsList.js","components/Paramount/ProgressBar.js","utils/useStorage.js","components/Paramount/UploadForm.js","components/Paramount/PacketList.js","components/Paramount/PreviewPDF.js","utils/fillPDF.js","components/Paramount/Paramount.js","components/Dispatch/Dispatch.js","components/Dispatch/Job.js","redux/actionTypes.js","redux/actions.js","components/Warehouse/AddWare.js","components/Warehouse/Ware.js","constants.js","redux/selectors.js","components/Warehouse/WareList.js","components/Warehouse/VisibilityFilters.js","components/Warehouse/Warehouse.js","components/Tools/Tools.js","utils/useMousePosition.js","components/Tools/BillOfLading.js","components/Providers/MaterialsProvider.js","components/Tools/MakeText.js","components/Tools/Tool.js","components/Layout/Appbar.js","App.js","serviceWorker.js","redux/reducers/visibilityFilter.js","redux/reducers/wares.js","redux/reducers/move.js","index.js","firebase/firebaseConfig.js"],"names":["movesQuery","collection","limitTo","MoveLink","id","firstName","lastName","fullName","phone","email","className","to","Moves","useState","firestore","useFirestore","history","useHistory","newMove","a","nanoid","doc","set","createdAt","timestamp","console","log","push","pathname","useFirestoreConnect","moves","useSelector","ordered","isLoaded","isEmpty","map","ind","rest","Toolbar","onClick","Filter","AddCircle","vibrate","ms","isMacOs","isIOS","window","navigator","CountButton","count","changeCount","min","type","name","clsx","onChange","e","val","parseInt","target","value","onKeyPress","key","search","preventDefault","onFocus","select","onKeyDown","blur","toString","memo","Material","props","handleChange","handleRemove","img","rate","units","total","isCustom","useCallback","Number","changeRate","changeInput","Delete","src","process","alt","defaultMaterials","volume","w","d","h","description","rent","getFormattedDate","date","year","getFullYear","getMonth","padStart","getDate","timeToDecimal","t","arr","split","dec","parseFloat","convertToHHMM","info","hrs","Math","round","money_round","num","ceil","incrementDate","dateString","Date","setDate","decrementDate","truncateString","str","length","slice","filterGroup","group","showNumber","defValue","defFun","v","Array","isArray","remainder","filter","g","MoveContext","createContext","MoveDispatchContext","useMove","context","useContext","undefined","Error","useMoveDispatch","moveReducer","state","field","groupName","payload","find","MoveProvider","reducer","children","useReducer","action","newState","localStorage","setItem","JSON","stringify","parse","getItem","err","getInitialState","dispatch","valuation","valuationCost","valuationCostWithDeductible","shipmentValue","valuationRate","valuationRateWithDeductible","estimatedWeight","hourlyRate","travelTime","totalHours","startTime","endTime","arriveTime","departTime","breakTime","subtotal","materials","miscFees","isTravelFeeFixed","travelFee","totalValuation","cubicWeight","netWeight","grossWeight","tareWeight","weightType","mileageRate","totalMovingCharges","totalAmountPaid","flatIsMaterialsIncluded","paymentOption","totalTransportation","jobType","flatAmount","totalMaterials","totalMiscFees","useEffect","begin","finish","th","diff","sum","adjustment","adjustmentNumber","totalMovingChargesNumber","remainingBalanceNumber","Provider","sumIs","reduce","accumulator","currentValue","SectionTitle","title","plus","hidePlus","Icon","Icon2","onClick2","TableFooter","showMore","setShowMore","handleAdd","ArrowDropUp","ArrowDropDown","useGroup","defaultState","providerState","base","newMerge","b","match","s","Guide","mergeDefaultWProvider","setGroup","update","data","forEach","i","add","propsObj","remove","clear","MaterialsWProvider","showMoreDefault","m","Materials","move","event","isTouchEvent","touches","useLongPress","onLongPress","shouldPreventDefault","delay","longPressTriggered","setLongPressTriggered","timeout","useRef","start","addEventListener","passive","current","setTimeout","shouldTriggerClick","clearTimeout","removeEventListener","onMouseDown","onTouchStart","onMouseUp","onMouseLeave","onTouchEnd","Input","placeholder","inputMode","step","readOnly","align","deletedValue","setDeletedValue","showLabel","setShowLabel","inputRef","longPressEvent","onMouseEnter","ref","autoComplete","focus","Clear","Restore","Client","client","phoneNumber","originAddress","destinationAddress","additionalStops","anyAdditionalStops","document","method","EmojiPeople","Phone","Email","Remove","Add","Home","AddLocation","LocalShipping","MoveMenu","showSideMenu","setshowSideMenu","navbarPinned","sideMenuStatus","text","MenuLink","url","useRouteMatch","activeClassName","MoveBottomBar","React","setNavbarPinned","useLocation","newp","steps","currentIndex","indexOf","isLastStep","isMobile","Menu","iconPosition","TurnedIn","TurnedInNot","inactive","NoteAdd","NavigateBefore","NavigateNext","Button","fontSize","color","ButtonSelect","defaultValue","buttons","vertical","button","index","selected","isDisabled","isSelected","NoInput","label","unit","replace","LinkOff","Local","Fragment","checked","htmlFor","Timer","AlarmOn","Update","HourglassEmpty","Timelapse","TravelTime","times","onSelect","LongDistance","distance","SettingsEthernet","LocalOffer","LocalShippingTwoTone","LocalShippingOutlined","FitnessCenter","WeightType","dateTypes","SettingsOverscan","Receipt","FlatRate","showHelp","setshowHelp","Rates","LocalOfferTwoTone","JobType","jobTypes","AccessTime","CreditCard","Inventory","SignButton","Gesture","Estimate","estimateIsBinding","bindingEstimateExists","LockOpen","Lock","fillBOLForm","baseUrl","location","origin","formUrl","fetch","then","res","arrayBuffer","formPdfBytes","PDFDocument","load","pdfDoc","pages","getPages","form","getForm","setField","pdfField","condition","join","getTextField","setText","setSignature","signature","x","y","width","height","bytes","embedPng","image","drawImage","setDateField","size","drawText","notes","initials","agreedToEstimate","estimateAgreedDate","dates","crewLeadAssigned","crewSignature","appendixExists","personnel","item","adjustmentText","balanceDueText","remainingBalance","jobComplete","flatten","save","pdfBytes","Overview","defaultMiscFees","defaultAmount","Straighten","setValue","pre","DeleteSweep","Weekend","DirectionsBoat","Widgets","DirectionsRun","TwoWheeler","HotTub","LocalParking","MiscFees","fees","setShowOnlySelected","justAdded","setJustAdded","feeRefs","feesFilter","f","createRef","parentNode","firstChild","lastChild","fee","inputref","Fee","showGuide","setShowGuide","toggleShowGuide","toggleSelected","data-id","CheckBoxTwoTone","CheckBoxOutlineBlank","ArrowRight","Move","path","redirect","Object","fromEntries","u","urls","links","moveId","useParams","overview","rates","inventory","estimate","PaymentType","adjustmentRate","p","CARD_OPTIONS","iconStyle","style","iconColor","fontWeight","fontFamily","fontSmoothing","invalid","CardField","options","Field","required","SubmitButton","processing","error","disabled","ErrorMessage","role","viewBox","fill","ResetButton","CheckoutForm","stripe","useStripe","elements","useElements","setError","cardComplete","setCardComplete","setProcessing","paymentMethod","setPaymentMethod","billingDetails","setBillingDetails","handleSubmit","getElement","createPaymentMethod","card","CardElement","billing_details","onSubmit","complete","message","ELEMENTS_OPTIONS","fonts","cssSrc","stripePromise","loadStripe","Card","Payment","SignatureBlock","sigCanvas","penColor","canvasProps","onEnd","getTrimmedCanvas","toDataURL","Signatures","spanClass","Totals","pdfjs","GlobalWorkerOptions","workerSrc","version","PreviewPDF","setData","setNumPages","pageNumber","getPreview","newData","downloadNow","download","file","onLoadSuccess","numPages","renderMode","ContactInfo","Locations","Dates","dateType","DateType","EventAvailable","DateRange","DatesList","newArray","handleDelete","splice","canDelete","Day","CalendarToday","Today","EventBusy","Valuation","showChangeRates","setShowChangeRates","StarOutline","StarHalf","Star","keys","show","Edit","AttachMoney","max","ValuationRates","class","Release","ClearData","colClass","MoveInOne","Estimates","input","setInput","editId","setEditId","addTodo","tempId","handleEdit","ListEstimates","todos","delete","todo","ParamountLink","paramountId","Paramounts","setstate","setFilter","faker","findName","internet","values","toLowerCase","includes","Search","SearchOutlined","fields","FieldsList","ListItem","border","backgroundColor","padding","marginRight","marginBottom","float","Box","useDrag","end","monitor","dropResult","getDropResult","allowedDropEffect","dropEffect","isCopyAction","collect","opacity","isDragging","drag","ProgressBar","setFile","onUrlAdded","progress","setProgress","setUrl","storageRef","projectStorage","collectionRef","projectFirestore","put","on","snap","percentage","bytesTransferred","totalBytes","getDownloadURL","useStorage","UploadForm","customPdf","setCustomPdf","files","currCustomPdfs","items","PacketList","pdf","setPdf","PictureAsPdf","coordinates","setCoordinates","setPageNumber","getCoordinates","rect","getBoundingClientRect","clientX","left","clientY","top","toFixed","onDocumentLoadSuccess","onclick","page","fakeData","fillPDF","setFormField","setTextField","styles","fieldExample","place","pdfId","pageNum","Paramount","boxes","setBoxes","pdfize","newPdf","DndProvider","backend","MultiBackend","HTML5toTouch","LocalBox","moveBox","$merge","useDrop","accept","drop","getItemType","offset","getSourceClientOffset","dropTargetXy","fieldId","delta","getDifferenceFromInitialOffset","dropTarget","elem","useLocalDrop","hideSourceOnDrag","TaskList","TaskLink","Dispatch","Job","ADD_WARE","TOGGLE_WARE","SET_FILTER","nextWareId","connect","addWare","content","handleAddWare","toggleWare","ware","completed","cx","VISIBILITY_FILTERS","ALL","COMPLETED","INCOMPLETE","getWaresState","store","wares","getWares","allIds","getWareList","byIds","getWareById","visibilityFilter","allWares","getWaresByVisibilityFilter","activeFilter","filterKey","currentFilter","Warehouse","Tools","minWidth","minHeight","useMousePosition","mousePosition","setMousePosition","updateMousePosition","ev","BillOfLading","setPage","canvasRef","hasMovedCursor","pdfDocument","usePdf","Boolean","MaterialsContext","MaterialsDispatchContext","materialsReducer","MaterialsProvider","MakeText","query","URLSearchParams","initialState","get","customer","greeting","getHours","crewLead","company","moveType","scheduledETA","sms","DirectionsWalk","href","Message","Save","smsQuery","ListSMS","SMSLink","ToosWProviders","useMaterials","materialsDispatch","useMaterialsDispatch","Tool","Appbar","open","setOpen","pinned","setPinned","toggleOpen","o","togglePin","NavLink","App","basename","exact","from","component","Ware","hostname","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","projectFunctions","functions","storage","FieldValue","serverTimestamp","rootReducer","combineReducers","firestoreReducer","createStore","composeWithDevTools","rrfProps","config","userProfile","useFirestoreForProfile","createFirestoreInstance","ReactDOM","render","StrictMode","getElementById","serviceWorker","ready","registration","unregister","catch"],"mappings":"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","file":"static/js/main.81869cf4.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  // BrowserRouter as Router,\r\n  // Switch,\r\n  // Route,\r\n  Link,\r\n  useHistory,\r\n  // useParams,\r\n  // useRouteMatch,\r\n} from \"react-router-dom\";\r\nimport { nanoid } from \"nanoid\";\r\nimport faker from \"faker\";\r\nimport { AddCircle, Filter, Search } from \"@material-ui/icons\";\r\n\r\nimport { useSelector } from \"react-redux\";\r\nimport { useFirestoreConnect, useFirestore, isLoaded, isEmpty } from \"react-redux-firebase\";\r\nimport { timestamp } from \"../..\";\r\n\r\nconst movesQuery = {\r\n  collection: \"moves\",\r\n  limitTo: 10,\r\n};\r\n\r\nconst MoveLink = ({ id = \"\", firstName, lastName, fullName = \"\", phone = \"\", email = \"\" }) => {\r\n  // let { url } = useRouteMatch();\r\n  return (\r\n    <div className=\"hover:bg-pink-500 hover:text-white cursor-pointer flex w-full justify-around\">\r\n      <div>\r\n        <Link to={`/m/${id}`}> {id}</Link>\r\n      </div>\r\n      <div>\r\n        <Link to={`/m/${id}`}>{fullName || firstName + \" \" + lastName || \"\"}</Link>\r\n      </div>\r\n      <div>\r\n        <Link to={`/m/${id}`}>{email}</Link>\r\n      </div>\r\n      <div>\r\n        <Link to={`/m/${id}`}>{phone}</Link>\r\n      </div>\r\n      <div>\r\n        <Link to={`/m1/${id}`}>Single View</Link>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const Moves = () => {\r\n  const [state, setstate] = useState([]);\r\n\r\n  const firestore = useFirestore();\r\n  let history = useHistory();\r\n  const newMove = async () => {\r\n    const id = nanoid(6);\r\n    try {\r\n      await firestore.collection(\"moves\").doc(id).set({ createdAt: timestamp() });\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    history.push({\r\n      pathname: `/m/${id}`,\r\n      // search: '?query=abc',\r\n      // state: { detail: 'some_value' }\r\n    });\r\n\r\n    //push to m/new id\r\n  };\r\n\r\n  useFirestoreConnect(() => [movesQuery]);\r\n  const moves = useSelector(({ firestore: { ordered } }) => ordered.moves);\r\n\r\n  // Show a message while moves are loading\r\n  if (!isLoaded(moves)) {\r\n    return \"Loading\";\r\n  }\r\n\r\n  // Show a message if there are no moves\r\n  if (isEmpty(moves)) {\r\n    return \"Todo list is empty\";\r\n  }\r\n\r\n  // useEffect(() => {\r\n  //   const arr = [];\r\n  //   for (let i = 0; i < 20; i++) {\r\n  //     arr[i] = {\r\n  //       id: nanoid(6),\r\n  //       fullName: faker.name.findName(),\r\n  //       email: faker.internet.email(),\r\n  //       phone: faker.phone.phoneNumber(),\r\n  //     };\r\n  //   }\r\n  //   setstate(arr);\r\n  // }, []);\r\n  // let { path, url } = useRouteMatch();\r\n\r\n  return (\r\n    <div className=\"container bg-white mx-auto  min-h-full flex flex-col items-center pb-4 mb-4\">\r\n      <Toolbar newMove={newMove} />\r\n      <div className=\"flex justify-between w-full\">\r\n        {/* <h1>Moves</h1> */}\r\n        <div className=\"sidebar flex flex-col w-full\">\r\n          {moves.map(({ id, ...rest }, ind) => (\r\n            <MoveLink key={`${id}-${ind}`} id={id} {...rest} />\r\n          ))}\r\n        </div>\r\n        {/* <table className=\"\">\r\n          <thead className=\"text-white bg-gray-900 text-center cursor-pointer\">\r\n            <tr>\r\n              <th>Ih</th>\r\n              <th>Name</th>\r\n              <th>Phone</th>\r\n              <th>Email</th>\r\n              <th></th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {state.map((a) => (\r\n              <MoveLink key={a.id} moveId={a.id} fullName={a.fullName} email={a.email} phone={a.phone} />\r\n            ))}\r\n          </tbody>\r\n        </table> */}\r\n      </div>\r\n      {/* <button>+ Move</button> */}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Toolbar = ({ newMove }) => {\r\n  return (\r\n    <div className=\"w-full bg-gray-200 flex justify-between border border-gray-300 mb-2\">\r\n      <div className=\" flex items-center\">\r\n        <span className=\"py-2 px-4 \">\r\n          <span className=\"hover:underline px-2 cursor-pointer\">... /</span>\r\n          <span className=\"hover:underline  cursor-pointer\">Moves /</span>\r\n        </span>\r\n      </div>\r\n      <div className=\"rightToolbar flex\">\r\n        <button className=\" text white p-2 rounded-md  flex items-center px-4 \" onClick={newMove}>\r\n          <span>\r\n            <Filter className=\"p-1\" />\r\n          </span>\r\n          Filter\r\n        </button>\r\n        <button className=\" text white p-2 rounded-md  flex items-center px-4 \" onClick={newMove}>\r\n          <span>\r\n            <Search className=\"p-1\" />\r\n          </span>\r\n          Search\r\n        </button>\r\n        <button className=\" text white p-2 rounded-md  flex items-center px-4 \" onClick={newMove}>\r\n          <span>\r\n            <AddCircle className=\"p-1\" />\r\n          </span>\r\n          New Move\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst MoveItem = (props) => {\r\n  return <div>{props?.id}</div>;\r\n};\r\n","import { isMacOs, isIOS } from \"react-device-detect\";\r\n\r\nexport function vibrate(ms) {\r\n  if (!isMacOs && !isIOS) window.navigator.vibrate(ms);\r\n}\r\n","import React, { memo } from \"react\";\r\nimport clsx from \"clsx\";\r\nimport { vibrate } from \"../../utils/vibrate\";\r\n\r\nconst CountButton = ({ count, changeCount }) => {\r\n  const increment = () => {\r\n    changeCount(count + 1);\r\n    vibrate([50]);\r\n  };\r\n  const decrement = () => {\r\n    if (count > 0) {\r\n      changeCount(count - 1);\r\n      vibrate([50, 50, 50]);\r\n    }\r\n  };\r\n  const onChange = (e) => {\r\n    var val = parseInt(e.target.value) || 0;\r\n    return changeCount(val);\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-row w-28 h-8 mx-auto  rounded-md relative bg-purple-200 bg-opacity-50 my-1 \">\r\n      <button\r\n        onClick={decrement}\r\n        className=\" text-2xl font-thin select-none  text-gray-600 hover:text-red-700 hover:bg-red-200 w-20 rounded-l cursor-pointer\"\r\n      >\r\n        \r\n      </button>\r\n      <input\r\n        min=\"0\"\r\n        type=\"number\"\r\n        name=\"custom-input-number\"\r\n        className={clsx(\r\n          \" bg-white bg-opacity-60  text-center w-12  font-semibold text-md hover:text-black focus:text-black  md:text-basecursor-default flex items-center text-gray-700\",\r\n          count > 0 && \"bg-yellow-200\"\r\n        )}\r\n        onChange={onChange}\r\n        onKeyPress={(e) => {\r\n          if (\r\n            e.key === \"ArrowLeft\" ||\r\n            e.key === \"ArrowRight\" ||\r\n            e.key === \"ArrowUp\" ||\r\n            e.key === \"ArrowDown\" ||\r\n            e.key === \"Delete\" ||\r\n            e.key === \"Backspace\"\r\n          ) {\r\n            return;\r\n          } else if (e.key.search(/\\d/) === -1) {\r\n            e.preventDefault();\r\n          }\r\n        }}\r\n        onFocus={(e) => e.target.select()}\r\n        onKeyDown={(e) => (e.key === \"Enter\" ? e.target.blur() : null)}\r\n        value={count.toString()}\r\n      ></input>\r\n      <button\r\n        onClick={increment}\r\n        className=\" text-2xl font-thin select-none  text-gray-600 hover:text-green-700 hover:bg-green-200 w-20 rounded-r cursor-pointer\"\r\n      >\r\n        +\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default memo(CountButton);\r\n","import { Delete } from \"@material-ui/icons\";\r\nimport React, { memo, useCallback } from \"react\";\r\n\r\nimport CountButton from \"../Inputs/CountButton\";\r\n\r\nexport const Material = memo((props) => {\r\n  const { handleChange, handleRemove, id, name, img, rate = 0, units = 0, total = 0, isCustom = false } = props;\r\n\r\n  const changeCount = useCallback(\r\n    (units) => {\r\n      handleChange(id, { units, total: Number(units) * Number(rate) });\r\n    },\r\n    [id, handleChange, rate]\r\n  );\r\n\r\n  const changeRate = useCallback(\r\n    (e) => {\r\n      handleChange(id, { rate: e.target.value, total: Number(units) * Number(e.target.value) });\r\n    },\r\n    [id, handleChange, units]\r\n  );\r\n  const changeInput = useCallback(\r\n    (e) => {\r\n      handleChange(id, { [e.target.name]: e.target.value });\r\n    },\r\n    [id, handleChange]\r\n  );\r\n\r\n  return (\r\n    <div\r\n      className={`odd:bg-gray-50 flex relative justify-between items-center  border-b ${\r\n        units > 0 ? \"bg-green-50 hover:bg-green-100\" : \"hover:bg-purple-100\"\r\n      }`}\r\n    >\r\n      <div className=\"flex items-center w-1/3 sm:w-1/2   align-middle  pl-2\">\r\n        <div className=\"pr-3\">\r\n          {isCustom ? (\r\n            <Delete onClick={() => handleRemove(id)} className=\"p-1 hover:text-red-400 cursor-pointer\" />\r\n          ) : (\r\n            <img className=\"max-h-5 w-5\" src={process.env.PUBLIC_URL + \"/\" + img} alt=\"\" />\r\n          )}\r\n        </div>\r\n        <div className=\"flex-col w-full flex-1   truncate\">\r\n          {!isCustom ? (\r\n            <span className=\"select-none text-sm truncte\">{name}</span>\r\n          ) : (\r\n            <input\r\n              name=\"name\"\r\n              value={name}\r\n              onChange={changeInput}\r\n              onFocus={(e) => e.target.select()}\r\n              onKeyPress={(e) => {\r\n                if (e.key === \"Enter\") e.target.blur();\r\n              }}\r\n              className=\"p-1 bg-transparent w-full  text-xs border-b-2 focus:border-green-700 hover:border-green-700  cursor-pointer\"\r\n            />\r\n          )}\r\n        </div>\r\n      </div>\r\n      <div className=\"w-1/4\">\r\n        <CountButton count={units} changeCount={changeCount} />\r\n      </div>\r\n\r\n      <div className=\"text-right text-xs px-3 flex items-center flex-nowrap flex-shrink-0 justify-center w-1/3 sm:w-1/4\">\r\n        <span className={units > 0 ? \"text-gray-800\" : \"text-gray-400\"}>{units > 0 ? \" \" : \"$\"}</span>\r\n        <input\r\n          className={`p-1 w-9 bg-transparent  text-xs text-center  border-b focus:border-green-700 hover:border-green-700  cursor-pointer`}\r\n          name=\"rate\"\r\n          value={rate}\r\n          type=\"number\"\r\n          onChange={changeRate}\r\n          onFocus={(e) => e.target.select()}\r\n          onKeyPress={(e) => {\r\n            if (e.key === \"Enter\") {\r\n              e.target.blur();\r\n            }\r\n          }}\r\n        />\r\n        <span className={`truncate ${units > 0 ? \"text-gray-800\" : \"text-gray-400\"} `}>\r\n          {units > 0 ? ` = $ ${total}` : \"/ unit\"}\r\n        </span>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n","export const defaultMaterials = [\r\n  {\r\n    id: \"q3lYEM\",\r\n    name: \"Small Box\",\r\n    volume: 1.5,\r\n    w: \"16 3/8\",\r\n    d: \"12 5/8\",\r\n    h: \"12 5/8\",\r\n    units: 0,\r\n    img: \"img/small.png\",\r\n    history: {},\r\n    rate: 3,\r\n  },\r\n  {\r\n    id: \"KX1q8A\",\r\n    name: \"Medium Box\",\r\n    volume: 3.0,\r\n    w: \"18\",\r\n    d: \"18\",\r\n    h: \"16\",\r\n    units: 0,\r\n    img: \"img/medium.png\",\r\n    history: {},\r\n    rate: 4,\r\n  },\r\n  {\r\n    id: \"AT9F5y\",\r\n    name: \"Large Box\",\r\n    volume: 4.5,\r\n    w: \"18\",\r\n    d: \"18\",\r\n    h: \"24\",\r\n    units: 0,\r\n    img: \"img/large.png\",\r\n    history: {},\r\n    rate: 5,\r\n  },\r\n  {\r\n    id: \"L2NPOm\",\r\n    name: \"Mattress Bag\",\r\n    description: \"For use on mattresses & box springs\",\r\n    units: 0,\r\n    img: \"img/matbags.png\",\r\n    history: {},\r\n    rate: 5,\r\n  },\r\n  {\r\n    id: \"Zb53TO\",\r\n    name: `Wardrobe (Rent)`,\r\n    rent: true,\r\n    volume: 13,\r\n    w: \"24\",\r\n    d: \"24\",\r\n    h: \"40\",\r\n\r\n    units: 0,\r\n    img: \"img/wardrobe.png\",\r\n    history: {},\r\n    rate: 5,\r\n  },\r\n  {\r\n    id: \"jj4ghI\",\r\n    name: \"TV Box S\",\r\n    units: 0,\r\n    img: \"img/tv.png\",\r\n    //     small 46 x 6 x30\r\n    // large 56 x 6 x 36\r\n    // xl 64 x 6 x40\r\n    w: \"46\",\r\n    d: \"6\",\r\n    h: \"30\",\r\n    history: {},\r\n    rate: 25,\r\n  },\r\n\r\n  {\r\n    id: \"fjCPOT\",\r\n    name: \"Small Mirror Pak\",\r\n    volume: 13,\r\n    w: \"37 5/16\",\r\n    d: \"4 3/8\",\r\n    h: \"26 15/16\",\r\n\r\n    units: 0,\r\n    img: \"img/smirror.png\",\r\n    history: {},\r\n    rate: 5,\r\n  },\r\n  {\r\n    id: \"UmttCz\",\r\n    name: \"Large Mirror Pak\",\r\n    volume: 13,\r\n    w: \"48\",\r\n    d: \"4 1/2\",\r\n    h: \"33\",\r\n\r\n    units: 0,\r\n    img: \"img/lmirror.png\",\r\n    history: {},\r\n    rate: 10,\r\n  },\r\n  {\r\n    id: \"Aic8ie\",\r\n    name: \"Flat Wardrobe\",\r\n    volume: 13,\r\n    w: \"35\",\r\n    d: \"20\",\r\n    h: \"9\",\r\n\r\n    units: 0,\r\n    img: \"img/laydown.png\",\r\n    history: {},\r\n    rate: 5,\r\n  },\r\n  {\r\n    id: \"XjYPgM\",\r\n    name: \"Wardrobe (Buy)\",\r\n    volume: 13,\r\n    w: \"24\",\r\n    d: \"24\",\r\n    h: \"40\",\r\n\r\n    units: 0,\r\n    img: \"img/wardrobe.png\",\r\n    history: {},\r\n    rate: 15,\r\n  },\r\n  {\r\n    id: \"dW96Oj\",\r\n    name: \"Paper Pads\",\r\n    units: 0,\r\n    img: \"img/pads.png\",\r\n    history: {},\r\n    rate: 2,\r\n  },\r\n  {\r\n    id: \"K6HCr1\",\r\n    name: \"Stretch Wrap\",\r\n    units: 0,\r\n    img: \"img/wrap.png\",\r\n    history: {},\r\n    rate: 20,\r\n  },\r\n  {\r\n    id: \"s1s12u\",\r\n    name: \"Carpet Protection\",\r\n    units: 0,\r\n    img: \"img/carpet.png\",\r\n    history: {},\r\n    rate: 45,\r\n  },\r\n  {\r\n    id: \"INaIjO\",\r\n    name: \"Ropes\",\r\n    units: 0,\r\n    img: \"img/rope.png\",\r\n    history: {},\r\n    rate: 5,\r\n  },\r\n  {\r\n    id: \"s0mSbR\",\r\n    name: \"Blankets\",\r\n    units: 0,\r\n    img: \"img/blanket.png\",\r\n    history: {},\r\n    rate: 10,\r\n  },\r\n];\r\n","export function disabledEventPropagation(e) {\r\n  if (e) {\r\n    if (e.stopPropagation) {\r\n      e.stopPropagation();\r\n    } else if (window.event) {\r\n      window.event.cancelBubble = true;\r\n    }\r\n  }\r\n}\r\n\r\nexport function getFormattedDate(date) {\r\n  let year = date.getFullYear();\r\n  let month = (1 + date.getMonth()).toString().padStart(2, \"0\");\r\n  let day = date.getDate().toString().padStart(2, \"0\");\r\n\r\n  return month + \"/\" + day + \"/\" + year;\r\n}\r\n\r\n//MERGES DEFAULT STATE WITH PROVIDER STATE\r\nexport const mergeDefaultWProvider = (base, state) => {\r\n  if (!base || state === undefined) return {};\r\n  const newMerge = base.map((b) => {\r\n    const match = state?.find((s) => s.id === b.id);\r\n    if (match) {\r\n      const { Icon, Guide, ...s } = { Icon: {}, Guide: {}, ...match };\r\n      return { ...b, ...s };\r\n    } else {\r\n      return b;\r\n    }\r\n  });\r\n  return [...newMerge, ...state?.filter((s) => s.isCustom)];\r\n};\r\n\r\nexport function timeToDecimal(t) {\r\n  if (!t) return \"\";\r\n  var arr = t.split(\":\");\r\n  var dec = parseInt((arr[1] / 6) * 10, 10);\r\n\r\n  return parseFloat(parseInt(arr[0], 10) + \".\" + (dec < 10 ? \"0\" : \"\") + dec);\r\n}\r\n\r\nexport function convertToHHMM(info) {\r\n  var hrs = parseInt(Number(info));\r\n  var min = Math.round((Number(info) - hrs) * 60);\r\n  return hrs + \":\" + (min < 10 ? \"0\" : \"\") + min;\r\n}\r\n\r\n// export  function time_convert(num)\r\n//  {\r\n//   var hours = Math.floor(num / 60);\r\n//   var minutes = (num *60)  % 60;\r\n//   return hours + \":\" + minutes;\r\n// }\r\n\r\nexport function money_round(num) {\r\n  return Math.ceil(num * 100) / 100;\r\n}\r\n\r\nexport function incrementDate(dateString) {\r\n  const date = dateString ? new Date(dateString) : new Date();\r\n  date.setDate(date.getDate() + 1);\r\n  return getFormattedDate(date);\r\n}\r\nexport function decrementDate(dateString) {\r\n  const date = dateString ? new Date(dateString) : new Date();\r\n  date.setDate(date.getDate() - 1);\r\n  return getFormattedDate(date);\r\n}\r\n\r\nexport function truncateString(str, num) {\r\n  // If the length of str is less than or equal to num\r\n  // just return str--don't truncate it.\r\n  if (str.length <= num) {\r\n    return str;\r\n  }\r\n  // Return str truncated with '...' concatenated to the end of str.\r\n  return str.slice(0, num) + \"...\";\r\n}\r\n\r\nexport function filterGroup(group, showNumber = 4, defValue, defFun = (v) => v > 0) {\r\n  if (!group || !Array.isArray(group)) return [];\r\n  let remainder = showNumber - group?.filter((g) => defFun(g[defValue]) || g.isCustom).length;\r\n  return group?.filter((g) => {\r\n    if (remainder > 0 && !defFun(g[defValue]) && !g.isCustom) {\r\n      remainder--;\r\n      return true;\r\n    }\r\n    return defFun(g[defValue]) || g.isCustom;\r\n  });\r\n}\r\n","import React, { useContext, useReducer, createContext, useEffect } from \"react\";\r\n// import { defaultMove } from \"../../utils/defaultMove\";\r\nimport { money_round, convertToHHMM, timeToDecimal } from \"../../utils/helperFunctions\";\r\n// import { useKeyPress } from \"../../utils/useKeyPress\";\r\n// const small = useKeyPress(\"q\");\r\n// console.log(small);\r\n// const medium = useKeyPress(\"w\");\r\n// const large = useKeyPress(\"e\");\r\n// const mattressbag = useKeyPress(\"r\");\r\n// const wardrobeRent = useKeyPress(\"t\");\r\n// const wardrobeBuy = useKeyPress(\"y\");\r\n// const num1 = useKeyPress(\"1\");\r\n// const num2 = useKeyPress(\"2\");q\r\n// const num3 = useKeyPress(\"3\");\r\n// const num4 = useKeyPress(\"4\");\r\n// const num5 = useKeyPress(\"5\");\r\n\r\n// useEffect(() => {\r\n//   if (small) {\r\n//     dispatch({ type: \"keyAdd\", payload: \"q3lYEM\" });\r\n//   }\r\n//   return () => {};\r\n// }, [small]);\r\n\r\nconst MoveContext = createContext();\r\nconst MoveDispatchContext = createContext();\r\n\r\nconst useMove = () => {\r\n  const context = useContext(MoveContext);\r\n  if (context === undefined) {\r\n    throw new Error(\"useMove must be used within a MoveProvider\");\r\n  }\r\n  return context;\r\n};\r\nconst useMoveDispatch = () => {\r\n  const context = useContext(MoveDispatchContext);\r\n  if (context === undefined) {\r\n    throw new Error(\"useMoveDispatch must be used within a MoveDispatchProvider\");\r\n  }\r\n  return context;\r\n};\r\n\r\nconst moveReducer = (state, { field, value = \"\", type, groupName, payload, id = null }) => {\r\n  console.log({ field, type, payload, id, value });\r\n  if (!type && field) {\r\n    return {\r\n      ...state,\r\n      [field]: value,\r\n    };\r\n  } else {\r\n    const group = state[groupName];\r\n    switch (type) {\r\n      case \"fieldsUpdate\": {\r\n        //UPDATE MULTIPLE FIELDS\r\n        return {\r\n          ...state,\r\n          ...payload,\r\n        };\r\n      }\r\n      case \"groupUpdate\": {\r\n        if (!id || !groupName || !group) return { ...state };\r\n        return {\r\n          ...state,\r\n          [groupName]: group?.find((g) => g.id === id)\r\n            ? group?.map((g) => (id === g.id ? { ...g, ...payload } : g))\r\n            : [...group, { id, ...payload }],\r\n        };\r\n      }\r\n      case \"groupClear\": {\r\n        if (!groupName) return { ...state };\r\n        return {\r\n          ...state,\r\n          [groupName]: [],\r\n        };\r\n      }\r\n      case \"groupRemove\": {\r\n        if (!id || !groupName) return { ...state };\r\n        return {\r\n          ...state,\r\n          [groupName]: group.filter((g) => g.id !== id),\r\n        };\r\n      }\r\n      case \"clearData\": {\r\n        return {};\r\n      }\r\n      default:\r\n        return state;\r\n    }\r\n  }\r\n};\r\n\r\n// const delay = ms => new Promise(resolve => setTimeout(resolve, ms));\r\n\r\n// const getDataFromAPI = async () => {\r\n//   await delay(2000);\r\n//   return {\r\n//     my: \"data\"\r\n//   };\r\n// };\r\n\r\nconst getInitialState = () => {\r\n  if (\"move\" in localStorage) {\r\n    try {\r\n      return JSON.parse(localStorage.getItem(\"move\"));\r\n    } catch (err) {\r\n      return {};\r\n    }\r\n  } else {\r\n    return {};\r\n    // return defaultMove;\r\n  }\r\n};\r\n\r\nconst withLocalStorageCache = (reducer) => {\r\n  return (state, action) => {\r\n    const newState = reducer(state, action);\r\n    localStorage.setItem(\"move\", JSON.stringify(newState));\r\n    return newState;\r\n  };\r\n};\r\n\r\nconst MoveProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(withLocalStorageCache(moveReducer), getInitialState());\r\n\r\n  const {\r\n    valuation,\r\n    valuationCost,\r\n    valuationCostWithDeductible,\r\n    shipmentValue,\r\n    valuationRate,\r\n    valuationRateWithDeductible,\r\n    estimatedWeight,\r\n    hourlyRate,\r\n    travelTime,\r\n    totalHours,\r\n    startTime,\r\n    endTime,\r\n    arriveTime,\r\n    departTime,\r\n    breakTime,\r\n    subtotal,\r\n    materials = [],\r\n    miscFees = [],\r\n    isTravelFeeFixed,\r\n    travelFee,\r\n    totalValuation,\r\n    cubicWeight,\r\n    // adjustment,\r\n    netWeight,\r\n    grossWeight,\r\n    tareWeight,\r\n    weightType,\r\n    mileageRate,\r\n    totalMovingCharges,\r\n    totalAmountPaid,\r\n    flatIsMaterialsIncluded,\r\n    // remainingBalance,\r\n    paymentOption,\r\n    totalTransportation,\r\n    jobType,\r\n    flatAmount,\r\n    totalMaterials,\r\n    totalMiscFees,\r\n  } = state;\r\n\r\n  /*########## INITIAL VALUES ##########*/\r\n  // useEffect(() => {\r\n  //   if (state === {}) dispatch({\r\n  //     type: \"fieldsUpdate\",\r\n  //     payload: baseValues\r\n  //   }))\r\n  //   return () => {\r\n  //     cleanup\r\n  //   }\r\n  // }, [state])\r\n\r\n  /*########## TOTAL VALUATION ##########*/\r\n\r\n  useEffect(() => {\r\n    dispatch({\r\n      field: \"totalValuation\",\r\n      value: valuation === \"basic\" ? 0 : valuation === \"replacement\" ? valuationCost : valuationCostWithDeductible,\r\n    });\r\n  }, [valuation, valuationCost, valuationCostWithDeductible, dispatch]);\r\n\r\n  /*########## VALUATION COSTS ##########*/\r\n  useEffect(() => {\r\n    // if (shipmentValue < estimatedWeight * 5) {\r\n    //   dispatch({\r\n    //     field: \"shipmentValue\",\r\n    //     value: estimatedWeight * 5,\r\n    //   });\r\n    // }\r\n    dispatch({\r\n      type: \"fieldsUpdate\",\r\n      payload: {\r\n        valuationCost: Math.ceil((Number(shipmentValue) / 100) * Number(valuationRate) * 100) / 100,\r\n        valuationCostWithDeductible:\r\n          Math.ceil((Number(shipmentValue) / 100) * Number(valuationRateWithDeductible) * 100) / 100,\r\n      },\r\n    });\r\n  }, [shipmentValue, valuationRate, valuationRateWithDeductible, dispatch]);\r\n\r\n  /*########## SHIPMENT VALUE ##########*/\r\n  useEffect(() => {\r\n    // if (shipmentValue < estimatedWeight * 5) {\r\n    dispatch({\r\n      field: \"shipmentValue\",\r\n      value: Number(estimatedWeight) * 5,\r\n    });\r\n    // }\r\n  }, [estimatedWeight, dispatch]);\r\n\r\n  /*########## TOTAL MATERIALS ##########*/\r\n  useEffect(() => {\r\n    // let value = 0;\r\n    // if (!!jobType && jobType === \"flatRate\" && !!flatIsMaterialsIncluded && flatIsMaterialsIncluded === true) {\r\n    //   value = 0\r\n    // }\r\n    // if (!!materials) {\r\n    // dispatch({\r\n    //   field: \"totalMaterials\",\r\n    //   value:\r\n    //     jobType === \"flatRate\" && flatIsMaterialsIncluded === true\r\n    //       ? \"0\"\r\n    //       : materials.reduce((sum, { units = 0, rate = 0 }) => sum + Number(units) * Number(rate), 0),\r\n    // });\r\n    // }\r\n  }, [materials, jobType, flatIsMaterialsIncluded, dispatch]);\r\n\r\n  /*########## TOTAL MISC FEES ##########*/\r\n  useEffect(() => {\r\n    // dispatch({\r\n    //   field: \"totalMiscFees\",\r\n    //   value: miscFees.reduce((sum, { value = 0, selected = false }) => sum + (selected ? Number(value) : 0), 0),\r\n    // });\r\n  }, [miscFees, flatIsMaterialsIncluded, dispatch]);\r\n\r\n  /*########## TOTAL HOURS ##########*/\r\n  useEffect(() => {\r\n    const begin = timeToDecimal(isTravelFeeFixed ? arriveTime : startTime);\r\n    let finish = timeToDecimal(isTravelFeeFixed ? departTime : endTime);\r\n    const breaks = timeToDecimal(breakTime);\r\n\r\n    if (begin > finish) finish += 12;\r\n    const th = finish - begin - breaks;\r\n\r\n    dispatch({\r\n      field: \"totalHours\",\r\n      value: convertToHHMM(th >= 0 ? th : 0),\r\n    });\r\n  }, [totalHours, startTime, endTime, arriveTime, departTime, breakTime, isTravelFeeFixed, dispatch]);\r\n\r\n  /*########## TRAVEL FEE ##########*/\r\n  useEffect(() => {\r\n    let value = \"0\";\r\n    const field = \"travelfee\";\r\n\r\n    if (!!hourlyRate && !!travelTime) value = (Number(hourlyRate) * Number(travelTime)).toString();\r\n\r\n    dispatch({ field, value });\r\n  }, [travelTime, hourlyRate, dispatch]);\r\n  useEffect(() => {\r\n    let value = 0;\r\n    const field = \"netWeight\";\r\n\r\n    if (!!weightType && !!cubicWeight && weightType === \"cubicWeight\") {\r\n      value = cubicWeight;\r\n    }\r\n\r\n    if (!!weightType && weightType === \"weightTicket\") {\r\n      const diff = Number(!!grossWeight ? grossWeight : 0) - Number(!!tareWeight ? tareWeight : 0);\r\n      value = diff > 0 ? diff : 0;\r\n    }\r\n    dispatch({ field, value });\r\n  }, [weightType, cubicWeight, netWeight, grossWeight, tareWeight, dispatch]);\r\n\r\n  /*########## TOTAL TRANSPORTATION ##########*/\r\n  useEffect(() => {\r\n    let value = 0;\r\n    const field = \"totalTransportation\";\r\n\r\n    if (jobType === \"flatRate\" && !!flatAmount) value = Number(flatAmount);\r\n    if (jobType === \"local\" && !!hourlyRate && !!totalHours) {\r\n      console.log({ hourlyRate, totalHours, isTravelFeeFixed, travelFee });\r\n      value = Number(timeToDecimal(totalHours)) * Number(hourlyRate);\r\n      if (!!isTravelFeeFixed && !!travelFee) value += Number(travelFee);\r\n    }\r\n    if (jobType === \"longDistance\" && !!netWeight && !!mileageRate) value = Number(netWeight) * Number(mileageRate);\r\n    value.toString();\r\n\r\n    dispatch({ field, value });\r\n  }, [jobType, flatAmount, totalHours, hourlyRate, netWeight, mileageRate, travelFee, isTravelFeeFixed, dispatch]);\r\n\r\n  /*########## SUBTOTAL ##########*/\r\n  useEffect(() => {\r\n    dispatch({\r\n      field: \"subtotal\",\r\n      value: sum([totalTransportation, totalMiscFees, totalMaterials, totalValuation]).toString(),\r\n    });\r\n  }, [\r\n    totalTransportation,\r\n    totalMiscFees,\r\n    totalMaterials,\r\n    totalValuation,\r\n    // adjustment,\r\n    // totalMovingCharges,\r\n    // totalAmountPaid,\r\n    // remainingBalance,\r\n  ]);\r\n\r\n  // //TODO totalMiscFees\r\n\r\n  /*########## ADJUSTMENT & TOTAL MOVINGCHARGES ##########*/\r\n  useEffect(() => {\r\n    let adjustment = 0;\r\n\r\n    switch (paymentOption) {\r\n      case \"cash\":\r\n        adjustment = -5 / 100;\r\n        break;\r\n      case \"card\":\r\n        adjustment = 3 / 100;\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n\r\n    const adjustmentNumber = Number(subtotal) * adjustment;\r\n    const totalMovingChargesNumber = Number(subtotal) * (1 + Number(adjustment));\r\n\r\n    dispatch({\r\n      type: \"fieldsUpdate\",\r\n      payload: {\r\n        adjustment: money_round(adjustmentNumber).toString(),\r\n        totalMovingCharges: money_round(totalMovingChargesNumber).toString(),\r\n      },\r\n    });\r\n\r\n    return () => {};\r\n  }, [paymentOption, subtotal]);\r\n\r\n  /*########## REMAINING BALANCE ##########*/\r\n  useEffect(() => {\r\n    const remainingBalanceNumber = Number(totalMovingCharges) - Number(totalAmountPaid);\r\n\r\n    dispatch({\r\n      field: \"remainingBalance\",\r\n      value: money_round(remainingBalanceNumber).toString(),\r\n    });\r\n  }, [totalAmountPaid, totalMovingCharges]);\r\n  //TODO totalAmountPaid\r\n\r\n  //TODO remianing balance\r\n\r\n  return (\r\n    <MoveContext.Provider value={state}>\r\n      <MoveDispatchContext.Provider value={dispatch}>{children}</MoveDispatchContext.Provider>\r\n    </MoveContext.Provider>\r\n  );\r\n};\r\n\r\nexport { MoveProvider, useMove, useMoveDispatch };\r\n\r\nfunction sum(arr) {\r\n  if (!!arr) return 0;\r\n  const reducer = (accumulator, currentValue) => (!!currentValue ? accumulator + Number(currentValue) : accumulator);\r\n  const sumIs = arr.reduce(reducer);\r\n  console.log({ sumIs });\r\n  return sumIs;\r\n}\r\n","import { memo } from \"react\";\r\n\r\nexport const SectionTitle = memo(\r\n  ({ title, plus = true, hidePlus = false, Icon = undefined, Icon2 = undefined, onClick, onClick2 }) => {\r\n    return (\r\n      <div className=\"flex justify-between  text-purple-500 border-b-2 mx-3 mt-2 border-purple-500\">\r\n        <h2 className=\"text-lg  px-4   font-medium \"> {title}</h2>\r\n        {!hidePlus && (\r\n          <div className=\"text-gray-600 cursor-pointer select-none font-thin \">\r\n            {onClick2 && Icon2 && (\r\n              <span onClick={onClick2} className=\"hover:text-purple-500  px-3 rounded-lg  \">\r\n                {Icon2 ? <Icon2 className=\"p-1\" /> : plus ? \"+\" : \"\"}\r\n              </span>\r\n            )}\r\n            <span onClick={onClick} className=\"  hover:text-purple-500  px-3 rounded-lg  \">\r\n              {Icon ? <Icon className=\"p-1\" /> : plus ? \"+\" : \"\"}\r\n            </span>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n);\r\n","import React, { memo } from \"react\";\r\nimport { AddCircle, ArrowDropDown, ArrowDropUp } from \"@material-ui/icons\";\r\n\r\nexport const TableFooter = memo(({ showMore, setShowMore, total, handleAdd }) => {\r\n  return (\r\n    <div className=\"text-gray-500  text-xs flex justify-between w-full mx-auto   rounded-b-lg\">\r\n      <div\r\n        onClick={() => handleAdd()}\r\n        className=\"select-none truncate w-1/3 md:w-1/4 flex justify-center items-center shadow-sm bg-white p-2 py-2 rounded-b-md cursor-pointer hover:text-green-800   mr-1\"\r\n      >\r\n        <AddCircle className=\"p-1 mx-2 \" /> Add Custom\r\n      </div>\r\n      <div\r\n        className=\"truncate shadow-sm w-1/3 md:w-1/4 text-xs flex justify-evenly hover:text-gray-800   bg-white  p-2 py-2 rounded-b-md cursor-pointer \"\r\n        onClick={() => setShowMore(!showMore)}\r\n      >\r\n        {showMore ? (\r\n          <span className=\"truncate\">\r\n            Show Less <ArrowDropUp />\r\n          </span>\r\n        ) : (\r\n          <span>\r\n            Show More <ArrowDropDown />\r\n          </span>\r\n        )}\r\n      </div>\r\n      <div className=\"truncate w-1/3 md:w-1/4 shadow-sm flex justify-center bg-white p-2 py-2 rounded-b-md ml-1\">\r\n        Total: <span className=\"px-2\">${total}</span>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n","// import React, { useEffect } from \"react\";\r\nimport { nanoid } from \"nanoid\";\r\nimport { useCallback, useState } from \"react\";\r\nimport { mergeDefaultWProvider } from \"./helperFunctions\";\r\nimport { vibrate } from \"./vibrate\";\r\n\r\nexport const useGroup = (groupName, defaultState, providerState, dispatch) => {\r\n  const [group, setGroup] = useState(mergeDefaultWProvider(defaultState, providerState));\r\n\r\n  const update = useCallback(\r\n    (id, data = {}) => {\r\n      if (!providerState.find((g) => g.id === id)) {\r\n        data = { ...defaultState.find((g) => g.id === id), ...data };\r\n        [\"Icon\", \"Guide\"].forEach((e) => delete data[e]);\r\n      }\r\n      dispatch({ groupName, type: \"groupUpdate\", id, payload: data });\r\n      setGroup((g) => g.map((i) => (id === i.id ? { ...i, ...data } : i)));\r\n    },\r\n    [dispatch, groupName, providerState, defaultState]\r\n  );\r\n  const add = useCallback(\r\n    (propsObj = {}) => {\r\n      const id = nanoid(6);\r\n      const data = { name: `Custom - ${id}`, ...propsObj, isCustom: true };\r\n      dispatch({ groupName, type: \"groupUpdate\", id, payload: data });\r\n      setGroup((g) => [...g, { id, ...data }]);\r\n    },\r\n    [dispatch, groupName]\r\n  );\r\n  const remove = useCallback(\r\n    (id) => {\r\n      dispatch({ groupName, type: \"groupRemove\", id });\r\n      setGroup((g) => g.filter((i) => i.id !== id));\r\n    },\r\n    [dispatch, groupName]\r\n  );\r\n\r\n  const clear = useCallback(() => {\r\n    dispatch({ groupName, type: \"groupClear\" });\r\n    setGroup(defaultState);\r\n    vibrate(500);\r\n  }, [groupName, dispatch, defaultState]);\r\n\r\n  return [group, setGroup, update, add, remove, clear];\r\n};\r\n","import { useState } from \"react\";\r\nimport { Material } from \"./Material\";\r\nimport { defaultMaterials } from \"../../utils/defaultMaterials\";\r\nimport { useMove, useMoveDispatch } from \"../Providers/MoveProvider\";\r\n\r\nimport { SectionTitle } from \"../Layout/SectionTitle\";\r\nimport { TableFooter } from \"../Layout/TableFooter\";\r\nimport { Delete } from \"@material-ui/icons\";\r\nimport { useGroup } from \"../../utils/useGroup\";\r\nimport { filterGroup } from \"../../utils/helperFunctions\";\r\n\r\nexport const MaterialsWProvider = ({ groupName = \"materials\", showMoreDefault = true, state, dispatch, ...rest }) => {\r\n  const { totalMaterials = 0, materials: materialsState = [] } = state;\r\n  const [materials, , update, add, remove, clear] = useGroup(groupName, defaultMaterials, materialsState, dispatch, [\r\n    \"units\",\r\n    \"rate\",\r\n    \"total\",\r\n  ]);\r\n  const [showMore, setShowMore] = useState(showMoreDefault);\r\n  return (\r\n    <>\r\n      <SectionTitle title=\"Materials Used\" Icon={Delete} onClick={clear} />\r\n      <div className=\"flex flex-col mt-2 w-full  mx-auto shadow-sm bg-white rounded-md\">\r\n        {(showMore ? materials : filterGroup(materials, 8, \"units\", (v) => v > 0)).map((m, i) => {\r\n          return <Material key={m.id} handleRemove={remove} handleChange={update} {...m} />;\r\n        })}\r\n      </div>\r\n      <TableFooter showMore={showMore} setShowMore={setShowMore} total={totalMaterials} handleAdd={add} />\r\n    </>\r\n  );\r\n};\r\n\r\nexport const Materials = (props) => {\r\n  const dispatch = useMoveDispatch();\r\n  const move = useMove();\r\n  return <MaterialsWProvider state={move} dispatch={dispatch} {...props} />;\r\n};\r\n","import { useCallback, useRef, useState } from \"react\";\r\n\r\nconst useLongPress = (onLongPress, onClick, { shouldPreventDefault = true, delay = 300 } = {}) => {\r\n  const [longPressTriggered, setLongPressTriggered] = useState(false);\r\n  const timeout = useRef();\r\n  const target = useRef();\r\n\r\n  const start = useCallback(\r\n    (event) => {\r\n      if (shouldPreventDefault && event.target) {\r\n        event.target.addEventListener(\"touchend\", preventDefault, {\r\n          passive: false,\r\n        });\r\n        target.current = event.target;\r\n      }\r\n      timeout.current = setTimeout(() => {\r\n        onLongPress(event);\r\n        setLongPressTriggered(true);\r\n      }, delay);\r\n    },\r\n    [onLongPress, delay, shouldPreventDefault]\r\n  );\r\n\r\n  const clear = useCallback(\r\n    (event, shouldTriggerClick = true) => {\r\n      timeout.current && clearTimeout(timeout.current);\r\n      shouldTriggerClick && !longPressTriggered && onClick();\r\n      setLongPressTriggered(false);\r\n      if (shouldPreventDefault && target.current) {\r\n        target.current.removeEventListener(\"touchend\", preventDefault);\r\n      }\r\n    },\r\n    [shouldPreventDefault, onClick, longPressTriggered]\r\n  );\r\n\r\n  return {\r\n    onMouseDown: (e) => start(e),\r\n    onTouchStart: (e) => start(e),\r\n    onMouseUp: (e) => clear(e),\r\n    onMouseLeave: (e) => clear(e, false),\r\n    onTouchEnd: (e) => clear(e),\r\n  };\r\n};\r\n\r\nconst isTouchEvent = (event) => {\r\n  return \"touches\" in event;\r\n};\r\n\r\nconst preventDefault = (event) => {\r\n  if (!isTouchEvent(event)) return;\r\n\r\n  if (event.touches.length < 2 && event.preventDefault) {\r\n    event.preventDefault();\r\n  }\r\n};\r\n\r\nexport default useLongPress;\r\n","import React, { useRef, useState } from \"react\";\r\n\r\nimport { Clear, Restore } from \"@material-ui/icons/\";\r\nimport useLongPress from \"../../utils/useLongPress\";\r\n\r\nexport const Input = (props) => {\r\n  const {\r\n    name,\r\n    placeholder,\r\n    Icon,\r\n    type = \"text\",\r\n    inputMode,\r\n    step,\r\n    value,\r\n    onChange,\r\n    readOnly = false,\r\n    clear = true,\r\n    units = \"\",\r\n    align = \"left\",\r\n  } = props;\r\n\r\n  const [deletedValue, setDeletedValue] = useState(\"\");\r\n  const [showLabel, setShowLabel] = useState(false);\r\n\r\n  const inputRef = useRef();\r\n\r\n  const onClick = () => {\r\n    setDeletedValue(\"\");\r\n    onChange({ target: { name, value: deletedValue } });\r\n  };\r\n\r\n  const onLongPress = () => setDeletedValue(\"\");\r\n\r\n  const defaultOptions = {\r\n    shouldPreventDefault: true,\r\n    delay: 1000,\r\n  };\r\n\r\n  const longPressEvent = useLongPress(onLongPress, onClick, defaultOptions);\r\n\r\n  return (\r\n    <div className=\"relative text-gray-600 focus-within:text-red-400 w-100 m-2 \">\r\n      {(value?.length > 0 || (type === \"number\" && value > 0)) && showLabel && (\r\n        <span\r\n          className=\"absolute right-10 top-1 z-20  text-white bg-gray-300 text-sm rounded-lg p-1 px-3\"\r\n          onClick={() => setShowLabel(false)}\r\n        >\r\n          {placeholder}\r\n        </span>\r\n      )}\r\n      <span\r\n        className=\"absolute inset-y-0 left-0 flex items-center pl-2 cursor-pointer\"\r\n        onMouseEnter={() => setShowLabel(true)}\r\n        onMouseLeave={() => setShowLabel(false)}\r\n      >\r\n        <Icon />\r\n      </span>\r\n      <input\r\n        ref={inputRef}\r\n        type={type}\r\n        name={name}\r\n        className={` w-full  py-2 pr-10 text-sm text-black bg-white rounded-md border-b-2 pl-12 focus:outline-none focus:bg-white focus:text-gray-900 text-${align}`}\r\n        placeholder={placeholder}\r\n        autoComplete=\"off\"\r\n        value={value}\r\n        onChange={onChange}\r\n        step={step}\r\n        readOnly={readOnly}\r\n        inputMode={inputMode}\r\n      />\r\n      <span className=\"absolute text-xs inset-y-0 right-10 flex items-center px-2 cursor-pointer opacity-20 focus:opacity-100 hover:opacity-100\">\r\n        {units}\r\n      </span>\r\n\r\n      {clear && (value?.length > 0 || (type === \"number\" && value > 0)) ? (\r\n        <span\r\n          className=\"absolute inset-y-0 right-0 flex items-center px-2 cursor-pointer opacity-20 focus:opacity-100 hover:opacity-100\"\r\n          onClick={() => {\r\n            setDeletedValue(value);\r\n            onChange({ target: { name, value: \"\" } });\r\n            inputRef.current.focus();\r\n          }}\r\n        >\r\n          <Clear />\r\n        </span>\r\n      ) : deletedValue ? (\r\n        <span\r\n          className=\"absolute inset-y-0 right-0 flex items-center px-2 cursor-pointer opacity-20 focus:opacity-100 hover:opacity-100\"\r\n          {...longPressEvent}\r\n        >\r\n          <Restore />\r\n        </span>\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n","import React, { useEffect } from \"react\";\r\nimport { Input } from \"../Inputs/Input\";\r\nimport { EmojiPeople, Email, Phone, Home, LocalShipping, AddLocation, Remove, Add } from \"@material-ui/icons/\";\r\n\r\nimport { useMove, useMoveDispatch } from \"../Providers/MoveProvider\";\r\nimport { SectionTitle } from \"../Layout/SectionTitle\";\r\n\r\nexport const Client = () => {\r\n  const client = useMove();\r\n  const dispatch = useMoveDispatch();\r\n  const {\r\n    fullName,\r\n    phoneNumber,\r\n    email,\r\n    originAddress,\r\n    destinationAddress,\r\n    additionalStops,\r\n    anyAdditionalStops,\r\n  } = client;\r\n\r\n  const onChange = (e) => dispatch({ field: e.target.name, value: e.target.value });\r\n\r\n  useEffect(() => {\r\n    document.title = fullName ? `${fullName} - move` : \"Bill of Lading\";\r\n  }, [fullName]);\r\n\r\n  // TODO when address autocomplete is done, if address not found\r\n  // (most likely case of newly built house) allow entry of coordinates\r\n\r\n  // TODO autocomplete address\r\n\r\n  // TODO name parse field\r\n\r\n  // TODO phone number field show\r\n\r\n  // TODO phone number mask\r\n\r\n  // TODO add 2nd contact\r\n\r\n  // TODO add autocomplete @ email\r\n\r\n  // TODO calculate distance as the crow flies\r\n\r\n  return (\r\n    <form action=\"\" method=\"post\">\r\n      <SectionTitle title=\"Contact Info\" hidePlus={true} />\r\n      <Input name=\"fullName\" value={fullName} onChange={onChange} Icon={EmojiPeople} placeholder=\"Full Name\" />\r\n      <Input\r\n        name=\"phoneNumber\"\r\n        value={phoneNumber}\r\n        onChange={onChange}\r\n        Icon={Phone}\r\n        placeholder=\"Phone Number\"\r\n        inputMode=\"numeric\"\r\n        // pattern=\"[0-9]{3}-[0-9]{3}-[0-9]{4}\"\r\n        type=\"tel\"\r\n      />\r\n      <Input name=\"email\" value={email} onChange={onChange} Icon={Email} placeholder=\"Email\" type=\"email\" />\r\n      <SectionTitle\r\n        title=\"Locations\"\r\n        onClick={() =>\r\n          dispatch({\r\n            field: \"anyAdditionalStops\",\r\n            value: !anyAdditionalStops,\r\n          })\r\n        }\r\n        Icon={anyAdditionalStops ? Remove : Add}\r\n      />\r\n      <Input\r\n        name=\"originAddress\"\r\n        value={originAddress}\r\n        onChange={onChange}\r\n        Icon={Home}\r\n        placeholder=\"Starting Point (Origin)\"\r\n      />\r\n      {anyAdditionalStops && (\r\n        <Input\r\n          name=\"additionalStops\"\r\n          value={additionalStops}\r\n          onChange={onChange}\r\n          Icon={AddLocation}\r\n          placeholder=\"Other Stops\"\r\n        />\r\n      )}\r\n      <Input\r\n        name=\"destinationAddress\"\r\n        value={destinationAddress}\r\n        onChange={onChange}\r\n        Icon={LocalShipping}\r\n        placeholder=\"End Point (Destination)\"\r\n      />\r\n    </form>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { NavLink, useRouteMatch } from \"react-router-dom\";\r\n\r\nexport const MoveMenu = ({ showSideMenu, setshowSideMenu, navbarPinned }) => {\r\n  const sideMenuStatus = showSideMenu ? \"\" : \"hidden\";\r\n\r\n  const onClick = () => {\r\n    if (!navbarPinned) setshowSideMenu(false);\r\n  };\r\n  return (\r\n    <div className={`  bg-white ${sideMenuStatus}   lg:rounded-b-lg w-full `}>\r\n      <ul className=\"flex flex-col  list-none lg:ml-auto m-4\">\r\n        <MenuLink to=\"client\" text=\"Client\" onClick={onClick} />\r\n        <MenuLink to=\"rates\" text=\"rates\" onClick={onClick} />\r\n        {/* <MenuLink to=\"inventory\" text=\"inventory\" onClick={onClick} /> */}\r\n        <MenuLink to=\"estimate\" text=\"estimate\" onClick={onClick} />\r\n        <MenuLink to=\"materials\" text=\"materials\" onClick={onClick} />\r\n        <MenuLink to=\"overview\" text=\"overview\" onClick={onClick} />\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst MenuLink = ({ to, text, onClick }) => {\r\n  let { url } = useRouteMatch();\r\n  return (\r\n    <li className=\"px-2 nav-item\">\r\n      <NavLink\r\n        className=\"px-3 py-2 flex items-center text-xs uppercase font-bold leading-snug  hover:opacity-75 ml-2 \"\r\n        to={`${url}/${to}`}\r\n        activeClassName=\"text-red-500\"\r\n        onClick={onClick}\r\n        // replace\r\n      >\r\n        {text}\r\n      </NavLink>\r\n    </li>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { NavigateNext, NavigateBefore, NoteAdd, Menu, TurnedIn, TurnedInNot, Clear } from \"@material-ui/icons\";\r\nimport { useLocation, useHistory, useRouteMatch } from \"react-router-dom\";\r\nimport { MoveMenu } from \"./MoveMenu\";\r\n\r\nimport { isMobile } from \"react-device-detect\";\r\n\r\nexport const MoveBottomBar = () => {\r\n  const [showSideMenu, setshowSideMenu] = React.useState(false);\r\n\r\n  const [navbarPinned, setNavbarPinned] = React.useState(false);\r\n\r\n  let { pathname } = useLocation();\r\n  let { url } = useRouteMatch();\r\n\r\n  const newp = pathname.split(\"/\");\r\n\r\n  let history = useHistory();\r\n\r\n  const steps = [\"client\", \"rates\", \"estimate\", \"materials\", \"overview\"];\r\n  const currentIndex = steps.indexOf(newp[newp.length - 1]);\r\n\r\n  const nextStep = () => {\r\n    if (steps.length - 1 > currentIndex) history.push(`${url}/${steps[currentIndex + 1]}`);\r\n  };\r\n\r\n  const previousStep = () => {\r\n    if (0 < currentIndex) history.push(`${url}/${steps[currentIndex - 1]}`);\r\n  };\r\n\r\n  const note = () => {\r\n    return;\r\n  };\r\n\r\n  const menuToggle = () => {\r\n    return setshowSideMenu(!showSideMenu);\r\n  };\r\n\r\n  const isLastStep = currentIndex === steps.length - 1;\r\n\r\n  return (\r\n    <div\r\n      className={\r\n        isMobile\r\n          ? \"fixed bg-white z-10 bottom-0 left-0  w-full border-t\"\r\n          : \" bg-white rounded-lg w-full mt-0 shadow-xs \"\r\n      }\r\n    >\r\n      {isMobile && (\r\n        <MoveMenu showSideMenu={showSideMenu} setshowSideMenu={setshowSideMenu} navbarPinned={navbarPinned} />\r\n      )}\r\n      <div className=\"w-full justify-between flex\">\r\n        <div className=\"flex\">\r\n          <Button onClick={menuToggle} text=\"Menu\" Icon={showSideMenu ? Clear : Menu} iconPosition=\"left\" />\r\n          {showSideMenu && (\r\n            <Button\r\n              onClick={() => {\r\n                setNavbarPinned(!navbarPinned);\r\n              }}\r\n              text=\"Pin Menu\"\r\n              Icon={navbarPinned ? TurnedIn : TurnedInNot}\r\n              iconPosition=\"left\"\r\n              inactive={true}\r\n            />\r\n          )}\r\n        </div>\r\n        <div className=\"flex\">\r\n          <Button onClick={note} text=\"Note\" Icon={NoteAdd} iconPosition=\"left\" />\r\n          <Button\r\n            onClick={previousStep}\r\n            text=\"Previous\"\r\n            Icon={NavigateBefore}\r\n            iconPosition=\"left\"\r\n            inactive={currentIndex === 0}\r\n          />\r\n          <Button onClick={nextStep} text=\"Next\" Icon={NavigateNext} iconPosition=\"right\" inactive={isLastStep} />\r\n        </div>\r\n      </div>\r\n      {!isMobile && (\r\n        <MoveMenu showSideMenu={showSideMenu} setshowSideMenu={setshowSideMenu} navbarPinned={navbarPinned} />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Button = ({ onClick, text, Icon, iconPosition, inactive = false }) => {\r\n  return (\r\n    <button\r\n      className={`flex px-2   text-xs leading-none  py-4 mx-1 border border-solid border-transparent rounded outline-none focus:outline-none `}\r\n      type=\"button\"\r\n      onClick={onClick}\r\n    >\r\n      {iconPosition === \"left\" ? <Icon fontSize=\"small\" color={inactive ? \"disabled\" : \"inherit\"} /> : null}\r\n      {/* <span className=\"hidden md:block\">{text}</span> */}\r\n      {iconPosition === \"right\" ? <Icon fontSize=\"small\" color={inactive ? \"disabled\" : \"inherit\"} /> : null}\r\n    </button>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\n//   const buttons = [\r\n//     { value: \"local\", placeholder: \"Local (Hourly)\", Icon: AccessTime },\r\n//     { value: \"flatRate\", placeholder: \"Flat Rate\", Icon: CreditCard },\r\n//     { value: \"longDistance\", placeholder: \"Long Distance\", Icon: LocalShipping },\r\n//   ];\r\n\r\nexport const ButtonSelect = ({\r\n  onClick,\r\n  name,\r\n  defaultValue,\r\n  buttons,\r\n  value = defaultValue || buttons[0].value,\r\n  vertical = false,\r\n} = {}) => {\r\n  if (!buttons) return null;\r\n  const handleChange = (value) => onClick({ target: { name, value } });\r\n\r\n  return (\r\n    <div\r\n      className={`flex text-gray-600  ${\r\n        vertical ? \"flex-col\" : \"justify-around\"\r\n      } w-full flex-wrap px-2 my-4 select-none `}\r\n    >\r\n      {buttons.map((button, index) => (\r\n        <Button key={index} onClick={handleChange} selected={value} {...button} />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Button = ({ value, placeholder, onClick, selected, Icon, isDisabled = false }) => {\r\n  const isSelected = selected === value;\r\n  return (\r\n    <div\r\n      className={`rounded-md focus:outline-none truncate flex-grow  flex flex-col md:flex-row items-center  flex-wrap  text-xs sm:text-sm px-2    cursor-pointer  ${\r\n        isSelected ? \"text-gray-800  border-2 border-gray-600  font-semibold  \" : \"\"\r\n      } `}\r\n      onClick={() => !isDisabled && !isSelected && onClick(value)}\r\n    >\r\n      <Icon fontSize=\"small\" color={isDisabled ? \"disabled\" : \"inherit\"} className=\"md:m-1\" />\r\n      <span className={isDisabled ? \"text-gray-400\" : \"\"}> {placeholder}</span>\r\n    </div>\r\n  );\r\n};\r\n","import { LinkOff } from \"@material-ui/icons\";\r\nimport React from \"react\";\r\nimport { money_round } from \"../../utils/helperFunctions\";\r\n\r\nexport const NoInput = ({ value, label, Icon, unit = \"\", type = \"number\" }) => {\r\n  return (\r\n    <div className=\"flex justify-center w-full  \">\r\n      <div className=\"relative text-gray-600 focus-within:text-red-400 w-full   m-2\">\r\n        <span className=\"absolute text-yellow-800 inset-y-0 left-0 flex items-center pl-2 cursor-pointer\">\r\n          <Icon />\r\n        </span>\r\n        <div className=\"flex justify-evenly items-center w-full   py-3 pr-10 text-sm text-black bg-yellow-50 rounded-md border-b-2 pl-10 focus:outline-none focus:bg-white focus:text-gray-900 text-center font-bold cursor-pointer\">\r\n          <span className=\" w-3/5 font-thin text-xs px-2 truncate\">{label}</span>\r\n          <span className=\"w-1/5\">\r\n            {unit === \"$\" && unit + \" \"}\r\n            {type === \"number\"\r\n              ? money_round(value)\r\n                  ?.toString()\r\n                  .replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")\r\n              : value?.toString()}\r\n          </span>\r\n\r\n          <span className=\"font-thin text-xs px-2 truncate w-1/5\">{unit !== \"$\" && unit}</span>\r\n        </div>\r\n\r\n        <span className=\"absolute inset-y-0 right-0 flex items-center px-2 cursor-pointer opacity-20 focus:opacity-100 hover:opacity-100\">\r\n          <LinkOff />\r\n        </span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Input } from \"../Inputs/Input\";\r\nimport { Timelapse, HourglassEmpty, Restore, Update, Timer, AlarmOn } from \"@material-ui/icons/\";\r\n\r\nimport { useMove, useMoveDispatch } from \"../Providers/MoveProvider\";\r\n\r\nimport { NoInput } from \"../Inputs/NoInput\";\r\n// import { TimeInput } from \"../Inputs/TimeInput\";\r\n\r\nexport const Local = () => {\r\n  const client = useMove();\r\n  const dispatch = useMoveDispatch();\r\n  const onChange = (e) => dispatch({ field: e.target.name, value: e.target.value });\r\n\r\n  const {\r\n    isTravelFeeFixed,\r\n    hourlyRate,\r\n    travelTime,\r\n    totalHours,\r\n    startTime,\r\n    endTime,\r\n    arriveTime,\r\n    departTime,\r\n    breakTime,\r\n  } = client;\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <h2>Rates</h2>\r\n      <Input\r\n        name=\"hourlyRate\"\r\n        value={hourlyRate}\r\n        onChange={onChange}\r\n        placeholder=\"Hourly\"\r\n        type=\"number\"\r\n        Icon={() => <span className=\"select-none text-bold\">$/hr</span>}\r\n        step=\"5\"\r\n      />\r\n      <div className=\"flex items-center\">\r\n        <input\r\n          name=\"isTravelFeeFixed\"\r\n          className=\"mr-5 ml-3\"\r\n          checked={isTravelFeeFixed}\r\n          onChange={(e) => dispatch({ field: e.target.name, value: !isTravelFeeFixed })}\r\n          placeholder=\"Total Valuation Cost\"\r\n          type=\"checkbox\"\r\n        />\r\n        <label htmlFor=\"isTravelFeeFixed\">Fixed?</label>\r\n      </div>\r\n      {isTravelFeeFixed ? (\r\n        <div className=\"flex-col\">\r\n          <div className=\"flex justify-between\">\r\n            <label htmlFor=\"travelTime\" className=\" px-2 w-full\">\r\n              Travel Time\r\n            </label>\r\n          </div>\r\n          {/* <div className=\"flex-row\">\r\n                  <label htmlFor=\"startTime\" className=\" px-2\">\r\n                  Fee\r\n                  </label>\r\n                  <Input\r\n                  name=\"travelFee\"\r\n                  value={travelFee}\r\n                  onChange={onChange}\r\n                  placeholder=\"Travel Fee\"\r\n                  type=\"number\"\r\n                  Icon={LocalShipping}\r\n                  />\r\n                </div> */}\r\n          {/* <div className=\"flex-row\"> */}\r\n\r\n          <TravelTime name=\"travelTime\" onChange={onChange} travelTime={travelTime} hourlyRate={hourlyRate} />\r\n          {/* </div> */}\r\n        </div>\r\n      ) : (\r\n        <div className=\"flex\">\r\n          <div className=\"flex-row\">\r\n            <label htmlFor=\"startTime\" className=\" px-2\">\r\n              Start\r\n            </label>\r\n            <Input name=\"startTime\" value={startTime} onChange={onChange} placeholder=\"Start\" Icon={Timer} />\r\n          </div>\r\n          <div className=\"flex-row\">\r\n            <label htmlFor=\"endTime\" className=\" px-2\">\r\n              End\r\n            </label>\r\n            <Input name=\"endTime\" value={endTime} onChange={onChange} placeholder=\"End\" Icon={AlarmOn} />\r\n          </div>\r\n        </div>\r\n      )}\r\n      {/* <h2>Time</h2> */}\r\n      {/* <div className=\"flex\">\r\n          <div className=\"flex-row\">\r\n            <label htmlFor=\"arriveTime\" className=\" px-2\">\r\n              Arrive\r\n            </label>\r\n            <TimeInput\r\n              name=\"arriveTime\"\r\n              value={arriveTime}\r\n              field=\"arriveTime\"\r\n              onChange={onChange}\r\n              placeholder=\"Arrive\"\r\n              Icon={Restore}\r\n            />\r\n          </div>\r\n          <div className=\"flex-row\">\r\n            <label htmlFor=\"departTime\" className=\" px-2\">\r\n              Depart\r\n            </label>\r\n            <TimeInput name=\"departTime\" value={departTime} onChange={onChange} placeholder=\"Depart\" Icon={Update} />\r\n          </div>\r\n        </div> */}\r\n      <div className=\"flex\">\r\n        <div className=\"flex-row\">\r\n          <label htmlFor=\"arriveTime\" className=\" px-2\">\r\n            Arrive\r\n          </label>\r\n          <Input name=\"arriveTime\" value={arriveTime} onChange={onChange} placeholder=\"Arrive\" Icon={Restore} />\r\n        </div>\r\n        <div className=\"flex-row\">\r\n          <label htmlFor=\"departTime\" className=\" px-2\">\r\n            Depart\r\n          </label>\r\n          <Input name=\"departTime\" value={departTime} onChange={onChange} placeholder=\"Depart\" Icon={Update} />\r\n        </div>\r\n      </div>\r\n      <div className=\"flex-row\">\r\n        <label htmlFor=\"breakTime\" className=\" px-2\">\r\n          Breaks\r\n        </label>\r\n        <Input name=\"breakTime\" value={breakTime} onChange={onChange} placeholder=\"Breaks\" Icon={HourglassEmpty} />\r\n      </div>\r\n      <h2>Totals</h2>\r\n      <NoInput value={totalHours?.toString()} Icon={Timelapse} type=\"time\" unit=\"Hrs\" label=\"Total Time\" />\r\n      {/* <Input name=\"totalHours\" value={totalHours} onChange={onChange} placeholder=\"Total Hours\" Icon={AccessTime} /> */}\r\n      {/* <h2>Total hours</h2> */}\r\n      {/* {arriveTime} to {departTime} ={\" \"} */}\r\n      {/* {timeToDecimal(departTime) - timeToDecimal(arriveTime) - timeToDecimal(breakTime)} */}\r\n      {/* <h2 className=\"text-4xl mt-10\">\r\n              Total sum is $ {Number(totalHours) * Number(hourlyRate) + Number(travelFee)}\r\n            </h2> */}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nconst TravelTime = ({ onChange, travelTime, hourlyRate }) => {\r\n  const times = [\r\n    { label: \"0:00 \", value: 0 },\r\n    { label: \"0:15\", value: 0.25 },\r\n    { label: \"0:30 \", value: 0.5 },\r\n    { label: \"0:45 \", value: 0.75 },\r\n    { label: \"1:00 \", value: 1 },\r\n    { label: \"1:15 \", value: 1.25 },\r\n    { label: \"1:30 \", value: 1.5 },\r\n    { label: \"1:45 \", value: 1.75 },\r\n    { label: \"2:00 \", value: 2 },\r\n  ];\r\n  if (hourlyRate)\r\n    times.map((t) => {\r\n      t.label += ` ($${hourlyRate * t.value})`;\r\n      return t;\r\n    });\r\n\r\n  return (\r\n    <select\r\n      name=\"travelTime\"\r\n      value={travelTime}\r\n      onChange={onChange}\r\n      className=\"m-2 w-full  py-2 pr-6 text-sm text-black bg-white rounded-md pl-2 focus:outline-none focus:bg-white focus:text-gray-900\"\r\n    >\r\n      {times.map((t) => (\r\n        <option key={t.label} value={t.value}>\r\n           {t.label.toString()}\r\n        </option>\r\n      ))}\r\n      <option onSelect={() => console.log(\"more\")}>More...</option>\r\n    </select>\r\n  );\r\n};\r\n","import React, { useEffect } from \"react\";\r\nimport { Input } from \"../Inputs/Input\";\r\nimport {\r\n  SettingsEthernet,\r\n  LocalShippingOutlined,\r\n  LocalShippingTwoTone,\r\n  FitnessCenter,\r\n  LocalOffer,\r\n  SettingsOverscan,\r\n  Receipt,\r\n} from \"@material-ui/icons/\";\r\n\r\nimport { useMove, useMoveDispatch } from \"../Providers/MoveProvider\";\r\n\r\n// import { ChipsInput } from \"../Inputs/ChipsInput\";\r\nimport { ButtonSelect } from \"../Inputs/ButtonSelect\";\r\nimport { NoInput } from \"../Inputs/NoInput\";\r\n// import { TimeInput } from \"../Inputs/TimeInput\";\r\n\r\nexport const LongDistance = () => {\r\n  const client = useMove();\r\n  const dispatch = useMoveDispatch();\r\n\r\n  const onChange = (e) => dispatch({ field: e.target.name, value: e.target.value });\r\n\r\n  const { distance, grossWeight, tareWeight, netWeight, mileageRate, cubicWeight, weightType } = client;\r\n\r\n  useEffect(() => {\r\n    if (!weightType)\r\n      dispatch({\r\n        field: \"weightType\",\r\n        value: \"cubicWeight\",\r\n      });\r\n    return () => {};\r\n  }, [weightType, dispatch]);\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"flex\">\r\n        <div className=\"flex flex-col justify-center   w-1/2\">\r\n          <label htmlFor=\"distance\" className=\"text-xs text-center\">\r\n            Distance\r\n          </label>\r\n\r\n          <Input\r\n            units=\"miles\"\r\n            name=\"distance\"\r\n            value={distance}\r\n            onChange={onChange}\r\n            placeholder=\"Distance\"\r\n            Icon={SettingsEthernet}\r\n          />\r\n        </div>\r\n        <div className=\"flex flex-col justify-center   w-1/2\">\r\n          <label htmlFor=\"mileageRate\" className=\"text-xs text-center\">\r\n            Mileage Rate\r\n          </label>\r\n          <Input\r\n            name=\"mileageRate\"\r\n            value={mileageRate}\r\n            onChange={onChange}\r\n            placeholder=\"Mileage Rate\"\r\n            Icon={LocalOffer}\r\n            units=\"$/lbs.\"\r\n          />\r\n        </div>\r\n      </div>\r\n      <WeightType onClick={onChange} value={weightType} />\r\n      {weightType === \"weightTicket\" && (\r\n        <React.Fragment>\r\n          <div className=\"flex\">\r\n            <div className=\"flex flex-col justify-center  w-1/2\">\r\n              {/* <label htmlFor=\"grossWeight\" className=\"text-xs text-center\">\r\n                  Gross Weight (lbs.)\r\n                </label> */}\r\n              <Input\r\n                name=\"grossWeight\"\r\n                value={grossWeight}\r\n                onChange={onChange}\r\n                placeholder=\"Gross Weight\"\r\n                Icon={LocalShippingTwoTone}\r\n                units=\"lbs.\"\r\n              />\r\n            </div>\r\n            <div className=\"flex flex-col justify-center   w-1/2\">\r\n              {/* <label htmlFor=\"tareWeight\" className=\"text-xs text-center\">\r\n                  Tare Weight (lbs.)\r\n                </label> */}\r\n              <Input\r\n                name=\"tareWeight\"\r\n                value={tareWeight}\r\n                onChange={onChange}\r\n                placeholder=\"Tare Weight\"\r\n                Icon={LocalShippingOutlined}\r\n                units=\"lbs.\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <NoInput value={netWeight} Icon={FitnessCenter} unit=\"lbs.\" label=\"Net Weight\" />\r\n        </React.Fragment>\r\n      )}\r\n      {weightType === \"cubicWeight\" && (\r\n        // <label htmlFor=\"netWeight\" className=\"text-xs text-center\">\r\n        //   Net Weight (lbs.)\r\n        // </label>\r\n        <Input\r\n          name=\"cubicWeight\"\r\n          value={cubicWeight}\r\n          onChange={onChange}\r\n          placeholder=\"Cubic Weight\"\r\n          units=\"lbs.\"\r\n          Icon={FitnessCenter}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst WeightType = (props) => {\r\n  const dateTypes = [\r\n    { value: \"cubicWeight\", placeholder: \"Cubic Weight\", Icon: SettingsOverscan },\r\n    { value: \"weightTicket\", placeholder: \"Weight Ticket\", Icon: Receipt },\r\n  ];\r\n  return <ButtonSelect name=\"weightType\" buttons={dateTypes} {...props} />;\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { Input } from \"../Inputs/Input\";\r\n\r\nimport { useMove, useMoveDispatch } from \"../Providers/MoveProvider\";\r\n\r\nexport const FlatRate = () => {\r\n  const [showHelp, setshowHelp] = useState(false);\r\n  const client = useMove();\r\n  const dispatch = useMoveDispatch();\r\n\r\n  const { flatIsMaterialsIncluded } = client;\r\n\r\n  const onChange = (e) => dispatch({ field: e.target.name, value: e.target.value });\r\n\r\n  const { flatAmount } = client;\r\n\r\n  const explanation =\r\n    \"Is this flat amount just for the transportation/labor, or are all the materials included in price?\";\r\n\r\n  return (\r\n    <div>\r\n      <Input\r\n        name=\"flatAmount\"\r\n        value={flatAmount}\r\n        onChange={onChange}\r\n        placeholder=\"Flat Amount\"\r\n        Icon={() => <span>$</span>}\r\n      />\r\n      <input\r\n        name=\"flatIsMaterialsIncluded\"\r\n        className=\"mr-5 ml-3\"\r\n        checked={flatIsMaterialsIncluded}\r\n        onChange={() => {\r\n          dispatch({\r\n            field: \"flatIsMaterialsIncluded\",\r\n            value: !flatIsMaterialsIncluded,\r\n          });\r\n        }}\r\n        placeholder=\"Total Valuation Cost\"\r\n        type=\"checkbox\"\r\n      />\r\n      <label htmlFor=\"flatIsMaterialsIncluded\">\r\n        Materials included?\r\n        <span className=\"text-xs  cursor-pointer select-none pl-4\" onClick={() => setshowHelp(!showHelp)}>\r\n          {!showHelp ? \"> \" : \"x \"} Help\r\n        </span>\r\n      </label>\r\n      {showHelp && <span className=\"block\">{explanation}</span>}\r\n    </div>\r\n  );\r\n};\r\n","import React, { useEffect } from \"react\";\r\nimport { AccessTime, LocalShipping, CreditCard, LocalOfferTwoTone } from \"@material-ui/icons/\";\r\nimport { SectionTitle } from \"../Layout/SectionTitle\";\r\n\r\nimport { useMove, useMoveDispatch } from \"../Providers/MoveProvider\";\r\n\r\n// import { ChipsInput } from \"../Inputs/ChipsInput\";\r\nimport { ButtonSelect } from \"../Inputs/ButtonSelect\";\r\nimport { NoInput } from \"../Inputs/NoInput\";\r\nimport { Local } from \"./Local\";\r\nimport { LongDistance } from \"./LongDistance\";\r\nimport { FlatRate } from \"./FlatRate\";\r\n// import { TimeInput } from \"../Inputs/TimeInput\";\r\n\r\nexport const Rates = () => {\r\n  const client = useMove();\r\n  const dispatch = useMoveDispatch();\r\n\r\n  const onChange = (e) => dispatch({ field: e.target.name, value: e.target.value });\r\n\r\n  const { totalTransportation, jobType } = client;\r\n\r\n  useEffect(() => {\r\n    if (!jobType)\r\n      dispatch({\r\n        field: \"jobType\",\r\n        value: \"local\",\r\n      });\r\n    return () => {};\r\n  }, [jobType, dispatch]);\r\n\r\n  return (\r\n    <form method=\"post\">\r\n      <SectionTitle title=\"Job Type\" hidePlus={true} />\r\n      <JobType onClick={onChange} value={jobType} />\r\n\r\n      {/* <SectionTitle title=\"Crew\" hidePlus={true} /> */}\r\n      {/* <ChipsInput name=\"personnel\" chips={personnel} /> */}\r\n      {/* <DropDown /> */}\r\n\r\n      {jobType === \"flatRate\" && <FlatRate />}\r\n      {jobType === \"longDistance\" && <LongDistance />}\r\n      {jobType === \"local\" && <Local />}\r\n      <NoInput value={totalTransportation} Icon={LocalOfferTwoTone} unit=\"$\" label=\"Total Transportation\" />\r\n    </form>\r\n  );\r\n};\r\n\r\n// function timeToDecimal(t) {\r\n//   var arr = t.split(\":\");\r\n//   var dec = parseInt((arr[1] / 6) * 10, 10);\r\n\r\n//   return parseFloat(parseInt(arr[0], 10) + \".\" + (dec < 10 ? \"0\" : \"\") + dec);\r\n// }\r\n\r\nconst JobType = (props) => {\r\n  const jobTypes = [\r\n    { value: \"local\", placeholder: \"Local (Hourly)\", Icon: AccessTime },\r\n    { value: \"flatRate\", placeholder: \"Flat Rate\", Icon: CreditCard },\r\n    { value: \"longDistance\", placeholder: \"Long Distance\", Icon: LocalShipping },\r\n  ];\r\n\r\n  return <ButtonSelect name=\"jobType\" buttons={jobTypes} {...props} />;\r\n};\r\n","import React from \"react\";\r\nimport { Input } from \"../Inputs/Input\";\r\nimport { FitnessCenter } from \"@material-ui/icons/\";\r\n\r\nimport { useMove, useMoveDispatch } from \"../Providers/MoveProvider\";\r\n\r\nexport const Inventory = () => {\r\n  const client = useMove();\r\n  const dispatch = useMoveDispatch();\r\n  const { estimatedWeight } = client;\r\n\r\n  const onChange = (e) => dispatch({ field: e.target.name, value: e.target.value });\r\n\r\n  return (\r\n    <div>\r\n      Inventory\r\n      <Input\r\n        name=\"estimatedWeight\"\r\n        value={estimatedWeight}\r\n        onChange={onChange}\r\n        Icon={FitnessCenter}\r\n        placeholder=\"Estimated Weight\"\r\n        type=\"number\"\r\n      />\r\n      <div className=\"bg-red-500\"></div>\r\n    </div>\r\n  );\r\n};\r\n","import { Gesture } from \"@material-ui/icons\";\r\nimport React from \"react\";\r\n\r\nexport const SignButton = ({ label = \"Sign\" }) => {\r\n  return (\r\n    <>\r\n      <div className=\"flex justify-center w-full mb-6\">\r\n        <button className=\"bg-blue-500 hover:bg-blue-800 text-white px-6 uppercase py-2 rounded-md\">\r\n          <Gesture className=\"mr-2\" />\r\n          {label}\r\n        </button>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n","import React, { useEffect } from \"react\";\r\nimport { Lock, LockOpen } from \"@material-ui/icons/\";\r\n\r\nimport { useMove, useMoveDispatch } from \"../Providers/MoveProvider\";\r\nimport { SectionTitle } from \"../Layout/SectionTitle\";\r\nimport { ButtonSelect } from \"../Inputs/ButtonSelect\";\r\nimport { SignButton } from \"./SignButton\";\r\n\r\nexport const Estimate = () => {\r\n  // const [hasSigned, setHasSigned] = useState(false);\r\n  const client = useMove();\r\n  const dispatch = useMoveDispatch();\r\n  const { estimateIsBinding, /*agreedToEstimate, estimateAgreedDate,*/ bindingEstimateExists = true } = client;\r\n\r\n  const onChange = (e) => dispatch({ field: e.target.name, value: e.target.value });\r\n\r\n  const buttons = [\r\n    {\r\n      value: false,\r\n      placeholder: \"Non Binding\",\r\n      Icon: LockOpen,\r\n    },\r\n    { value: true, placeholder: \"Binding\", Icon: Lock, isDisabled: !bindingEstimateExists },\r\n  ];\r\n\r\n  useEffect(() => {\r\n    if (estimateIsBinding === undefined)\r\n      dispatch({\r\n        field: \"estimateIsBinding\",\r\n        value: false,\r\n      });\r\n  }, [estimateIsBinding, dispatch]);\r\n\r\n  return (\r\n    <>\r\n      <SectionTitle title=\"Estimate\" hidePlus={true} />\r\n      <ButtonSelect\r\n        onClick={onChange}\r\n        name=\"estimateIsBinding\"\r\n        value={estimateIsBinding}\r\n        buttons={buttons}\r\n        // vertical={true}\r\n      />\r\n      <SignButton label=\"initial\" />\r\n      {/* <div>\r\n        <input\r\n          name=\"agreedToEstimate\"\r\n          className=\"mr-5 ml-3\"\r\n          checked={agreedToEstimate}\r\n          onChange={() => {\r\n            dispatch({\r\n              field: \"agreedToEstimate\",\r\n              value: !agreedToEstimate,\r\n            });\r\n          }}\r\n          placeholder=\"Total Valuation Cost\"\r\n          type=\"checkbox\"\r\n        />\r\n        <label htmlFor=\"agreedToEstimate\">Agreed to estimate?</label>\r\n        {agreedToEstimate && (\r\n          <Input\r\n            name=\"estimateAgreedDate\"\r\n            value={estimateAgreedDate}\r\n            onChange={onChange}\r\n            Icon={EventAvailable}\r\n            placeholder=\"Agreed Date\"\r\n          />\r\n        )}\r\n      </div> */}\r\n    </>\r\n  );\r\n};\r\n\r\n/* <pre>{JSON.stringify(client, 0, 2)}</pre> */\r\n","import { PDFDocument } from \"pdf-lib\";\r\nimport { truncateString } from \"./helperFunctions\";\r\n\r\nexport async function fillBOLForm(client) {\r\n  //const pdf =  http://localhost:3000/material-calculator/pdf/bol.pdf\r\n  const pdf = \"pdf/bol-sfm-fonts.pdf\";\r\n  const baseUrl = window.location.origin.toString() + process.env.PUBLIC_URL + \"/\";\r\n  const formUrl = baseUrl + pdf;\r\n  const formPdfBytes = await fetch(formUrl).then((res) => res.arrayBuffer());\r\n\r\n  const pdfDoc = await PDFDocument.load(formPdfBytes);\r\n\r\n  const pages = pdfDoc.getPages();\r\n  const form = pdfDoc.getForm();\r\n\r\n  const setField = (pdfField, value, condition = false) => {\r\n    if (!pdfField || !value || condition) return;\r\n    if (Array.isArray(value)) value = value.join(\", \");\r\n    return form.getTextField(pdfField).setText(value.toString());\r\n  };\r\n\r\n  const setSignature = async (signature, x, y, width = 25, height = 10) => {\r\n    if (!signature || !x || !y) return;\r\n    const bytes = await fetch(signature).then((res) => res.arrayBuffer());\r\n    const image = await pdfDoc.embedPng(bytes);\r\n    return pages[0].drawImage(image, { x, y, height, width });\r\n  };\r\n\r\n  const setDateField = (date, x, y, size = 10) => {\r\n    if (!date || !x || !y) return;\r\n    return pages[0].drawText(date, { x, y, size });\r\n  };\r\n\r\n  //A. CUSTOMER INFORMATION\r\n  setField(\"Name\", client.fullName);\r\n  setField(\"EMAIL\", client.email);\r\n  setField(\"PHONE\", client.phoneNumber);\r\n  setField(\"Origin\", client.originAddress);\r\n  if (client.anyAdditionalStops === true) setField(\"Other Stops\", client.additionalStops);\r\n  setField(\"Destination\", client.destinationAddress);\r\n  setField(\"Notes\", client.notes);\r\n\r\n  //B. ESTIMATE TYPE\r\n  client.estimateIsBinding\r\n    ? await setSignature(client.initials, 24, 373)\r\n    : await setSignature(client.initials, 24, 462);\r\n\r\n  //C. VALUATION\r\n  if (client.valuation === \"basic\") await setSignature(client.initials, 24, 323);\r\n  if (client.valuation === \"replacementWithDeductible\") await setSignature(client.initials, 24, 275);\r\n  setField(\"valuation with deductible\", client.valuationCostWithDeductible);\r\n  if (client.valuation === \"replacement\") await setSignature(client.initials, 24, 222);\r\n  setField(\"valuation no deductible\", client.valuationCost);\r\n  setField(\"Shipment Value\", client.shipmentValue);\r\n  setField(\"Selected Valuation\", client.totalValuation);\r\n\r\n  // AGREE TO CONTRACT - CREW & CUSTOMER SIGNATURES\r\n  if (client.agreedToEstimate) {\r\n    await setSignature(client.signature, 24, 95, 150, 35);\r\n    setDateField(client.estimateAgreedDate || client.dates[0], 238, 103);\r\n  }\r\n  if (client.crewLeadAssigned) {\r\n    await setSignature(client.crewSignature, 24, 65, 150, 35);\r\n    setDateField(client.dates[0], 238, 73);\r\n  }\r\n\r\n  //APPENDIX INITIALS\r\n  if (client.appendixExists) await setSignature(client.initials, 29, 39, 20, 8);\r\n\r\n  //D.TIME, MILES, MATERIALS, RATES\r\n  setField(\"PERSONNEL\", client.personnel);\r\n\r\n  if (client.jobType === \"local\") {\r\n    if (client.isTravelFeeFixed) {\r\n      setField(\"Travel Fee\", client.travelFee);\r\n    } else {\r\n      setField(\"Hourly Time Start\", client.startTime);\r\n      setField(\"Hourly Time End\", client.endTime);\r\n    }\r\n    setField(\"Hourly Time Arrive\", client.arriveTime);\r\n    setField(\"Hourly Time Depart\", client.departTime);\r\n    setField(\"Hourly Time Breaks\", client.breakTime);\r\n    setField(\"Hourly Time TOTAL\", client.totalHours);\r\n    setField(\"Hourly Rate\", client.hourlyRate);\r\n  }\r\n  if (client.jobType === \"longDistance\") {\r\n    setField(\"Mileage Miles\", client.distance);\r\n    if (client.weightType === \"weightTicket\") {\r\n      setField(\"Mileage Weight Gross\", client.grossWeight);\r\n      setField(\"Mileage Weight Tare\", client.tareWeight);\r\n    }\r\n    setField(\"Mileage Weight Net\", client.netWeight);\r\n    setField(\"Mileage Rate\", client.mileageRate);\r\n  }\r\n  setField(\"Total Transportation\", client.totalTransportation);\r\n\r\n  //PACKING & MATERIAL\r\n  client?.materials\r\n    ?.filter((m) => m.units > 0)\r\n    .forEach((item, index) => {\r\n      const i = index + 1;\r\n      if (index < 9) {\r\n        //TODO remainder send to appendix\r\n        setField(`C${i}`, item.name);\r\n        setField(`QTY C${i}`, item.units);\r\n        setField(`RATE C${i}`, item.rate);\r\n        setField(`TOTAL C${i}`, item.total);\r\n      }\r\n    });\r\n  setField(\"TOTAL PACKING  MATERIAL\", client.totalMaterials);\r\n\r\n  //MISC FEES\r\n  client?.miscFees\r\n    ?.filter((m) => m.value > 0 && m.selected)\r\n    .forEach((item, i) => {\r\n      if (i < 8) {\r\n        //TODO remainder send to appendix\r\n        setField(`M${i + 1}`, truncateString(item.name, 9));\r\n        setField(`AMOUNT M${i + 1}`, item.value);\r\n      }\r\n    });\r\n  setField(\"TOTAL OTHER\", client.totalMiscFees);\r\n\r\n  //E. TOTAL CHARGES\r\n  setField(\"SUBTOTAL 1234\", client.subtotal);\r\n  setField(\"AdjustmentText\", client.adjustmentText);\r\n  setField(\"Adjustment\", client.adjustment);\r\n  setField(\"TOTAL MOVING CHARGES\", client.totalMovingCharges);\r\n  setField(\"TOTAL AMOUNT PAID\", client.totalAmountPaid);\r\n  setField(\"BalanceDueText\", client.balanceDueText);\r\n  setField(\"TIPS  BALANCE DUE\", client.remainingBalance);\r\n\r\n  if (client.jobComplete) {\r\n    await setSignature(client.signature, 320, 32, 150, 35);\r\n    setDateField(client.dates[0], 530, 40);\r\n  }\r\n\r\n  form.flatten();\r\n  const pdfBytes = await pdfDoc.save();\r\n  return pdfBytes;\r\n\r\n  // ;\r\n}\r\n","import { fillBOLForm } from \"../../utils/fillBOLForm\";\r\nimport { useMove } from \"../Providers/MoveProvider\";\r\n\r\nexport const Overview = () => {\r\n  const client = useMove();\r\n\r\n  return (\r\n    <div className=\"w-full\">\r\n      <br></br>\r\n      <button className=\"bg-gray-700 p-2 m-2 text-white\" onClick={() => fillBOLForm(client)}>\r\n        Get bill of lading\r\n      </button>\r\n\r\n      {/* <PreviewPDF client={client} /> */}\r\n    </div>\r\n  );\r\n};\r\n","import {\r\n  DeleteSweep,\r\n  DirectionsBoat,\r\n  DirectionsRun,\r\n  HotTub,\r\n  LocalParking,\r\n  Straighten,\r\n  TwoWheeler,\r\n  Weekend,\r\n  Widgets,\r\n} from \"@material-ui/icons\";\r\n\r\nconst Piano = ({ setValue } = {}) => {\r\n  const value = \"33\";\r\n\r\n  return (\r\n    <div className=\"flex flex-col  justify-between items-center  rounded-md border-b bg-white m-1 p-2\">\r\n      <span>Piano Guide</span>\r\n      <span className=\"text-xs text-gray-400\">\r\n        This guide should show how to set price when item was unexpected and management is unavailable\r\n      </span>\r\n      <div>\r\n        <button\r\n          className=\"text-xs bg-blue-800 rounded-md text-white p-2 m-2\"\r\n          onClick={() => setValue && setValue(value)}\r\n        >\r\n          Set value to ${value}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const defaultMiscFees = [\r\n  {\r\n    id: \"IRmJsc\",\r\n    name: \"Piano\",\r\n    defaultAmount: \"125\",\r\n    Icon: Straighten,\r\n    Guide: Piano,\r\n  },\r\n  {\r\n    id: \"zz7cX7\",\r\n    name: \"Removal (Dump/Donate)\",\r\n    defaultAmount: \"50\",\r\n    pre: \"starts at\",\r\n    Icon: DeleteSweep,\r\n  },\r\n  {\r\n    id: \"KD83m2\",\r\n    name: \"Hoist\",\r\n    defaultAmount: \"350\",\r\n    Icon: Weekend,\r\n  },\r\n  {\r\n    id: \"RtoY57\",\r\n    name: \"Tolls/Ferry\",\r\n    defaultAmount: \"185\",\r\n    Icon: DirectionsBoat,\r\n  },\r\n  {\r\n    id: \"PobHV7\",\r\n    name: \"Storage\",\r\n    defaultAmount: \"100\",\r\n    Icon: Widgets,\r\n  },\r\n  {\r\n    id: \"odrUhV\",\r\n    name: \"Storage Labor\",\r\n    defaultAmount: \"2\",\r\n    Icon: DirectionsRun,\r\n  },\r\n  {\r\n    id: \"3qgVEX\",\r\n    name: \"Bulky\",\r\n    defaultAmount: \"1\",\r\n    Icon: TwoWheeler,\r\n  },\r\n  {\r\n    id: \"gs7eW8\",\r\n    name: \"Hot tub\",\r\n    defaultAmount: \"2\",\r\n    Icon: HotTub,\r\n  },\r\n  {\r\n    id: \"cZYuHW\",\r\n    name: \"Permits\",\r\n    defaultAmount: \"2\",\r\n    Icon: LocalParking,\r\n  },\r\n];\r\n","import { ArrowDropDown, ArrowRight, CheckBoxOutlineBlank, CheckBoxTwoTone, Delete } from \"@material-ui/icons\";\r\nimport React from \"react\";\r\nimport { defaultMiscFees } from \"../../utils/defaultMiscFees\";\r\nimport { SectionTitle } from \"../Layout/SectionTitle\";\r\nimport { TableFooter } from \"../Layout/TableFooter\";\r\nimport { useMove, useMoveDispatch } from \"../Providers/MoveProvider\";\r\nimport { useGroup } from \"../../utils/useGroup\";\r\nimport { filterGroup } from \"../../utils/helperFunctions\";\r\n\r\nexport const MiscFees = ({ groupName = \"miscFees\", showMoreDefault = true }) => {\r\n  const move = useMove();\r\n  const dispatch = useMoveDispatch();\r\n\r\n  const { totalMiscFees = 0, miscFees = [] } = move;\r\n  const [fees, , update, add, remove, clear] = useGroup(groupName, defaultMiscFees, miscFees, dispatch);\r\n\r\n  const [showMore, setShowOnlySelected] = React.useState(showMoreDefault);\r\n  const [justAdded, setJustAdded] = React.useState(false);\r\n  const feeRefs = React.useRef([]);\r\n\r\n  const feesFilter = filterGroup(fees, 4, \"selected\", (v) => v);\r\n\r\n  feeRefs.current = (showMore ? fees : feesFilter).map((f, i) => (feeRefs.current[i] = React.createRef()));\r\n\r\n  React.useEffect(() => {\r\n    if (justAdded) {\r\n      feeRefs.current[\r\n        feeRefs.current.length - 1\r\n      ]?.current?.parentNode?.parentNode?.parentNode?.firstChild?.lastChild?.firstChild?.focus();\r\n      setJustAdded(false);\r\n    }\r\n  }, [justAdded, setJustAdded]);\r\n\r\n  return (\r\n    <>\r\n      <SectionTitle title=\"Misc Fees\" onClick={clear} hidePlus={!!miscFees && miscFees.length === 0} Icon={Delete} />\r\n      <div className=\"mt-2 bg-white rounded-t-md w-full mx-auto\">\r\n        {(showMore ? fees : feesFilter).map((fee, i) => {\r\n          return <Fee key={i} update={update} inputref={feeRefs.current[i]} remove={remove} {...fee} />;\r\n        })}\r\n      </div>\r\n      <TableFooter\r\n        showMore={showMore}\r\n        setShowMore={setShowOnlySelected}\r\n        total={totalMiscFees}\r\n        handleAdd={() => {\r\n          add({ selected: true });\r\n          setJustAdded(true);\r\n        }}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nconst Fee = ({\r\n  name = \"\",\r\n  defaultAmount = 0,\r\n  value = \"\",\r\n  update,\r\n  inputref = null,\r\n  selected = false,\r\n  Icon = undefined,\r\n  Guide = undefined,\r\n  pre = \"\",\r\n  isCustom = false,\r\n  id,\r\n  remove,\r\n  ...rest\r\n}) => {\r\n  const [showGuide, setShowGuide] = React.useState(false);\r\n\r\n  const toggleShowGuide = () => setShowGuide((s) => !s);\r\n\r\n  const setFromGuide = (value) => {\r\n    update(id, { value, selected: true });\r\n  };\r\n\r\n  const toggleSelected = (e = null) => {\r\n    if (e?.target?.name !== \"nameInput\") update(id, { selected: !selected, value: value ? value : defaultAmount });\r\n  };\r\n  return (\r\n    <>\r\n      <div\r\n        data-id={`fee-${id}`}\r\n        className=\"flex flex-col text-gray-800 text-sm cursor-pointer bg-white odd:bg-gray-50\"\r\n        {...rest}\r\n      >\r\n        <div\r\n          className={`flex  justify-between items-center    border-b ${\r\n            selected === true ? \" bg-green-50 hover:bg-green-100\" : `  hover:bg-purple-100`\r\n          }`}\r\n        >\r\n          <div className=\"flex flex-grow p-2 w-3/5\" onClick={toggleSelected}>\r\n            <span>{selected ? <CheckBoxTwoTone className=\"text-green-800\" /> : <CheckBoxOutlineBlank />}</span>\r\n            <span className=\"px-2\">\r\n              {Icon ? (\r\n                <Icon />\r\n              ) : (\r\n                <span className=\"bg-gray-800 text-white px-2 py-1 text-xs uppercase rounded-md\">\r\n                  {(name && name[0]) || \"C\"}\r\n                </span>\r\n              )}\r\n            </span>\r\n            <span className=\" px-2 truncate \">\r\n              {isCustom ? (\r\n                <input\r\n                  name=\"nameInput\"\r\n                  value={name}\r\n                  onFocus={(e) => e.target.select()}\r\n                  onKeyPress={(e) => {\r\n                    if (e.key === \"Enter\") inputref.current.focus();\r\n                  }}\r\n                  onChange={(e) => update(id, { name: e.target.value })}\r\n                  className=\"`w-full  p-1 bg-transparent  text-md border-b-2 focus:border-green-700 hover:border-green-700  cursor-pointer             \"\r\n                />\r\n              ) : (\r\n                `${name}`\r\n              )}\r\n            </span>\r\n          </div>\r\n          <div>\r\n            <div className=\"pr-3 relative\">\r\n              {selected && <span className=\"absolute top-1 select-none text-gray-500\">$</span>}\r\n              <input\r\n                name=\"amountInput\"\r\n                value={value}\r\n                type=\"number\"\r\n                ref={inputref}\r\n                min=\"0\"\r\n                onChange={(e) => update(id, { value: e.target.value })}\r\n                onKeyPress={(e) => {\r\n                  if (e.key === \"Enter\") e.target.blur();\r\n                }}\r\n                onFocus={(e) => e.target.select()}\r\n                className={`w-20 text-right p-1 bg-transparent  text-md border-b-2 focus:border-green-700 hover:border-green-700  cursor-pointer ${\r\n                  selected || isCustom ? \"\" : \"hidden\"\r\n                }`}\r\n              />\r\n              <span\r\n                name=\"usualPrice\"\r\n                onClick={toggleSelected}\r\n                className={`font-thin text-xs px-2 nowrap w-2/5 ${selected || isCustom ? \"hidden\" : \"\"}`}\r\n              >{`${pre ? pre : \"usually \"} $${defaultAmount}`}</span>\r\n            </div>\r\n          </div>\r\n\r\n          <span className=\"px-2  opacity-20 focus:opacity-100 hover:opacity-100\">\r\n            {isCustom ? (\r\n              <Delete className=\"p-1\" onClick={() => remove(id)} />\r\n            ) : Guide ? (\r\n              showGuide ? (\r\n                <ArrowDropDown onClick={toggleShowGuide} />\r\n              ) : (\r\n                <ArrowRight onClick={toggleShowGuide} />\r\n              )\r\n            ) : (\r\n              <div className=\"w-6\"></div>\r\n            )}\r\n          </span>\r\n        </div>\r\n      </div>\r\n      {showGuide && Guide && <Guide setValue={setFromGuide} />}\r\n    </>\r\n  );\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Route, Switch, useRouteMatch, Redirect, useParams } from \"react-router-dom\";\r\nimport { Materials } from \"./Materials\";\r\nimport { Client } from \"./Client\";\r\nimport { MoveBottomBar } from \"./MoveBottomBar\";\r\nimport { Rates } from \"./Rates\";\r\nimport { Inventory } from \"./Inventory\";\r\nimport { Estimate } from \"./Estimate\";\r\nimport { Overview } from \"./Overview\";\r\nimport { MoveProvider } from \"../Providers/MoveProvider\";\r\nimport { MiscFees } from \"./MiscFees\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useFirestore } from \"react-redux-firebase\";\r\n\r\nconst urls = ({ path, url }) => ({\r\n  current: path,\r\n  redirect: `${url}/client`,\r\n\r\n  ...Object.fromEntries(\r\n    [\"materials\", \"client\", \"rates\", \"estimates\", \"inventory\", \"overview\"].map((u) => [u, `${path}/${u}`])\r\n  ),\r\n});\r\n\r\nexport const Move = () => {\r\n  const [links] = useState(urls(useRouteMatch()));\r\n  let { moveId } = useParams();\r\n\r\n  const move = useSelector(({ firestore: { data } }) => data.moves && data.moves[moveId]);\r\n  const firestore = useFirestore();\r\n\r\n  function toggleDone() {\r\n    firestore.update(`moves/${moveId}`, { done: !move.done });\r\n  }\r\n\r\n  function deleteTodo() {\r\n    return firestore.delete(`moves/${moveId}`);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <button onClick={() => console.log(move)}>log it</button>\r\n      <MoveBottomBar />\r\n      <div className=\"flex flex-col items-stretch w-full sm:w-3/4 mx-auto lg:w-1/2 pb-10\">\r\n        <MoveProvider>\r\n          <Switch>\r\n            {/* <Route exact path={links.current} render={() => <Redirect to={links.redirect} />} /> */}\r\n\r\n            <Route path={links.overview}>\r\n              <Overview />\r\n            </Route>\r\n            <Route path={links.materials}>\r\n              <Materials />\r\n              <br></br>\r\n              <MiscFees />\r\n            </Route>\r\n            <Route path={links.client}>\r\n              <Client />\r\n            </Route>\r\n\r\n            <Route path={links.rates}>\r\n              <Rates />\r\n            </Route>\r\n\r\n            <Route path={links.inventory}>\r\n              <Inventory />\r\n            </Route>\r\n            <Route path={links.estimate}>\r\n              <Estimate />\r\n            </Route>\r\n          </Switch>\r\n        </MoveProvider>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n","export const PaymentType = ({ onChange, value }) => {\r\n  const paymentOptions = [\r\n    { label: \"Cash \", value: \"cash\", adjustmentRate: \"-5%\" },\r\n    { label: \"Check\", value: \"check\", adjustmentRate: \"0\" },\r\n    { label: \"Card \", value: \"card\", adjustmentRate: \"3%\" },\r\n    { label: \"Billed Later \", value: \"billLater\" },\r\n  ];\r\n\r\n  return (\r\n    <select\r\n      name=\"paymentOption\"\r\n      value={value}\r\n      onChange={onChange}\r\n      className=\"m-2 w-full  py-2 pr-6 text-sm text-black bg-white rounded-md pl-2 focus:outline-none focus:bg-white focus:text-gray-900\"\r\n    >\r\n      {paymentOptions.map((p) => (\r\n        <option key={p.label} value={p.value}>\r\n          {p.label.toString()}\r\n        </option>\r\n      ))}\r\n      <option onSelect={() => console.log(\"more\")}>More...</option>\r\n    </select>\r\n  );\r\n};\r\n","// This example shows you how to set up React Stripe.js and use Elements.\r\n// Learn how to accept a payment using the official Stripe docs.\r\n// https://www.stripe.com/docs/payments/integration-builder\r\n\r\nimport React, { useState } from \"react\";\r\nimport { loadStripe } from \"@stripe/stripe-js\";\r\nimport { CardElement, Elements, useElements, useStripe } from \"@stripe/react-stripe-js\";\r\nimport \"./card.css\";\r\n\r\nconst CARD_OPTIONS = {\r\n  iconStyle: \"solid\",\r\n  style: {\r\n    base: {\r\n      iconColor: \"#c4f0ff\",\r\n      color: \"#fff\",\r\n      fontWeight: 500,\r\n      fontFamily: \"Roboto, Open Sans, Segoe UI, sans-serif\",\r\n      fontSize: \"16px\",\r\n      fontSmoothing: \"antialiased\",\r\n      \":-webkit-autofill\": {\r\n        color: \"#fce883\",\r\n      },\r\n      \"::placeholder\": {\r\n        color: \"#87bbfd\",\r\n      },\r\n    },\r\n    invalid: {\r\n      iconColor: \"#ffc7ee\",\r\n      color: \"#ffc7ee\",\r\n    },\r\n  },\r\n};\r\n\r\nconst CardField = ({ onChange }) => (\r\n  <div className=\"FormRow\">\r\n    <CardElement options={CARD_OPTIONS} onChange={onChange} />\r\n  </div>\r\n);\r\n\r\nconst Field = ({ label, id, type, placeholder, required, autoComplete, value, onChange }) => (\r\n  <div className=\"FormRow\">\r\n    <label htmlFor={id} className=\"FormRowLabel\">\r\n      {label}\r\n    </label>\r\n    <input\r\n      className=\"FormRowInput\"\r\n      id={id}\r\n      type={type}\r\n      placeholder={placeholder}\r\n      required={required}\r\n      autoComplete={autoComplete}\r\n      value={value}\r\n      onChange={onChange}\r\n    />\r\n  </div>\r\n);\r\n\r\nconst SubmitButton = ({ processing, error, children, disabled }) => (\r\n  <button\r\n    className={`SubmitButton ${error ? \"SubmitButton--error\" : \"\"}`}\r\n    type=\"submit\"\r\n    disabled={processing || disabled}\r\n  >\r\n    {processing ? \"Processing...\" : children}\r\n  </button>\r\n);\r\n\r\nconst ErrorMessage = ({ children }) => (\r\n  <div className=\"ErrorMessage\" role=\"alert\">\r\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 17 17\">\r\n      <path\r\n        fill=\"#FFF\"\r\n        d=\"M8.5,17 C3.80557963,17 0,13.1944204 0,8.5 C0,3.80557963 3.80557963,0 8.5,0 C13.1944204,0 17,3.80557963 17,8.5 C17,13.1944204 13.1944204,17 8.5,17 Z\"\r\n      />\r\n      <path\r\n        fill=\"#6772e5\"\r\n        d=\"M8.5,7.29791847 L6.12604076,4.92395924 C5.79409512,4.59201359 5.25590488,4.59201359 4.92395924,4.92395924 C4.59201359,5.25590488 4.59201359,5.79409512 4.92395924,6.12604076 L7.29791847,8.5 L4.92395924,10.8739592 C4.59201359,11.2059049 4.59201359,11.7440951 4.92395924,12.0760408 C5.25590488,12.4079864 5.79409512,12.4079864 6.12604076,12.0760408 L8.5,9.70208153 L10.8739592,12.0760408 C11.2059049,12.4079864 11.7440951,12.4079864 12.0760408,12.0760408 C12.4079864,11.7440951 12.4079864,11.2059049 12.0760408,10.8739592 L9.70208153,8.5 L12.0760408,6.12604076 C12.4079864,5.79409512 12.4079864,5.25590488 12.0760408,4.92395924 C11.7440951,4.59201359 11.2059049,4.59201359 10.8739592,4.92395924 L8.5,7.29791847 L8.5,7.29791847 Z\"\r\n      />\r\n    </svg>\r\n    {children}\r\n  </div>\r\n);\r\n\r\nconst ResetButton = ({ onClick }) => (\r\n  <button type=\"button\" className=\"ResetButton\" onClick={onClick}>\r\n    <svg width=\"32px\" height=\"32px\" viewBox=\"0 0 32 32\">\r\n      <path\r\n        fill=\"#FFF\"\r\n        d=\"M15,7.05492878 C10.5000495,7.55237307 7,11.3674463 7,16 C7,20.9705627 11.0294373,25 16,25 C20.9705627,25 25,20.9705627 25,16 C25,15.3627484 24.4834055,14.8461538 23.8461538,14.8461538 C23.2089022,14.8461538 22.6923077,15.3627484 22.6923077,16 C22.6923077,19.6960595 19.6960595,22.6923077 16,22.6923077 C12.3039405,22.6923077 9.30769231,19.6960595 9.30769231,16 C9.30769231,12.3039405 12.3039405,9.30769231 16,9.30769231 L16,12.0841673 C16,12.1800431 16.0275652,12.2738974 16.0794108,12.354546 C16.2287368,12.5868311 16.5380938,12.6540826 16.7703788,12.5047565 L22.3457501,8.92058924 L22.3457501,8.92058924 C22.4060014,8.88185624 22.4572275,8.83063012 22.4959605,8.7703788 C22.6452866,8.53809377 22.5780351,8.22873685 22.3457501,8.07941076 L22.3457501,8.07941076 L16.7703788,4.49524351 C16.6897301,4.44339794 16.5958758,4.41583275 16.5,4.41583275 C16.2238576,4.41583275 16,4.63969037 16,4.91583275 L16,7 L15,7 L15,7.05492878 Z M16,32 C7.163444,32 0,24.836556 0,16 C0,7.163444 7.163444,0 16,0 C24.836556,0 32,7.163444 32,16 C32,24.836556 24.836556,32 16,32 Z\"\r\n      />\r\n    </svg>\r\n  </button>\r\n);\r\n\r\nconst CheckoutForm = () => {\r\n  const stripe = useStripe();\r\n  const elements = useElements();\r\n  const [error, setError] = useState(null);\r\n  const [cardComplete, setCardComplete] = useState(false);\r\n  const [processing, setProcessing] = useState(false);\r\n  const [paymentMethod, setPaymentMethod] = useState(null);\r\n  const [billingDetails, setBillingDetails] = useState({\r\n    email: \"\",\r\n    phone: \"\",\r\n    name: \"\",\r\n  });\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n\r\n    if (!stripe || !elements) {\r\n      // Stripe.js has not loaded yet. Make sure to disable\r\n      // form submission until Stripe.js has loaded.\r\n      return;\r\n    }\r\n\r\n    if (error) {\r\n      elements.getElement(\"card\").focus();\r\n      return;\r\n    }\r\n\r\n    if (cardComplete) {\r\n      setProcessing(true);\r\n    }\r\n\r\n    const payload = await stripe.createPaymentMethod({\r\n      type: \"card\",\r\n      card: elements.getElement(CardElement),\r\n      billing_details: billingDetails,\r\n    });\r\n\r\n    setProcessing(false);\r\n\r\n    if (payload.error) {\r\n      setError(payload.error);\r\n    } else {\r\n      setPaymentMethod(payload.paymentMethod);\r\n    }\r\n  };\r\n\r\n  const reset = () => {\r\n    setError(null);\r\n    setProcessing(false);\r\n    setPaymentMethod(null);\r\n    setBillingDetails({\r\n      email: \"\",\r\n      phone: \"\",\r\n      name: \"\",\r\n    });\r\n  };\r\n\r\n  return paymentMethod ? (\r\n    <div className=\"Result\">\r\n      <div className=\"ResultTitle\" role=\"alert\">\r\n        Payment successful\r\n      </div>\r\n      <div className=\"ResultMessage\">\r\n        Thanks for trying Stripe Elements. No money was charged, but we generated a PaymentMethod: {paymentMethod.id}\r\n      </div>\r\n      <ResetButton onClick={reset} />\r\n    </div>\r\n  ) : (\r\n    <form className=\"Form\" onSubmit={handleSubmit}>\r\n      <fieldset className=\"FormGroup\">\r\n        <Field\r\n          label=\"Name\"\r\n          id=\"name\"\r\n          type=\"text\"\r\n          placeholder=\"Jane Doe\"\r\n          required\r\n          autoComplete=\"name\"\r\n          value={billingDetails.name}\r\n          onChange={(e) => {\r\n            setBillingDetails({ ...billingDetails, name: e.target.value });\r\n          }}\r\n        />\r\n        <Field\r\n          label=\"Email\"\r\n          id=\"email\"\r\n          type=\"email\"\r\n          placeholder=\"janedoe@gmail.com\"\r\n          required\r\n          autoComplete=\"email\"\r\n          value={billingDetails.email}\r\n          onChange={(e) => {\r\n            setBillingDetails({ ...billingDetails, email: e.target.value });\r\n          }}\r\n        />\r\n        <Field\r\n          label=\"Phone\"\r\n          id=\"phone\"\r\n          type=\"tel\"\r\n          placeholder=\"(941) 555-0123\"\r\n          required\r\n          autoComplete=\"tel\"\r\n          value={billingDetails.phone}\r\n          onChange={(e) => {\r\n            setBillingDetails({ ...billingDetails, phone: e.target.value });\r\n          }}\r\n        />\r\n      </fieldset>\r\n      <fieldset className=\"FormGroup\">\r\n        <CardField\r\n          onChange={(e) => {\r\n            setError(e.error);\r\n            setCardComplete(e.complete);\r\n          }}\r\n        />\r\n      </fieldset>\r\n      {error && <ErrorMessage>{error.message}</ErrorMessage>}\r\n      <SubmitButton processing={processing} error={error} disabled={!stripe}>\r\n        Pay $25\r\n      </SubmitButton>\r\n    </form>\r\n  );\r\n};\r\n\r\nconst ELEMENTS_OPTIONS = {\r\n  fonts: [\r\n    {\r\n      cssSrc: \"https://fonts.googleapis.com/css?family=Roboto\",\r\n    },\r\n  ],\r\n};\r\n\r\n// Make sure to call `loadStripe` outside of a components render to avoid\r\n// recreating the `Stripe` object on every render.\r\nconst stripePromise = loadStripe(\"pk_test_6pRNASCoBOKtIshFeQd4XMUh\");\r\n\r\nexport const Card = () => {\r\n  return (\r\n    <div className=\"AppWrapper\">\r\n      <h1>CARD PAYMENT</h1>\r\n      <Elements stripe={stripePromise} options={ELEMENTS_OPTIONS}>\r\n        <CheckoutForm />\r\n      </Elements>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { PaymentType } from \"./PaymentType\";\r\nimport { useMove, useMoveDispatch } from \"../Providers/MoveProvider\";\r\nimport { Card } from \"./Card\";\r\n\r\nimport { Input } from \"../Inputs/Input\";\r\n\r\nexport const Payment = () => {\r\n  const client = useMove();\r\n  const { totalAmountPaid, paymentOption } = client;\r\n  const dispatch = useMoveDispatch();\r\n\r\n  const onChange = (e) => dispatch({ field: e.target.name, value: e.target.value });\r\n\r\n  return (\r\n    <div>\r\n      <h2>Payment Type</h2>\r\n      <PaymentType value={paymentOption} onChange={onChange} />\r\n\r\n      <h2>Total Amount Paid</h2>\r\n      <Input\r\n        name=\"totalAmountPaid\"\r\n        value={totalAmountPaid}\r\n        onChange={onChange}\r\n        Icon={() => {\r\n          return <span>$</span>;\r\n        }}\r\n        placeholder=\"Total Amount Paid\"\r\n      />\r\n      {paymentOption && paymentOption === \"card\" && <Card />}\r\n    </div>\r\n  );\r\n};\r\n","import React, { useRef } from \"react\";\r\nimport SignatureCanvas from \"react-signature-canvas\";\r\n\r\nexport const SignatureBlock = ({ type, name, width = 500, height = 200, dispatch }) => {\r\n  // const [imageURL, setImageURL] = useState(null);\r\n\r\n  const sigCanvas = useRef({});\r\n\r\n  const clear = () => {\r\n    sigCanvas.current.clear();\r\n    dispatch({ field: type, value: \"\" });\r\n  };\r\n\r\n  const save = () => {\r\n    const url = sigCanvas.current.getTrimmedCanvas().toDataURL(\"image/png\");\r\n    // setImageURL(url);\r\n    dispatch({ field: type, value: url });\r\n  };\r\n\r\n  return (\r\n    <div className=\"m-5 relative\">\r\n      <h2>{name}</h2>\r\n      <div className=\"rounded-lg p-2 bg-blue-600\">\r\n        <SignatureCanvas\r\n          penColor=\"blue\"\r\n          canvasProps={{\r\n            width,\r\n            height,\r\n            className: \"bg-white rounded-lg\",\r\n          }}\r\n          onEnd={save}\r\n          ref={sigCanvas}\r\n        />\r\n      </div>\r\n      <button className=\"bg-blue-600 p-2 m-2 text-white absolute top-4 right-2 rounded-lg\" onClick={clear}>\r\n        Reset\r\n      </button>\r\n      {/* {imageURL ? (\r\n          <img\r\n            src={imageURL}\r\n            alt=\"my signature\"\r\n            style={{\r\n              display: \"block\",\r\n              margin: \"0 auto\",\r\n              border: \"1px solid black\",\r\n              width: \"500px\",\r\n            }}\r\n          />\r\n        ) : null} */}\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { SignatureBlock } from \"../Inputs/SignatureBlock\";\r\nimport { useMoveDispatch } from \"../Providers/MoveProvider\";\r\n\r\nexport const Signatures = () => {\r\n  const dispatch = useMoveDispatch();\r\n\r\n  return (\r\n    <>\r\n      <div className=\"flex w-full justify-center\">\r\n        <SignatureBlock dispatch={dispatch} type=\"signature\" name=\"Customer Signature\" width=\"300\" />\r\n      </div>\r\n      {/* <div className=\"flex w-full\">\r\n        <SignatureBlock dispatch={dispatch} type=\"initials\" name=\"Customer Initials\" width=\"200\" />\r\n      </div> */}\r\n      {/* <div className=\"flex\">\r\n        <SignatureBlock dispatch={dispatch} type=\"crewSignature\" name=\"Signature of Carrier\" width=\"300\" />\r\n      </div> */}\r\n    </>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { SectionTitle } from \"../Layout/SectionTitle\";\r\nimport { useMove } from \"../Providers/MoveProvider\";\r\n\r\nconst spanClass = \"\";\r\n\r\nexport const Totals = () => {\r\n  const move = useMove();\r\n  const { subtotal, totalValuation, totalTransportation, totalMaterials, totalMiscFees } = move;\r\n  return (\r\n    <>\r\n      <SectionTitle title=\"Totals\" hidePlus={true} />\r\n      <div className=\"flex justify-between mx-auto w-1/2 p-1\">\r\n        <span className={spanClass}>Valuation</span>\r\n        <span className={spanClass}>{totalValuation}</span>\r\n      </div>\r\n      <div className=\"flex justify-between mx-auto w-1/2 p-1\">\r\n        <span className={spanClass}>Transportation</span>\r\n        <span className={spanClass}>{totalTransportation}</span>\r\n      </div>\r\n      <div className=\"flex justify-between mx-auto w-1/2 p-1\">\r\n        <span className={spanClass}>Materials</span>\r\n        <span className={spanClass}>{totalMaterials}</span>\r\n      </div>\r\n      <div className=\"flex justify-between mx-auto w-1/2 p-1\">\r\n        <span className={spanClass}>Specialty Fees</span>\r\n        <span className={spanClass}>{totalMiscFees}</span>\r\n      </div>\r\n      <div className=\"flex justify-between mx-auto w-1/2 p-1 border-t-2 border-double font-bold\">\r\n        <span className={spanClass}>Subtotal</span>\r\n        <span className={spanClass}>{subtotal}</span>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n","import React, { useState, memo } from \"react\";\r\nimport { getFormattedDate } from \"../../utils/helperFunctions\";\r\nimport download from \"downloadjs\";\r\nimport { Document, Page, pdfjs } from \"react-pdf\";\r\nimport { fillBOLForm } from \"../../utils/fillBOLForm\";\r\nimport { useMove } from \"../Providers/MoveProvider\";\r\n\r\npdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.min.js`;\r\n\r\nexport const PreviewPDF = memo(() => {\r\n  const client = useMove();\r\n\r\n  const [data, setData] = useState(null);\r\n\r\n  const [, /*numPages*/ setNumPages] = useState(null);\r\n  const [pageNumber /*setPageNumber*/] = useState(1);\r\n\r\n  const getPreview = async () => {\r\n    const newData = await fillBOLForm(client);\r\n    return setData(newData);\r\n  };\r\n\r\n  const downloadNow = async () => {\r\n    download(\r\n      await fillBOLForm(client),\r\n      `${client.fullName} BOL ${getFormattedDate(new Date())}.pdf`,\r\n      \"application/pdf\"\r\n    );\r\n  };\r\n\r\n  function onDocumentLoadSuccess({ numPages }) {\r\n    setNumPages(numPages);\r\n  }\r\n\r\n  return (\r\n    <div className=\" w-full flex-col flex justify-around items-center relative h-full \">\r\n      <div\r\n        className={data ? \"\" : \"w-full h-full bg-black bg-opacity-75 absolute z-20 flex justify-center items-center\"}\r\n      >\r\n        <button onClick={getPreview} className=\"bg-purple-600 p-4 rounded-lg text-white\">\r\n          {data ? \"Update\" : \"Preview\"}\r\n        </button>\r\n        <button onClick={downloadNow} className=\"bg-gray-600 p-4 rounded-lg text-white ml-10 w-[2px]\">\r\n          Download\r\n        </button>\r\n      </div>\r\n\r\n      <Document\r\n        file={data ? { data } : process.env.PUBLIC_URL + \"/pdf/bol-sfm-fonts.pdf\"}\r\n        onLoadSuccess={onDocumentLoadSuccess}\r\n        renderMode=\"canvas\"\r\n      >\r\n        <Page pageNumber={pageNumber} className=\"flex\" />\r\n      </Document>\r\n\r\n      {/* <p>\r\n          Page {pageNumber} of {numPages}\r\n        </p> */}\r\n    </div>\r\n  );\r\n});\r\n","import { Input } from \"../Inputs/Input\";\r\nimport { EmojiPeople, Email, Phone } from \"@material-ui/icons/\";\r\n\r\nimport { useMove, useMoveDispatch } from \"../Providers/MoveProvider\";\r\nimport { SectionTitle } from \"../Layout/SectionTitle\";\r\n\r\nexport const ContactInfo = (props) => {\r\n  const move = useMove();\r\n  const dispatch = useMoveDispatch();\r\n  const { fullName, phoneNumber, email } = move;\r\n\r\n  const onChange = (e) => dispatch({ field: e.target.name, value: e.target.value });\r\n  return (\r\n    <>\r\n      <SectionTitle title=\"Contact Info\" hidePlus={true} />\r\n      <Input name=\"fullName\" value={fullName} onChange={onChange} Icon={EmojiPeople} placeholder=\"Full Name\" />\r\n      <Input\r\n        name=\"phoneNumber\"\r\n        value={phoneNumber}\r\n        onChange={onChange}\r\n        Icon={Phone}\r\n        placeholder=\"Phone Number\"\r\n        inputMode=\"numeric\"\r\n        type=\"tel\"\r\n      />\r\n      <Input name=\"email\" value={email} onChange={onChange} Icon={Email} placeholder=\"Email\" type=\"email\" />\r\n    </>\r\n  );\r\n};\r\n\r\n// TODO name parse field\r\n// TODO phone number field show\r\n// TODO phone number mask\r\n// TODO add 2nd contact\r\n// TODO add autocomplete @ email\r\n","import React from \"react\";\r\nimport { Input } from \"../Inputs/Input\";\r\nimport { Home, LocalShipping, AddLocation, Remove, Add } from \"@material-ui/icons/\";\r\n\r\nimport { useMove, useMoveDispatch } from \"../Providers/MoveProvider\";\r\nimport { SectionTitle } from \"../Layout/SectionTitle\";\r\n\r\nexport const Locations = () => {\r\n  const client = useMove();\r\n  const dispatch = useMoveDispatch();\r\n  const { originAddress, destinationAddress, additionalStops, anyAdditionalStops } = client;\r\n\r\n  const onChange = (e) => dispatch({ field: e.target.name, value: e.target.value });\r\n\r\n  // TODO when address autocomplete is done, if address not found\r\n  // (most likely case of newly built house) allow entry of coordinates\r\n\r\n  // TODO autocomplete address\r\n\r\n  // TODO calculate distance as the crow flies\r\n\r\n  return (\r\n    <>\r\n      <SectionTitle\r\n        title=\"Locations\"\r\n        onClick={() =>\r\n          dispatch({\r\n            field: \"anyAdditionalStops\",\r\n            value: !anyAdditionalStops,\r\n          })\r\n        }\r\n        Icon={anyAdditionalStops ? Remove : Add}\r\n      />\r\n      <Input\r\n        name=\"originAddress\"\r\n        value={originAddress}\r\n        onChange={onChange}\r\n        Icon={Home}\r\n        placeholder=\"Starting Point (Origin)\"\r\n      />\r\n      {anyAdditionalStops && (\r\n        <Input\r\n          name=\"additionalStops\"\r\n          value={additionalStops}\r\n          onChange={onChange}\r\n          Icon={AddLocation}\r\n          placeholder=\"Other Stops\"\r\n        />\r\n      )}\r\n      <Input\r\n        name=\"destinationAddress\"\r\n        value={destinationAddress}\r\n        onChange={onChange}\r\n        Icon={LocalShipping}\r\n        placeholder=\"End Point (Destination)\"\r\n      />\r\n    </>\r\n  );\r\n};\r\n","import React, { useEffect } from \"react\";\r\nimport { Input } from \"../Inputs/Input\";\r\nimport { CalendarToday, EventBusy, Today, Add, Remove, EventAvailable, DateRange } from \"@material-ui/icons/\";\r\n\r\nimport { useMove, useMoveDispatch } from \"../Providers/MoveProvider\";\r\nimport { decrementDate, getFormattedDate, incrementDate } from \"../../utils/helperFunctions\";\r\nimport { SectionTitle } from \"../Layout/SectionTitle\";\r\nimport { ButtonSelect } from \"../Inputs/ButtonSelect\";\r\n\r\nexport const Dates = () => {\r\n  const client = useMove();\r\n  const dispatch = useMoveDispatch();\r\n\r\n  const onChange = (e) => dispatch({ field: e.target.name, value: e.target.value });\r\n\r\n  const { /*dates,*/ dateType } = client;\r\n\r\n  // const addDate = () => {\r\n  //   dispatch({ field: \"dates\", value: [...dates, \"\"] });\r\n  // };\r\n\r\n  //if value in provider doesn't exist - provide default\r\n  useEffect(() => {\r\n    if (!dateType)\r\n      dispatch({\r\n        field: \"dateType\",\r\n        value: \"today\",\r\n      });\r\n    return () => {};\r\n  }, [dateType, dispatch]);\r\n\r\n  return (\r\n    <>\r\n      <SectionTitle title=\"Dates\" hidePlus={true} />\r\n      <DateType onClick={onChange} value={dateType} />\r\n      {dateType === \"other\" && <DatesList />}\r\n    </>\r\n  );\r\n};\r\n\r\nconst DateType = (props) => {\r\n  const dateTypes = [\r\n    { value: \"today\", placeholder: \"Today\", Icon: EventAvailable },\r\n    { value: \"other\", placeholder: \"Multi-Day/Other\", Icon: DateRange, isDisabled: true },\r\n    // { value: \"other\", placeholder: \"Other\", Icon: EventNote },\r\n  ];\r\n  return <ButtonSelect name=\"dateType\" buttons={dateTypes} {...props} />;\r\n};\r\n\r\nconst DatesList = () => {\r\n  const dispatch = useMoveDispatch();\r\n  const client = useMove();\r\n\r\n  const { dates } = client;\r\n\r\n  const handleChange = (e, index) => {\r\n    const newArray = dates;\r\n    newArray[index] = e.target.value;\r\n    dispatch({ field: \"dates\", value: [...newArray] });\r\n  };\r\n\r\n  const handleDelete = (index) => {\r\n    if (dates.length > 1) {\r\n      const newArray = dates;\r\n      newArray.splice(index, 1);\r\n      dispatch({ field: \"dates\", value: [...newArray] });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {dates &&\r\n        dates.map((d, i) => {\r\n          return (\r\n            <Day\r\n              key={i}\r\n              index={i}\r\n              value={d}\r\n              handleChange={handleChange}\r\n              handleDelete={handleDelete}\r\n              canDelete={dates.length > 1}\r\n            />\r\n          );\r\n        })}\r\n    </>\r\n  );\r\n};\r\n\r\nconst Day = ({ index = 1, value, handleChange, handleDelete, canDelete }) => {\r\n  return (\r\n    <div className=\"flex items-center justify-between rounded-md  m-1\">\r\n      <Input\r\n        name={\"date-\" + (index + 1)}\r\n        value={value}\r\n        onChange={(e) => handleChange(e, index)}\r\n        Icon={CalendarToday}\r\n        placeholder={\"Day \" + (index + 1)}\r\n        type=\"text\"\r\n        className=\"flex-grow w-full\"\r\n      />\r\n      <div className=\"flex\">\r\n        <span className=\" flex-shrink hover:text-red-500 cursor-pointer m-2\">\r\n          <Remove onClick={() => handleChange({ target: { value: decrementDate(value) } }, index)} />\r\n        </span>\r\n        <span className=\" flex-shrink hover:text-blue-500 cursor-pointer m-2\">\r\n          <Today onClick={() => handleChange({ target: { value: getFormattedDate(new Date()) } }, index)} />\r\n        </span>\r\n        <span className=\" flex-shrink hover:text-green-500 cursor-pointer m-2\">\r\n          <Add onClick={() => handleChange({ target: { value: incrementDate(value) } }, index)} />\r\n        </span>\r\n      </div>\r\n      {canDelete && (\r\n        <span className=\" flex-shrink hover:text-red-500 cursor-pointer m-2\">\r\n          <EventBusy onClick={() => handleDelete(index)} />\r\n        </span>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Input } from \"../Inputs/Input\";\r\nimport { FitnessCenter, AttachMoney, Star, StarHalf, StarOutline, Edit, Clear } from \"@material-ui/icons/\";\r\nimport { SectionTitle } from \"../Layout/SectionTitle\";\r\nimport { useMove, useMoveDispatch } from \"../Providers/MoveProvider\";\r\nimport { ButtonSelect } from \"../Inputs/ButtonSelect\";\r\nimport { SignButton } from \"./SignButton\";\r\n\r\nexport const Valuation = () => {\r\n  const client = useMove();\r\n  const dispatch = useMoveDispatch();\r\n  const {\r\n    valuation,\r\n    valuationCost,\r\n    valuationCostWithDeductible,\r\n    shipmentValue,\r\n    estimatedWeight,\r\n    valuationRate,\r\n    valuationRateWithDeductible,\r\n  } = client;\r\n\r\n  const [showChangeRates, setShowChangeRates] = useState(false);\r\n\r\n  const toggleShowChangeRate = () => setShowChangeRates((show) => !show);\r\n\r\n  const onChange = (e) => dispatch({ field: e.target.name, value: e.target.value });\r\n\r\n  const buttons = [\r\n    { value: \"basic\", placeholder: \"Basic (Free)\", Icon: StarOutline },\r\n    {\r\n      value: \"replacementWithDeductible\",\r\n      placeholder: `Replacement (w/$300 Ded) ($${valuationCostWithDeductible})`,\r\n      Icon: StarHalf,\r\n    },\r\n    { value: \"replacement\", placeholder: `Full Replacement ($${valuationCost})`, Icon: Star },\r\n  ];\r\n\r\n  /*########## DEFAULT VALUES ##########*/\r\n  /*########## DEFAULT VALUES ##########*/\r\n  /*########## DEFAULT VALUES ##########*/\r\n  useEffect(() => {\r\n    const payload = {};\r\n    if (valuationRate === undefined) payload.valuationRate = 1.4;\r\n    if (valuationRateWithDeductible === undefined) payload.valuationRateWithDeductible = 1.15;\r\n    if (valuation === undefined) payload.valuation = \"basic\";\r\n    if (valuationCost === undefined) payload.valuationCost = 0;\r\n    if (valuationCostWithDeductible === undefined) payload.valuationCostWithDeductible = 0;\r\n    if (shipmentValue === undefined) payload.shipmentValue = 0;\r\n    if (estimatedWeight === undefined) payload.estimatedWeight = 0;\r\n    if (Object.keys(payload).length !== 0) dispatch({ type: \"fieldsUpdate\", payload });\r\n  }, [\r\n    valuation,\r\n    valuationCost,\r\n    valuationCostWithDeductible,\r\n    shipmentValue,\r\n    estimatedWeight,\r\n    valuationRate,\r\n    valuationRateWithDeductible,\r\n    dispatch,\r\n  ]);\r\n\r\n  return (\r\n    <>\r\n      <SectionTitle title=\"Valuation\" onClick={toggleShowChangeRate} Icon={showChangeRates ? Clear : Edit} />\r\n      <div className=\"flex\">\r\n        <div className=\"w-1/2 text-center\">\r\n          <Input\r\n            name=\"estimatedWeight\"\r\n            value={estimatedWeight}\r\n            onChange={onChange}\r\n            Icon={FitnessCenter}\r\n            placeholder=\"Estimated Weight\"\r\n            type=\"number\"\r\n            units=\"lbs.\"\r\n            align=\"center\"\r\n          />\r\n        </div>\r\n        <div className=\"w-1/2 relative\">\r\n          <Input\r\n            name=\"shipmentValue\"\r\n            value={shipmentValue}\r\n            onChange={onChange}\r\n            Icon={AttachMoney}\r\n            placeholder=\"Shipment Value\"\r\n            type=\"number\"\r\n            align=\"center\"\r\n          />\r\n          {/* https://www.utc.wa.gov/regulatedIndustries/transportation/TransportationDocuments/Tariff%2015-C.PDF */}\r\n          {/* Shipment value is at least $5 per lbs., (val > weight * 5) */}\r\n          {/* //TODO when value 0 - shows 0 and not text  */}\r\n          {estimatedWeight && Number(estimatedWeight) * 5 > Number(shipmentValue) && (\r\n            <span className=\"text-xs text-red-500 flex justify-center absolute top-12 right-12\">\r\n              Min Shimpent Value ${Math.ceil((estimatedWeight * 5) / 100) * 100}\r\n            </span>\r\n          )}\r\n        </div>\r\n      </div>\r\n      {/*   Valuation can be charged at $0.66 <= v <= $1.40 */}\r\n      {/*   Valuation w300ded can be charged at $0.55 <= v <= $1.15 */}\r\n\r\n      {showChangeRates && (\r\n        <div className=\"flex justify-around bg-white bg-opacity-50 p-5 rounded-md\">\r\n          <ValuationRates\r\n            name=\"valuationRateWithDeductible\"\r\n            rate={valuationRateWithDeductible}\r\n            placeholder=\"Replacement w/ deductible\"\r\n            onChange={onChange}\r\n            min=\"0.55\"\r\n            max=\"1.15\"\r\n          />\r\n          <ValuationRates\r\n            name=\"valuationRate\"\r\n            rate={valuationRate}\r\n            onChange={onChange}\r\n            min=\"0.66\"\r\n            max=\"1.40\"\r\n            placeholder=\"Full Replacement\"\r\n          />\r\n        </div>\r\n      )}\r\n\r\n      <ButtonSelect onClick={onChange} name=\"valuation\" value={valuation} buttons={buttons} vertical={true} />\r\n      <SignButton label=\"initial\" />\r\n    </>\r\n  );\r\n};\r\n\r\n/* Shipment value is at least $5 per lbs., (val > weight * 5) */\r\n/* https://www.utc.wa.gov/regulatedIndustries/transportation/TransportationDocuments/Tariff%2015-C.PDF */\r\n/*   Valuation can be charged at $0.66 <= v <= $1.40 */\r\n/*   Valuation w300ded can be charged at $0.55 <= v <= $1.15 */\r\n\r\nconst ValuationRates = ({ name, rate, onChange, min, max, placeholder }) => {\r\n  return (\r\n    <div className=\"text-xs flex flex-col justify-center text-center\">\r\n      <span>{placeholder}</span> <span className=\"text-sm py-2\">${rate}/ 100 lbs.</span>\r\n      <div class=\"slidecontainer\">\r\n        <input\r\n          className=\"w-full lg:w-1/2\"\r\n          name={name}\r\n          type=\"range\"\r\n          min={min}\r\n          max={max}\r\n          step={1 / 100}\r\n          value={rate}\r\n          class=\"slider\"\r\n          id=\"myRange\"\r\n          onChange={onChange}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { SectionTitle } from \"../Layout/SectionTitle\";\r\nimport { SignButton } from \"./SignButton\";\r\n\r\nexport const Release = () => {\r\n  return (\r\n    <>\r\n      <SectionTitle title=\"Release\" hidePlus={true} />\r\n      <p className=\"px-6 text-sm my-4\">\r\n        I have read and understand <span className=\"underline text-blue-600\">this contract</span>, and release my\r\n        household goods to the carrier subject to the terms and conditions of this contract.\r\n      </p>\r\n      <SignButton />\r\n    </>\r\n  );\r\n};\r\n","import { Delete } from \"@material-ui/icons\";\r\nimport React from \"react\";\r\nimport { useMoveDispatch } from \"../Providers/MoveProvider\";\r\n\r\nexport const ClearData = () => {\r\n  const dispatch = useMoveDispatch();\r\n  return (\r\n    <div className=\"flex justify-center w-full\">\r\n      <button className=\"bg-red-500 p-2 px-4 rounded-md text-white\" onClick={() => dispatch({ type: \"clearData\" })}>\r\n        <span>\r\n          <Delete />\r\n        </span>\r\n        <span>Clear Everything</span>\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n","import React /*, { useState, useRef } */ from \"react\";\r\n// import { Route, Switch, useRouteMatch, Redirect } from \"react-router-dom\";\r\nimport { Materials } from \"./Materials\";\r\n// import { Client } from \"./Client\";\r\n// import { MoveBottomBar } from \"./MoveBottomBar\";\r\nimport { Rates } from \"./Rates\";\r\n// import { Inventory } from \"./Inventory\";\r\nimport { Estimate } from \"./Estimate\";\r\n// import { Overview } from \"./Overview\";\r\nimport { MoveProvider } from \"../Providers/MoveProvider\";\r\nimport { MiscFees } from \"./MiscFees\";\r\nimport { Payment } from \"./Payment\";\r\nimport { Signatures } from \"./Signatures\";\r\nimport { Totals } from \"./Totals\";\r\nimport { PreviewPDF } from \"./PreviewPDF\";\r\nimport { ContactInfo } from \"./ContactInfo\";\r\nimport { Locations } from \"./Locations\";\r\nimport { Dates } from \"./Dates\";\r\nimport { Valuation } from \"./Valuation\";\r\nimport { Release } from \"./Release\";\r\n// import { Modal } from \"../Layout/Modal\";\r\nimport { ClearData } from \"./ClearData\";\r\n\r\nconst colClass = \"flex flex-col    w-full md:w-1/2  lg:w-1/3 2xl:w-1/4 3xl:w-1/3  p-2 \";\r\n\r\nexport const MoveInOne = () => {\r\n  // const modal = useRef(null);\r\n\r\n  return (\r\n    <MoveProvider>\r\n      <div className=\"flex flex-col md:flex-row px-2 md:px-0  w-full h-full flex-grow \">\r\n        <div className={colClass}>\r\n          <div className=\"bg-white p-2 rounded-md\">\r\n            <ContactInfo />\r\n            <Locations />\r\n            <Dates />\r\n            <Estimate />\r\n            <Valuation />\r\n            <Release />\r\n          </div>\r\n        </div>\r\n        <div className={colClass}>\r\n          <div className=\"bg-white  p-2 rounded-md\">\r\n            <Rates />\r\n          </div>\r\n        </div>\r\n\r\n        <div className={colClass}>\r\n          <div className=\"bg-white  p-2 rounded-md\">\r\n            <Materials showMoreDefault={false} />\r\n            <MiscFees showMoreDefault={false} />\r\n          </div>\r\n        </div>\r\n        <div className={colClass}>\r\n          <div className=\"bg-white p-2 rounded-md\">\r\n            <Totals />\r\n            <Payment />\r\n            <Signatures />\r\n            <ClearData />\r\n          </div>\r\n        </div>\r\n        <div className=\"bg-white p-2 rounded-md\">\r\n          <PreviewPDF />\r\n        </div>\r\n      </div>\r\n      <div className=\"flex flex-col flex-grow       p-2\"></div>\r\n      {/* <Overview /> */}\r\n    </MoveProvider>\r\n  );\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { useFirestore, useFirestoreConnect, isLoaded, isEmpty } from \"react-redux-firebase\";\r\nimport PropTypes from \"prop-types\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nexport const Estimates = () => {\r\n  const [input, setInput] = useState(\"\");\r\n  const [editId, setEditId] = useState(\"\");\r\n  const firestore = useFirestore();\r\n  function addTodo() {\r\n    const payload = { text: input };\r\n    setInput(\"\");\r\n    if (!!editId) {\r\n      const tempId = editId;\r\n      setEditId(\"\");\r\n      return firestore.collection(\"todos\").doc(tempId).update(payload);\r\n    }\r\n    return firestore.collection(\"todos\").add(payload);\r\n  }\r\n\r\n  const handleChange = (e) => {\r\n    setInput(e.target.value);\r\n  };\r\n\r\n  const handleEdit = (id, text) => {\r\n    return function (e) {\r\n      setInput(text);\r\n      setEditId(id);\r\n    };\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1>Estimates</h1>\r\n      <input\r\n        className=\"p-2 px-4 m-1 rounded-md\"\r\n        value={input}\r\n        onChange={handleChange}\r\n        placeholder=\"Add todo\"\r\n        onKeyPress={(e) => {\r\n          if (e.key === \"Enter\") addTodo();\r\n        }}\r\n        onFocus={(e) => e.target.select()}\r\n      />\r\n      <button className=\"bg-red-500 p-2 m-1 rounded-md text-white\" onClick={addTodo}>\r\n        {!!editId ? \"Edit\" : \"Add\"} estimate\r\n      </button>\r\n      <ListEstimates handleEdit={handleEdit} />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ListEstimates = ({ handleEdit }) => {\r\n  const firestore = useFirestore();\r\n\r\n  useFirestoreConnect([\r\n    \"todos\", // { path: '/todos' } // object notation\r\n  ]);\r\n\r\n  const todos = useSelector((state) => state.firestore.ordered.todos);\r\n\r\n  if (!isLoaded(todos)) {\r\n    return <div>Loading...</div>;\r\n  }\r\n\r\n  if (isEmpty(todos)) {\r\n    return <div>Todos List Is Empty</div>;\r\n  }\r\n\r\n  const handleDelete = (id) => {\r\n    return async function (e) {\r\n      console.log(id);\r\n      const res = await firestore.collection(\"todos\").doc(id).delete();\r\n      console.log(res);\r\n      return res;\r\n    };\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <ul>\r\n        {todos.map((key, id) => (\r\n          <li key={key} id={id} todo={todos[key]}>\r\n            {JSON.stringify(key)}\r\n            <button className=\"bg-red-500 text-white p-2 px-4 m-1 rounded-sm\" onClick={handleDelete(key.id)}>\r\n              x\r\n            </button>\r\n            <button className=\"bg-green-500 text-white p-2 px-4 m-1 rounded-sm\" onClick={handleEdit(key.id, key.text)}>\r\n              edit\r\n            </button>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nexport const Estimate = () => {\r\n  return <div>Estimate</div>;\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  // BrowserRouter as Router,\r\n  // Switch,\r\n  // Route,\r\n  Link,\r\n  // useParams,\r\n  // useRouteMatch,\r\n} from \"react-router-dom\";\r\nimport { nanoid } from \"nanoid\";\r\nimport faker from \"faker\";\r\nimport { SearchOutlined } from \"@material-ui/icons\";\r\n\r\nconst ParamountLink = ({ paramountId, fullName, phone, email }) => {\r\n  // let { url } = useRouteMatch();\r\n  return (\r\n    <tr className=\"hover:bg-pink-500 hover:text-white cursor-pointer\">\r\n      <td>\r\n        <Link to={`/p/${paramountId}`}> {paramountId}</Link>\r\n      </td>\r\n      <td>\r\n        <Link to={`/p/${paramountId}`}>{fullName}</Link>\r\n      </td>\r\n      <td>\r\n        <Link to={`/p/${paramountId}`}>{email}</Link>\r\n      </td>\r\n      <td>\r\n        <Link to={`/p/${paramountId}`}>{phone}</Link>\r\n      </td>\r\n      <td>\r\n        <Link to={`/p1/${paramountId}`}>Single View</Link>\r\n      </td>\r\n    </tr>\r\n  );\r\n};\r\n\r\nexport const Paramounts = () => {\r\n  const [state, setstate] = useState([]);\r\n  const [filter, setFilter] = useState(\"\");\r\n  useEffect(() => {\r\n    const arr = [];\r\n    for (let i = 0; i < 20; i++) {\r\n      arr[i] = {\r\n        id: nanoid(6),\r\n        fullName: faker.name.findName(),\r\n        email: faker.internet.email(),\r\n        phone: faker.phone.phoneNumber(),\r\n      };\r\n    }\r\n    setstate(arr);\r\n  }, []);\r\n  // let { path, url } = useRouteMatch();\r\n\r\n  return (\r\n    <div className=\"flex flex-col justify-center items-center\">\r\n      <Search value={filter} setValue={setFilter} />\r\n      <div className=\"flex justify-center\">\r\n        {/* <h1>Paramounts</h1> */}\r\n        <table>\r\n          <thead className=\"text-white bg-gray-900 text-center cursor-pointer\">\r\n            <tr>\r\n              <th>Id</th>\r\n              <th>Name</th>\r\n              <th>Phone</th>\r\n              <th>Email</th>\r\n              <th></th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {(filter.length === 0\r\n              ? state\r\n              : state.filter((v) => Object.values(v).toString().toLowerCase().includes(filter.toLowerCase()))\r\n            ).map((a) => (\r\n              <ParamountLink key={a.id} paramountId={a.id} fullName={a.fullName} email={a.email} phone={a.phone} />\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n      <button>+ Paramount</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Search = ({ value = \"\", setValue }) => {\r\n  const onChange = (e) => setValue(e.target.value);\r\n  return (\r\n    <div className=\"bg-white w-80 p-2 m-1 mx-4 rounded-md flex\">\r\n      <span>\r\n        <SearchOutlined />\r\n      </span>\r\n      <input type=\"search\" onChange={onChange} value={value} className=\"w-full pl-2\" placeholder=\"search...\" />\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { useDrag } from \"react-dnd\";\r\n\r\nconst fields = [\r\n  { name: \"Full Name\", id: \"dfgsd\" },\r\n  { name: \"Phone Number\", id: \"5t4e\" },\r\n  { name: \"Email\", id: \"ert34\" },\r\n  { name: \"Origin Address\", id: \"asdf4\" },\r\n  { name: \"Destination Address\", id: \"asdasd4f4\" },\r\n  { name: \"Reference Number\", id: \"y654hr\" },\r\n  { name: \"Signature\", id: \"sdvcxc\" },\r\n  { name: \"Initials\", id: \"gre676\" },\r\n  { name: \"Date\", id: \"gre676\" },\r\n];\r\n\r\nexport const FieldsList = (props) => {\r\n  return (\r\n    <div className=\"my-10 z-10 flex flex-col\">\r\n      <h1>Fields</h1>\r\n      {fields.map((field) => {\r\n        return <ListItem key={field.id} id={field.id} name={field.name} value={field.value} />;\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ListItem = (props) => {\r\n  const { name, value, id } = props;\r\n\r\n  return (\r\n    <Box {...props}>\r\n      <div className=\"bg-purple-500 rounded-md p-1 my-1 select-none hover:bg-purple-700 \">\r\n        <div className=\"handle  text-white cursor-pointer text-xs pb-1 pl-2 \">:: {name}</div>\r\n        {!!value && <div className=\"bg-white px-4 py-1 rounded-sm\">Arnas Jelizarovas</div>}\r\n      </div>\r\n    </Box>\r\n  );\r\n};\r\n\r\nconst style = {\r\n  border: \"1px dashed gray\",\r\n  backgroundColor: \"white\",\r\n  padding: \"0.5rem 1rem\",\r\n  marginRight: \"1.5rem\",\r\n  marginBottom: \"1.5rem\",\r\n  float: \"left\",\r\n};\r\nexport const Box = (props) => {\r\n  const { name } = props;\r\n  const [{ opacity }, drag] = useDrag(\r\n    () => ({\r\n      type: \"field\",\r\n      item: props,\r\n      end(item, monitor) {\r\n        const dropResult = monitor.getDropResult();\r\n        if (item && dropResult) {\r\n          let alertMessage = \"\";\r\n          const isDropAllowed =\r\n            dropResult.allowedDropEffect === \"any\" || dropResult.allowedDropEffect === dropResult.dropEffect;\r\n          if (isDropAllowed) {\r\n            const isCopyAction = dropResult.dropEffect === \"copy\";\r\n            const actionName = isCopyAction ? \"copied\" : \"moved\";\r\n            alertMessage = `You ${actionName} ${item.name} into ${dropResult.name}!`;\r\n          } else {\r\n            alertMessage = `You cannot ${dropResult.dropEffect} an item into the ${dropResult.name}`;\r\n          }\r\n          //   console.log({ monitor });\r\n        }\r\n      },\r\n      collect: (monitor) => ({\r\n        opacity: monitor.isDragging() ? 0.4 : 1,\r\n      }),\r\n    }),\r\n    [name]\r\n  );\r\n  return (\r\n    <div {...props} ref={drag} style={{ ...style, opacity }}>\r\n      {props.children}\r\n    </div>\r\n  );\r\n};\r\n","import React, { useEffect } from \"react\";\r\nimport { useStorage } from \"../../utils/useStorage\";\r\n\r\nexport const ProgressBar = ({ file, setFile, onUrlAdded }) => {\r\n  const { progress, url } = useStorage(file);\r\n\r\n  useEffect(() => {\r\n    if (url) {\r\n      setFile(null);\r\n      onUrlAdded(url);\r\n    }\r\n  }, [url, setFile, onUrlAdded]);\r\n\r\n  return <div>{progress + \" %\"}</div>;\r\n};\r\n","import { useState, useEffect } from \"react\";\r\nimport { projectStorage, projectFirestore, timestamp } from \"../index\";\r\n\r\nexport const useStorage = (file) => {\r\n  const [progress, setProgress] = useState(0);\r\n  const [error, setError] = useState(null);\r\n  const [url, setUrl] = useState(null);\r\n\r\n  useEffect(() => {\r\n    // references\r\n    const storageRef = projectStorage.ref(file.name);\r\n    const collectionRef = projectFirestore.collection(\"images\");\r\n\r\n    storageRef.put(file).on(\r\n      \"state_changed\",\r\n      (snap) => {\r\n        let percentage = (snap.bytesTransferred / snap.totalBytes) * 100;\r\n        setProgress(percentage);\r\n      },\r\n      (err) => {\r\n        setError(err);\r\n      },\r\n      async () => {\r\n        const url = await storageRef.getDownloadURL();\r\n        const createdAt = timestamp();\r\n        await collectionRef.add({ url, createdAt });\r\n        setUrl(url);\r\n      }\r\n    );\r\n  }, [file]);\r\n\r\n  return { progress, url, error };\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { ProgressBar } from \"./ProgressBar\";\r\n\r\nexport const UploadForm = ({ customPdf, setCustomPdf }) => {\r\n  const [file, setFile] = useState(null);\r\n  const [error, setError] = useState(null);\r\n  const [url, setUrl] = useState(null);\r\n\r\n  const onUrlAdded = (url) => {\r\n    setCustomPdf((currCustomPdfs) => {\r\n      return [...currCustomPdfs, url];\r\n    });\r\n  };\r\n\r\n  const types = [\"image/png\", \"image/jpeg\"];\r\n\r\n  const handleChange = (e) => {\r\n    let selected = e.target.files[0];\r\n\r\n    if (!!selected) setFile(selected);\r\n    //   if (selected && types.includes(selected.type)) {\r\n    //     setError(\"\");\r\n    //   } else {\r\n    //     setFile(null);\r\n    //     setError(\"Please select an image file (png or jpg)\");\r\n    //   }\r\n  };\r\n  return (\r\n    <form>\r\n      <label>\r\n        <input type=\"file\" onChange={handleChange} />\r\n        <span>+</span>\r\n      </label>\r\n      <div className=\"output\">\r\n        {error && <div className=\"error\">{error}</div>}\r\n        {file && <div>{file.name}</div>}\r\n        {file && <ProgressBar file={file} setFile={setFile} onUrlAdded={onUrlAdded} />}\r\n      </div>\r\n      {url && <span>{url}</span>}\r\n    </form>\r\n  );\r\n};\r\n","import { PictureAsPdf } from \"@material-ui/icons\";\r\nimport React, { useState } from \"react\";\r\nimport { SectionTitle } from \"../Layout/SectionTitle\";\r\nimport { UploadForm } from \"./UploadForm\";\r\n\r\nconst items = [\r\n  {\r\n    id: \"Fci3ht4RCfb9rr2U04Xd\",\r\n    name: \"Accessorials\",\r\n    url:\r\n      \"https://firebasestorage.googleapis.com/v0/b/sfm-tools-448ab.appspot.com/o/pdf%2Faccesorials.pdf?alt=media&token=b9e30c40-5ea8-4000-8685-d0f22632829a\",\r\n  },\r\n  {\r\n    id: \"QoRroeKIeEOcGvTZve1T\",\r\n    name: \"Damage Waiver\",\r\n    url:\r\n      \"https://firebasestorage.googleapis.com/v0/b/sfm-tools-448ab.appspot.com/o/pdf%2FDamage%20Waiver.pdf?alt=media&token=7a30566b-ae9c-46e4-a302-0e93988ee8ad\",\r\n  },\r\n  {\r\n    id: \"56yerfthdfg\",\r\n    name: \"Residential Inspection\",\r\n    url:\r\n      \"https://firebasestorage.googleapis.com/v0/b/sfm-tools-448ab.appspot.com/o/pdf%2FRersidential%20Preinspection.pdf?alt=media&token=f920d38a-bd72-44b1-98ce-06acdc134022\",\r\n  },\r\n  {\r\n    id: \"erty656\",\r\n    name: \"Load Chart\",\r\n    url:\r\n      \"https://firebasestorage.googleapis.com/v0/b/sfm-tools-448ab.appspot.com/o/pdf%2FLoad%20Chart.pdf?alt=media&token=69dfea5c-fb71-4265-8dff-90ac89e29770\",\r\n  },\r\n  {\r\n    id: \"sdfg5456\",\r\n    name: \"Prohibited Items\",\r\n    url:\r\n      \"https://firebasestorage.googleapis.com/v0/b/sfm-tools-448ab.appspot.com/o/pdf%2FProhibited%20Items.pdf?alt=media&token=4652dbf3-2833-461c-baf1-9a0b79d2f6f2\",\r\n  },\r\n];\r\n\r\nexport const PacketList = ({ pdf, setPdf }) => {\r\n  const [customPdf, setCustomPdf] = useState([]);\r\n\r\n  const onClick = (item) => {\r\n    return (e) => {\r\n      setPdf((pdf) => {\r\n        if (pdf?.id !== item?.id) return { ...item };\r\n        return pdf;\r\n      });\r\n    };\r\n  };\r\n  return (\r\n    <div className=\"w-64 p-2\">\r\n      {/* {JSON.stringify(pdf)} */}\r\n      <div className=\"my-10\">\r\n        <SectionTitle title=\"Packet List\" hidePlus={true} />\r\n        <ul className=\"p-1\">\r\n          {items.map((item, i) => (\r\n            <ListItem key={i} name={item.name} onClick={onClick(item)} />\r\n          ))}\r\n        </ul>\r\n      </div>\r\n      <div>\r\n        <SectionTitle title=\"Unique Paperwork\" hidePlus={true} />\r\n        {!!customPdf && customPdf.map((pdf, i) => <span>{pdf?.name}</span>)}\r\n        <UploadForm customPdf={customPdf} setCustomPdf={setCustomPdf} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ListItem = ({ name, id, onClick }) => {\r\n  return (\r\n    <li className=\"hover:text-blue-600 cursor-pointer\" onClick={onClick}>\r\n      <PictureAsPdf /> <span>{name}</span>\r\n    </li>\r\n  );\r\n};\r\n","import React, { useState, memo } from \"react\";\r\nimport { Document, Page, pdfjs } from \"react-pdf\";\r\n\r\npdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.min.js`;\r\n\r\nexport const PreviewPDF = memo(({ pdf } = {}) => {\r\n  console.log(\"previewRerender\");\r\n  // const { url = process.env.PUBLIC_URL + \"/pdf/bol-sfm-fonts.pdf\" } = pdf;\r\n  const [data, setData] = useState(null);\r\n  const [coordinates, setCoordinates] = useState({ x: 0, y: 0 });\r\n  //   const hasMovedCursor = typeof x === \"number\" && typeof y === \"number\";\r\n\r\n  const [numPages, setNumPages] = useState(null);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n\r\n  const getCoordinates = (e) => {\r\n    console.log(\"getcoordinates\");\r\n    var rect = e.target.getBoundingClientRect();\r\n    var x = e.clientX - rect.left; //x position within the element.\r\n    var y = e.clientY - rect.top; //y position within the element.\r\n    setCoordinates({ x: x.toFixed(2), y: -(y - 792).toFixed(2) });\r\n    // console.log(\"Left? : \" + x + \" ; Top? : \" + -(y - 792) + \".\");\r\n  };\r\n\r\n  //   const getPreview = async () => {\r\n  //     // const newData = await fillBOLForm();\r\n  //     return setData(newData);\r\n  //   };\r\n\r\n  //   const downloadNow = async () => {\r\n  //     download(await fillBOLForm(), `${getFormattedDate(new Date())}.pdf`, \"application/pdf\");\r\n  //   };\r\n\r\n  function onDocumentLoadSuccess({ numPages }) {\r\n    setNumPages(numPages);\r\n  }\r\n\r\n  // if (!!pdf?.data) return <div>no data</div>;\r\n\r\n  return (\r\n    <div className=\"bg-white p-4 rounded-md\">\r\n      <Document\r\n        file={!!pdf?.data ? { data: pdf.data } : pdf?.url}\r\n        onLoadSuccess={onDocumentLoadSuccess}\r\n        renderMode=\"canvas\"\r\n        onClick={getCoordinates}\r\n      >\r\n        <Page pageNumber={pageNumber} className=\"flex\" />\r\n      </Document>\r\n      <p>\r\n        Page {pageNumber} of {numPages}\r\n      </p>\r\n      <button className=\"p-1\" onclick={() => setPageNumber((page) => page--)}>\r\n        prev page\r\n      </button>\r\n      <button onclick={() => setPageNumber((page) => page++)}>net page</button>\r\n      <h1>{`coordinate: x: ${coordinates.x}, y: ${coordinates.y}.`}</h1>\r\n    </div>\r\n  );\r\n});\r\n","import { PDFDocument } from \"pdf-lib\";\r\nimport download from \"downloadjs\";\r\n\r\n//pass pdf with url key, or array data, with\r\n//item can have following keys: type[text, signature, formField], page, text, x, y, size\r\n\r\nconst fakeData = [\r\n  {\r\n    type: \"text\",\r\n    page: 0,\r\n    text: \"Jamming\",\r\n    x: 200,\r\n    y: 200,\r\n    size: 50,\r\n  },\r\n];\r\n\r\nexport async function fillPDF(pdf, data = fakeData) {\r\n  console.log({ pdf, data });\r\n  const { url } = pdf;\r\n  if (!url || !data) return undefined;\r\n  const formPdfBytes = await fetch(url).then((res) => res.arrayBuffer());\r\n  console.log({ formPdfBytes });\r\n  const pdfDoc = await PDFDocument.load(formPdfBytes);\r\n\r\n  const pages = pdfDoc.getPages();\r\n  const form = pdfDoc.getForm();\r\n\r\n  const setFormField = ({ pdfField, text, condition = false }) => {\r\n    if (!pdfField || !text || condition) return;\r\n    if (Array.isArray(text)) text = text.join(\", \");\r\n    return form.getTextField(pdfField).setText(text.toString());\r\n  };\r\n\r\n  const setSignature = async ({ signature, x, y, width = 25, height = 10, page = 0 }) => {\r\n    if (!signature || !x || !y) return;\r\n    const bytes = await fetch(signature).then((res) => res.arrayBuffer());\r\n    const image = await pdfDoc.embedPng(bytes);\r\n    return pages[0].drawImage(image, { x, y, height, width });\r\n  };\r\n\r\n  const setTextField = ({ text, x, y, size = 10, page = 0 }) => {\r\n    if (!text || !x || !y) return;\r\n    console.log(\"setting trext\");\r\n    return pages[page].drawText(text, { x, y, size });\r\n  };\r\n\r\n  data.map(async (item) => {\r\n    if (item?.type === \"text\") return setTextField({ text: item?.text, x: item?.x, y: item?.y, page: item?.page });\r\n    if (item?.type === \"signature\")\r\n      return await setSignature({ signature: item?.signature, x: item?.x, y: item?.y, page: item?.page });\r\n    if (item?.type === \"formField\")\r\n      return setFormField({ pdfField: item?.pdfField, text: item?.text, condition: item?.condition });\r\n  });\r\n\r\n  form.flatten();\r\n  const pdfBytes = await pdfDoc.save();\r\n  // download(pdfBytes, `test pdf .pdf`, \"application/pdf\");\r\n  return pdfBytes;\r\n}\r\n","import React, { useState, useRef, useCallback } from \"react\";\r\nimport { FieldsList } from \"./FieldsList\";\r\nimport { PacketList } from \"./PacketList\";\r\nimport { PreviewPDF } from \"./PreviewPDF\";\r\nimport { DndProvider } from \"react-dnd\";\r\nimport { nanoid } from \"nanoid\";\r\n// import { HTML5Backend } from \"react-dnd-html5-backend\";\r\nimport MultiBackend from \"react-dnd-multi-backend\";\r\nimport HTML5toTouch from \"react-dnd-multi-backend/dist/esm/HTML5toTouch\";\r\nimport { useDrop, useDrag } from \"react-dnd\";\r\nimport update from \"immutability-helper\";\r\nimport { Clear } from \"@material-ui/icons\";\r\nimport { NavLink, useRouteMatch } from \"react-router-dom\";\r\nimport { fillPDF } from \"../../utils/fillPDF\";\r\n\r\nconst styles = {\r\n  width: \"612px\",\r\n  height: \"792px\",\r\n};\r\n\r\nconst fieldExample = {\r\n  id: \"234dss\",\r\n  place: [\r\n    {\r\n      pdfId: \"asdvxzcvzxcv\",\r\n      pageNum: 1,\r\n      x: 0,\r\n      y: 0,\r\n    },\r\n  ],\r\n  name: \"Full Name\",\r\n  value: \"Arnas Jelizarovas\",\r\n};\r\n\r\nconst urls = ({ path, url }) => ({\r\n  current: path,\r\n  redirect: `${url}/client`,\r\n\r\n  ...Object.fromEntries(\r\n    [\"type\", \"contact\", \"prepdocs\", \"schedule\", \"assign\", \"overview\"].map((u) => [u, `${path}/${u}`])\r\n  ),\r\n});\r\n\r\nexport const Paramount = () => {\r\n  const [pdf, setPdf] = useState(null);\r\n  const [fields, setFields] = useState([fieldExample]);\r\n  const [boxes, setBoxes] = useState({\r\n    a: { top: 20, left: 80, title: \"Drag me around\" },\r\n    b: { top: 180, left: 20, title: \"Drag me too\" },\r\n  });\r\n  const [coordinates, setCoordinates] = useState({ x: 0, y: 0 });\r\n  const getCoordinates = (e) => {\r\n    console.log(\"getcoordinates\");\r\n    var rect = e.target.getBoundingClientRect();\r\n    var x = e.clientX - rect.left; //x position within the element.\r\n    var y = e.clientY - rect.top; //y position within the element.\r\n    setCoordinates({ x: x.toFixed(2), y: -(y - 792).toFixed(2) });\r\n    // console.log(\"Left? : \" + x + \" ; Top? : \" + -(y - 792) + \".\");\r\n  };\r\n\r\n  const pdfize = async (e) => {\r\n    if (!!pdf) {\r\n      const newPdf = await fillPDF({ url: pdf?.url });\r\n      setPdf((file) => ({ ...file, data: newPdf }));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex  justify-around items-start \">\r\n      <TaskList />\r\n      <div>\r\n        <PacketList pdf={pdf} setPdf={setPdf} />\r\n        <button onClick={pdfize} className=\"bg-purple-700 text-white p-2 rounded-md\">\r\n          PDFize\r\n        </button>\r\n        <button\r\n          onClick={() => {\r\n            console.log(pdf);\r\n          }}\r\n          className=\"bg-purple-700 text-white p-2 rounded-md\"\r\n        >\r\n          clg\r\n        </button>\r\n      </div>\r\n      <DndProvider backend={MultiBackend} options={HTML5toTouch}>\r\n        <FieldsList />\r\n        {/* <div className=\"flex\">{`x: ${coordinates.x}, y: ${coordinates.y}`}</div> */}\r\n        {/* <Dropzone style={styles} className=\"bg-red-500\" allowedDropEffect=\"move\" onClick={getCoordinates}>\r\n          DROPZONE */}\r\n        {/* </Dropzone> */}\r\n        {/* <GlobalBox /> */}\r\n        <LocalBox pdf={pdf} boxes={boxes} setBoxes={setBoxes} />\r\n      </DndProvider>\r\n      {/* <PreviewPDF /> */}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst style = {\r\n  minWidth: \"612px\",\r\n  minHeight: \"792px\",\r\n};\r\n\r\nfunction selectBackgroundColor(isActive, canDrop) {\r\n  if (isActive) {\r\n    return \"darkgreen\";\r\n  } else if (canDrop) {\r\n    return \"darkkhaki\";\r\n  } else {\r\n    return \"#222\";\r\n  }\r\n}\r\nexport const Dropzone = (props) => {\r\n  // const ref = useLocalDrop(console.log);\r\n  // const ref = useRef();\r\n  // const { allowedDropEffect } = props;\r\n  // const [{ canDrop, isOver }, drop] = useDrop(\r\n  //   () => ({\r\n  //     accept: \"box\",\r\n  //     drop(item, monitor) {\r\n  //       console.log(\"drop\");\r\n  //       const offset = monitor.getSourceClientOffset();\r\n  //       if (offset && ref.current) {\r\n  //         const dropTargetXy = ref.current.getBoundingClientRect();\r\n  //         console.log(\"local\", {\r\n  //           x: offset.x - dropTargetXy.left,\r\n  //           y: offset.y - dropTargetXy.top,\r\n  //         });\r\n  //       }\r\n  //     },\r\n  //     collect: (monitor) => ({\r\n  //       isOver: monitor.isOver(),\r\n  //       canDrop: monitor.canDrop(),\r\n  //     }),\r\n  //   }),\r\n  //   [allowedDropEffect]\r\n  // );\r\n  // const isActive = canDrop && isOver;\r\n  // const backgroundColor = selectBackgroundColor(isActive, canDrop);\r\n  return <div {...props}>Dropzone</div>;\r\n};\r\n\r\n// function GlobalBox() {\r\n//   const ref = useGlobalDrop(console.log);\r\n//   return <div ref={ref} className=\"GlobalBox\" />;\r\n// }\r\n\r\nfunction LocalBox({ pdf, boxes, setBoxes }) {\r\n  const moveBox = useCallback(\r\n    (id, left, top) => {\r\n      setBoxes(\r\n        update(boxes, {\r\n          [id]: {\r\n            $merge: { left, top },\r\n          },\r\n        })\r\n      );\r\n    },\r\n    [boxes, setBoxes]\r\n  );\r\n\r\n  const handleDelete = (id) => {\r\n    return (e) => {\r\n      setBoxes((boxes) => {\r\n        console.log(boxes[id]);\r\n        return boxes;\r\n      });\r\n    };\r\n  };\r\n\r\n  const ref = useLocalDrop(moveBox, setBoxes);\r\n  return (\r\n    <div ref={ref} className=\"LocalBox bg-purple-900 relative\" style={styles}>\r\n      <PreviewPDF pdf={pdf} />\r\n      {Object.keys(boxes).map((key) => {\r\n        const { left, top, title } = boxes[key];\r\n        return (\r\n          <Box key={key} id={key} left={left} top={top} hideSourceOnDrag={true} handleDelete={handleDelete}>\r\n            {title}\r\n          </Box>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst Box = ({ id, left, top, hideSourceOnDrag = true, children, handleDelete }) => {\r\n  const [{ isDragging }, drag] = useDrag(\r\n    () => ({\r\n      type: \"box\",\r\n      item: { id, left, top },\r\n      collect: (monitor) => ({\r\n        isDragging: monitor.isDragging(),\r\n      }),\r\n    }),\r\n    [id, left, top]\r\n  );\r\n\r\n  if (isDragging && hideSourceOnDrag) {\r\n    return <div ref={drag}>t</div>;\r\n  }\r\n\r\n  return (\r\n    <button\r\n      ref={drag}\r\n      className=\"absolute bg-green-500 text-white text-xs px-1 rounded-sm cursor-pointer\"\r\n      style={{ left, top }}\r\n      role=\"Box\"\r\n    >\r\n      <span>\r\n        {children} [{left.toFixed(1)}, {(792 - Number(top)).toFixed(1)}]\r\n      </span>\r\n      <span className=\"m-1 hover:text-gray-300\" onClick={handleDelete(id)}>\r\n        <Clear className=\"p-1\" />\r\n      </span>\r\n    </button>\r\n  );\r\n};\r\n\r\nfunction useLocalDrop(moveBox, setBoxes) {\r\n  const ref = useRef();\r\n\r\n  const [, dropTarget] = useDrop({\r\n    accept: [\"box\", \"field\"],\r\n    drop(item, monitor) {\r\n      console.log();\r\n      if (monitor.getItemType() === \"field\") {\r\n        const offset = monitor.getSourceClientOffset();\r\n        if (offset && ref.current) {\r\n          const dropTargetXy = ref.current.getBoundingClientRect();\r\n          const x = offset.x - dropTargetXy.left;\r\n          const y = offset.y - dropTargetXy.top;\r\n\r\n          setBoxes((b) => ({ ...b, [nanoid(6)]: { title: item.name, fieldId: item.id, left: x, top: y } }));\r\n          return undefined;\r\n        }\r\n      }\r\n      if (monitor.getItemType() === \"box\") {\r\n        const delta = monitor.getDifferenceFromInitialOffset();\r\n        const left = Math.round(item.left + delta.x);\r\n        const top = Math.round(item.top + delta.y);\r\n        moveBox(item.id, left, top);\r\n        return undefined;\r\n      }\r\n    },\r\n  });\r\n\r\n  return (elem) => {\r\n    ref.current = elem;\r\n    dropTarget(ref);\r\n  };\r\n}\r\n\r\n// function useGlobalDrop(onDrop) {\r\n//   const [, dropTarget] = useDrop({\r\n//     accept: \"box\",\r\n//     drop(item, monitor) {\r\n//       const offset = monitor.getClientOffset();\r\n//       if (offset) {\r\n//         onDrop(\"global\", offset);\r\n//       }\r\n//     },\r\n//   });\r\n\r\n//   return dropTarget;\r\n// }\r\n\r\nconst TaskList = () => {\r\n  const [links] = useState(urls(useRouteMatch()));\r\n\r\n  return (\r\n    <div>\r\n      <h1>Task List</h1>\r\n      <ul>\r\n        <TaskLink to=\"type\" text=\"Job Type\" />\r\n\r\n        <TaskLink to=\"contact\" text=\"Personal Info\" />\r\n\r\n        <TaskLink to=\"prep\" text=\"Prepare Paperwork\" />\r\n\r\n        <TaskLink to=\"schedule\" text=\"Schedule\" />\r\n\r\n        <TaskLink to=\"assign\" text=\"Assign Crew\" />\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst TaskLink = ({ to, text, onClick }) => {\r\n  let { url } = useRouteMatch();\r\n  return (\r\n    <li className=\"px-2 nav-item\">\r\n      <NavLink\r\n        className=\"px-3 py-2 flex items-center text-xs uppercase font-bold leading-snug  hover:opacity-75 ml-2 \"\r\n        to={`${url}/${to}`}\r\n        activeClassName=\"text-red-500\"\r\n        // replace\r\n      >\r\n        {text}\r\n      </NavLink>\r\n    </li>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nexport const Dispatch = () => {\r\n  return <div>Dispatch</div>;\r\n};\r\n","import React from \"react\";\r\n\r\nexport const Job = () => {\r\n  return <div>Job</div>;\r\n};\r\n","export const ADD_WARE = \"ADD_WARE\";\r\nexport const TOGGLE_WARE = \"TOGGLE_WARE\";\r\nexport const SET_FILTER = \"SET_FILTER\";\r\n","import { ADD_WARE, TOGGLE_WARE, SET_FILTER } from \"./actionTypes\";\r\n\r\nlet nextWareId = 0;\r\n\r\nexport const addWare = (content) => ({\r\n  type: ADD_WARE,\r\n  payload: {\r\n    id: ++nextWareId,\r\n    content,\r\n  },\r\n});\r\n\r\nexport const toggleWare = (id) => ({\r\n  type: TOGGLE_WARE,\r\n  payload: { id },\r\n});\r\n\r\nexport const setFilter = (filter) => ({ type: SET_FILTER, payload: { filter } });\r\n","import React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { addWare } from \"../../redux/actions\";\r\n\r\nconst AddWare = (props) => {\r\n  const [input, setInput] = useState(\"\");\r\n\r\n  const onChange = (e) => setInput(e.target.value);\r\n\r\n  const handleAddWare = () => {\r\n    props.addWare(input);\r\n    setInput(\"\");\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <input\r\n        onChange={onChange}\r\n        value={input}\r\n        onKeyPress={(e) => {\r\n          if (e.key === \"Enter\") handleAddWare();\r\n        }}\r\n        onFocus={(e) => e.target.select()}\r\n      />\r\n      <button className=\"add-ware bg-green-500 p-2 rounded-md text white\" onClick={handleAddWare}>\r\n        Add Ware\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default connect(null, { addWare })(AddWare);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport cx from \"classnames\";\r\nimport { toggleWare } from \"../../redux/actions\";\r\n\r\nconst Ware = ({ ware, toggleWare }) => (\r\n  <li className=\"ware-item\" onClick={() => toggleWare(ware.id)}>\r\n    {ware && ware.completed ? \"\" : \"\"}{\" \"}\r\n    <span className={cx(\"ware-item__text\", ware && ware.completed && \"ware-item__text--completed\")}>\r\n      {ware.content}\r\n    </span>\r\n  </li>\r\n);\r\n\r\n// export default Ware;\r\nexport default connect(null, { toggleWare })(Ware);\r\n","export const VISIBILITY_FILTERS = {\r\n  ALL: \"all\",\r\n  COMPLETED: \"completed\",\r\n  INCOMPLETE: \"incomplete\",\r\n};\r\n","import { VISIBILITY_FILTERS } from \"../constants\";\r\n\r\nexport const getWaresState = (store) => store.wares;\r\n\r\nexport const getWareList = (store) => (getWaresState(store) ? getWaresState(store).allIds : []);\r\n\r\nexport const getWareById = (store, id) => (getWaresState(store) ? { ...getWaresState(store).byIds[id], id } : {});\r\n\r\n/**\r\n * example of a slightly more complex selector\r\n * select from store combining information from multiple reducers\r\n */\r\nexport const getWares = (store) => getWareList(store).map((id) => getWareById(store, id));\r\n\r\nexport const getWaresByVisibilityFilter = (store, visibilityFilter) => {\r\n  const allWares = getWares(store);\r\n  switch (visibilityFilter) {\r\n    case VISIBILITY_FILTERS.COMPLETED:\r\n      return allWares.filter((ware) => ware.completed);\r\n    case VISIBILITY_FILTERS.INCOMPLETE:\r\n      return allWares.filter((ware) => !ware.completed);\r\n    case VISIBILITY_FILTERS.ALL:\r\n    default:\r\n      return allWares;\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Ware from \"./Ware\";\r\n// import { getWares } from \"../redux/selectors\";\r\nimport { getWaresByVisibilityFilter } from \"../../redux/selectors\";\r\n// import { VISIBILITY_FILTERS } from \"../../constants\";\r\n\r\nconst WareList = ({ wares }) => (\r\n  <ul className=\"ware-list\">\r\n    {wares && wares.length\r\n      ? wares.map((ware, index) => {\r\n          return <Ware key={`ware-${ware.id}`} ware={ware} />;\r\n        })\r\n      : \"No wares, yay!\"}\r\n  </ul>\r\n);\r\n\r\n// const mapStateToProps = state => {\r\n//   const { byIds, allIds } = state.wares || {};\r\n//   const wares =\r\n//     allIds && state.wares.allIds.length\r\n//       ? allIds.map(id => (byIds ? { ...byIds[id], id } : null))\r\n//       : null;\r\n//   return { wares };\r\n// };\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { visibilityFilter } = state;\r\n  const wares = getWaresByVisibilityFilter(state, visibilityFilter);\r\n  return { wares };\r\n  //   const allWares = getWares(state);\r\n  //   return {\r\n  //     wares:\r\n  //       visibilityFilter === VISIBILITY_FILTERS.ALL\r\n  //         ? allWares\r\n  //         : visibilityFilter === VISIBILITY_FILTERS.COMPLETED\r\n  //           ? allWares.filter(ware => ware.completed)\r\n  //           : allWares.filter(ware => !ware.completed)\r\n  //   };\r\n};\r\n// export default WareList;\r\nexport default connect(mapStateToProps)(WareList);\r\n","import React from \"react\";\r\nimport cx from \"classnames\";\r\nimport { connect } from \"react-redux\";\r\nimport { setFilter } from \"../../redux/actions\";\r\nimport { VISIBILITY_FILTERS } from \"../../constants\";\r\n\r\nconst VisibilityFilters = ({ activeFilter, setFilter }) => {\r\n  return (\r\n    <div className=\"visibility-filters\">\r\n      {Object.keys(VISIBILITY_FILTERS).map((filterKey) => {\r\n        const currentFilter = VISIBILITY_FILTERS[filterKey];\r\n        return (\r\n          <span\r\n            key={`visibility-filter-${currentFilter}`}\r\n            className={cx(\"filter\", currentFilter === activeFilter && \"filter--active\")}\r\n            onClick={() => {\r\n              setFilter(currentFilter);\r\n            }}\r\n          >\r\n            {currentFilter}\r\n          </span>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return { activeFilter: state.visibilityFilter };\r\n};\r\n// export default VisibilityFilters;\r\nexport default connect(mapStateToProps, { setFilter })(VisibilityFilters);\r\n","import React from \"react\";\r\nimport AddWare from \"./AddWare\";\r\nimport WareList from \"./WareList\";\r\nimport VisibilityFilters from \"./VisibilityFilters\";\r\n// import \"./styles.css\";\r\n\r\nexport default function Warehouse() {\r\n  return (\r\n    <div className=\"ware-app flex flex-col  items-center py-10\">\r\n      <h1>Ware List</h1>\r\n      <AddWare />\r\n      <VisibilityFilters />\r\n      <WareList />\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst url = `${process.env.PUBLIC_URL}/img/tools-materials.gif`;\r\n\r\nexport const Tools = () => {\r\n  return (\r\n    <div className=\" flex\">\r\n      <div className=\"m-5 p-2 border-2 rounded-md\">\r\n        <img alt=\"demo\" src={url} />\r\n        <Link to=\"/t/materials\">Materials Calculator</Link>\r\n      </div>\r\n      <div className=\"m-5 p-2 border-2 rounded-md relative flex justify-center flex-col\">\r\n        <div className=\"bg-gray-500\" style={{ minWidth: \"265px\", minHeight: \"265px\" }}></div>\r\n        <Link to=\"/t/coordinates\">Coordinates View</Link>\r\n      </div>\r\n      <div className=\"m-5 p-2 border-2 rounded-md relative flex justify-center flex-col\">\r\n        <div className=\"bg-gray-500\" style={{ minWidth: \"265px\", minHeight: \"265px\" }}></div>\r\n        <Link to=\"/t/coordinates\">ABHS</Link>\r\n      </div>\r\n      <div className=\"m-5 p-2 border-2 rounded-md relative flex justify-center flex-col\">\r\n        <div className=\"bg-gray-500\" style={{ minWidth: \"265px\", minHeight: \"265px\" }}></div>\r\n        <Link to=\"/t/sms\">Text Customer</Link>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import { useState, useEffect } from \"react\";\r\n\r\nconst useMousePosition = () => {\r\n  const [mousePosition, setMousePosition] = useState({ x: null, y: null });\r\n\r\n  const updateMousePosition = (ev) => {\r\n    setMousePosition({ x: ev.clientX, y: ev.clientY });\r\n  };\r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\"click\", updateMousePosition);\r\n\r\n    return () => window.removeEventListener(\"click\", updateMousePosition);\r\n  }, []);\r\n\r\n  return mousePosition;\r\n};\r\n\r\nexport default useMousePosition;\r\n","import React, { useState, useRef } from \"react\";\r\nimport { usePdf } from \"@mikecousins/react-pdf\";\r\nimport useMousePosition from \"../../utils/useMousePosition\";\r\n\r\nexport const BillOfLading = () => {\r\n  const [page, setPage] = useState(1);\r\n  const [coordinates, setCoordinates] = useState({ x: 0, y: 0 });\r\n\r\n  const canvasRef = useRef(null);\r\n\r\n  const { x, y } = useMousePosition();\r\n  const hasMovedCursor = typeof x === \"number\" && typeof y === \"number\";\r\n\r\n  const { pdfDocument /*, pdfPage*/ } = usePdf({\r\n    file: process.env.PUBLIC_URL + \"/pdf/bol-sfm.pdf\",\r\n    page,\r\n    canvasRef,\r\n  });\r\n\r\n  const getCoordinates = (e) => {\r\n    var rect = e.target.getBoundingClientRect();\r\n    var x = e.clientX - rect.left; //x position within the element.\r\n    var y = e.clientY - rect.top; //y position within the element.\r\n    setCoordinates({ x, y: -(y - 792) });\r\n    // console.log(\"Left? : \" + x + \" ; Top? : \" + -(y - 792) + \".\");\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1>\r\n        {hasMovedCursor ? `coordinate: x: ${coordinates.x}, y: ${coordinates.y}.` : \"Click anywhere on document.\"}\r\n      </h1>\r\n      {!pdfDocument && <span>Loading...</span>}\r\n      <canvas ref={canvasRef} className=\"mx-auto\" onClick={getCoordinates} />\r\n      {Boolean(pdfDocument && pdfDocument.numPages) && (\r\n        <nav>\r\n          <ul className=\"pager\">\r\n            <li className=\"previous\">\r\n              <button disabled={page === 1} onClick={() => setPage(page - 1)}>\r\n                Previous\r\n              </button>\r\n            </li>\r\n            <li className=\"next\">\r\n              <button disabled={page === pdfDocument.numPages} onClick={() => setPage(page + 1)}>\r\n                Next\r\n              </button>\r\n            </li>\r\n          </ul>\r\n        </nav>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\n// https://codepen.io/ValerioEmanuele/pen/pGRZqe?editors=0010\r\n// https://stackoverflow.com/questions/61666513/getting-mouse-coordinates-from-an-embedded-pdf-object-element\r\n// [{\"descrizione\":\"RAPINA \",\"posizioneX\":128.2377740303541,\"posizioneY\":550.3238095238096,\"valore\":\"X\"},\r\n// {\"descrizione\":\"PACCHI \",\"posizioneX\":5.826306913996632,\"posizioneY\":9.038095238095252,\"valore\":\"X\"}]\r\n\r\n// const fileCoords = {\r\n//   file: \"bol.pdf\",\r\n//   poi: [\r\n//     {\r\n//       name: \"Non-binding estimate\",\r\n//       type: \"initials\",\r\n//       x: 24,\r\n//       y: 462,\r\n//     },\r\n//     {\r\n//       name: \"Bind Estimate\",\r\n//       type: \"initials\",\r\n\r\n//       x: 24,\r\n//       y: 373,\r\n//     },\r\n//     {\r\n//       name: \"Valuation Basic\",\r\n//       type: \"initials\",\r\n\r\n//       x: 24,\r\n//       y: 323,\r\n//     },\r\n//     {\r\n//       name: \"Valuation Replacement with Deductible\",\r\n//       type: \"initials\",\r\n\r\n//       x: 24,\r\n//       y: 275,\r\n//     },\r\n//     {\r\n//       name: \"Valuation Replacement\",\r\n//       type: \"initials\",\r\n\r\n//       x: 24,\r\n//       y: 222,\r\n//     },\r\n//     {\r\n//       name: \"Valuation Client Signature\",\r\n//       type: \"signature\",\r\n\r\n//       x: 24,\r\n//       y: 103,\r\n//     },\r\n//     {\r\n//       name: \"Valuation Carrier Signature\",\r\n//       type: \"signature\",\r\n\r\n//       x: 24,\r\n//       y: 73,\r\n//     },\r\n//     {\r\n//       name: \"Signature of Customer\",\r\n//       type: \"signature\",\r\n\r\n//       x: 320,\r\n//       y: 40,\r\n//     },\r\n//   ],\r\n// };\r\n\r\n// const data = {\r\n//   EMAIL: \"\",\r\n//   \"TOTAL ITEM 15 CU SMALL\": \"\",\r\n//   \"AMOUNT Piano\": \"\",\r\n//   \"TOTAL ITEM 30 CU MEDIUM\": \"\",\r\n//   \"AMOUNT Removal\": \"\",\r\n//   \"TOTAL ITEM 45 CU LARGE\": \"\",\r\n//   \"AMOUNT Hoist\": \"\",\r\n//   \"TOTAL ITEM DISHPACK\": \"\",\r\n//   \"AMOUNT Ferry\": \"\",\r\n//   \"TOTAL ITEM MIRROR PACK\": \"\",\r\n//   \"AMOUNT Storage\": \"\",\r\n//   \"TOTAL ITEM MATTRESS BAG\": \"\",\r\n//   \"TOTAL ITEM WARDROBE\": \"\",\r\n//   \"TOTAL ITEM Carpet Protection\": \"\",\r\n//   \"SUBTOTAL 1234\": \"\",\r\n//   \"TOTAL MOVING CHARGES\": \"\",\r\n//   \"TOTAL AMOUNT PAID\": \"\",\r\n//   \"TIPS  BALANCE DUE\": \"\",\r\n//   \"PHONE 1\": \"\",\r\n//   \"PHONE 2\": \"\",\r\n//   Name: \"\",\r\n//   Origin: \"\",\r\n//   \"Other Stops\": \"\",\r\n//   Destination: \"\",\r\n//   Notes: \"\",\r\n//   PERSONNEL: \"\",\r\n//   \"valuation with deductible\": \"\",\r\n//   \"Shipment Value\": \"\",\r\n//   \"valuation no deductible\": \"\",\r\n//   \"Selected Valuation\": \"\",\r\n//   \"Hourly Rate\": \"\",\r\n//   \"Mileage Miles\": \"\",\r\n//   \"Hourly Time Start\": \"\",\r\n//   \"Hourly Time Arrive\": \"\",\r\n//   \"Hourly Time Depart\": \"\",\r\n//   \"Hourly Time End\": \"\",\r\n//   \"Hourly Time Breaks\": \"\",\r\n//   \"Hourly Time TOTAL\": \"\",\r\n//   \"Travel Fee\": \"\",\r\n//   \"Mileage Weight Gross\": \"\",\r\n//   \"Mileage Weight Tare\": \"\",\r\n//   \"Mileage Weight Net\": \"\",\r\n//   \"Mileage Rate\": \"\",\r\n//   \"Total Transportation\": \"\",\r\n//   \"QTY SMALL\": \"\",\r\n//   \"QTY MEDIUM\": \"\",\r\n//   \"QTY LARGE\": \"\",\r\n//   \"QTY DISHPACK\": \"\",\r\n//   \"QTY MIRROR PACK\": \"\",\r\n//   \"QTY MATTRESS BAG\": \"\",\r\n//   \"QTY WARDROBE\": \"\",\r\n//   \"QTY Carpet Protection\": \"\",\r\n//   \"QTY Custom\": \"\",\r\n//   Custom: \"\",\r\n//   \"RATE SMALL\": \"\",\r\n//   \"RATE MEDIUM\": \"\",\r\n//   \"RATE LARGE\": \"\",\r\n//   \"RATE DISHPACK\": \"\",\r\n//   \"RATE MIRROR PACK\": \"\",\r\n//   \"RATE MATTRESS BAG\": \"\",\r\n//   \"RATE WARDROBE\": \"\",\r\n//   \"RATE Carpet Protection\": \"\",\r\n//   \"RATE Custom\": \"\",\r\n//   \"TOTAL ITEM Custom\": \"\",\r\n//   \"TOTAL PACKING  MATERIAL\": \"\",\r\n//   \"MISC CUSTOM 1\": \"\",\r\n//   \"MISC CUSTOM 2\": \"\",\r\n//   \"MISC CUSTOM 3\": \"\",\r\n//   \"TOTAL OTHER\": \"\",\r\n//   \"AMOUNT CUSTOM 1\": \"\",\r\n//   \"AMOUNT CUSTOM 2\": \"\",\r\n//   \"AMOUNT CUSTOM 3\": \"\",\r\n//   \"CLEAR Hourly\": \"\",\r\n//   \"CLEAR Hourly Rate TF\": \"\",\r\n//   \"CLEAR Mileage\": \"\",\r\n//   \"CLEAR QTY\": \"\",\r\n//   \"CLEAR Total Items\": \"\",\r\n//   \"CLEAR Misc Items\": \"\",\r\n//   \"CLEAR Misc Amount\": \"\",\r\n//   \"Clear Section\": \"\",\r\n//   Adjustment: \"\",\r\n//   \"CLEAR VALUATION\": \"\",\r\n//   \"CLEAR TOTAL CHARGES\": \"\",\r\n//   \"CLEAR D All\": \"\",\r\n//   \"CLEAR Total Transportation\": \"\",\r\n//   \"CLEAR Name\": \"\",\r\n//   \"CLEAR Origin\": \"\",\r\n//   \"CLEAR Other Stops\": \"\",\r\n//   \"CLEAR Destination\": \"\",\r\n//   \"CLEAR Personnel\": \"\",\r\n//   \"CLEAR Notes\": \"\",\r\n//   \"CLEAR Phone\": \"\",\r\n//   \"CLEAR Email\": \"\",\r\n//   \"Import Rates\": \"\",\r\n//   \"CLEAR CUSTOMER INFORMATION\": \"\",\r\n//   \"CLEAR ALL DATA\": \"\",\r\n//   Printer: \"\",\r\n//   print3: \"\",\r\n//   \"File name\": \"\",\r\n//   SaveAS: \"\",\r\n//   \"Manual Box Sum\": \"\",\r\n//   \"Manual Other Sum\": \"\",\r\n//   \"Selected Printer\": \"\",\r\n// };\r\n","import React, { useContext, useReducer, createContext, useEffect } from \"react\";\r\n\r\nconst MaterialsContext = createContext();\r\nconst MaterialsDispatchContext = createContext();\r\n\r\nconst useMaterials = () => {\r\n  const context = useContext(MaterialsContext);\r\n  if (context === undefined) {\r\n    throw new Error(\"useMaterials must be used within a MaterialsProvider\");\r\n  }\r\n  return context;\r\n};\r\nconst useMaterialsDispatch = () => {\r\n  const context = useContext(MaterialsDispatchContext);\r\n  if (context === undefined) {\r\n    throw new Error(\"useMaterialsDispatch must be used within a MaterialsDispatchProvider\");\r\n  }\r\n  return context;\r\n};\r\n\r\nconst materialsReducer = (state, { field, value, type, groupName = \"materials\", payload, id = null }) => {\r\n  if (!type) {\r\n    return {\r\n      ...state,\r\n      [field]: value,\r\n    };\r\n  } else {\r\n    const group = state[groupName];\r\n    switch (type) {\r\n      case \"fieldsUpdate\": {\r\n        return {\r\n          ...state,\r\n          ...payload,\r\n        };\r\n      }\r\n      case \"groupUpdate\": {\r\n        return {\r\n          ...state,\r\n          [groupName]: group?.find((g) => g.id === id)\r\n            ? group.map((g) => (id === g.id ? { ...g, ...payload } : g))\r\n            : [...group, { id, ...payload }],\r\n        };\r\n      }\r\n      case \"groupClear\": {\r\n        return {\r\n          ...state,\r\n          [groupName]: [],\r\n        };\r\n      }\r\n      case \"groupRemove\": {\r\n        return {\r\n          ...state,\r\n          [groupName]: group.filter((g) => g.id !== id),\r\n        };\r\n      }\r\n      default:\r\n        return state;\r\n    }\r\n  }\r\n};\r\n\r\nconst getInitialState = () => {\r\n  if (\"materials\" in localStorage) {\r\n    try {\r\n      return JSON.parse(localStorage.getItem(\"materials\"));\r\n    } catch (err) {\r\n      return {};\r\n    }\r\n  } else {\r\n    return { materials: [] };\r\n  }\r\n};\r\n\r\nconst withLocalStorageCache = (reducer) => {\r\n  return (state, action) => {\r\n    const newState = reducer(state, action);\r\n    localStorage.setItem(\"materials\", JSON.stringify(newState));\r\n    return newState;\r\n  };\r\n};\r\n\r\nconst MaterialsProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(withLocalStorageCache(materialsReducer), getInitialState());\r\n\r\n  const { materials } = state;\r\n\r\n  useEffect(() => {\r\n    dispatch({\r\n      field: \"totalMaterials\",\r\n      value: materials && materials.reduce((sum, { units, rate }) => sum + Number(units) * Number(rate), 0),\r\n    });\r\n  }, [materials, dispatch]);\r\n\r\n  return (\r\n    <MaterialsContext.Provider value={state}>\r\n      <MaterialsDispatchContext.Provider value={dispatch}>{children}</MaterialsDispatchContext.Provider>\r\n    </MaterialsContext.Provider>\r\n  );\r\n};\r\n\r\nexport { MaterialsProvider, useMaterials, useMaterialsDispatch };\r\n","import { AccessTime, CreditCard, Delete, DirectionsWalk, Edit, Message, Phone, Save } from \"@material-ui/icons\";\r\nimport React, { useState, useEffect, useReducer } from \"react\";\r\nimport { ButtonSelect } from \"../Inputs/ButtonSelect\";\r\nimport { Input } from \"../Inputs/Input\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport { isIOS } from \"react-device-detect\";\r\n\r\nimport { useSelector } from \"react-redux\";\r\nimport { useFirestoreConnect, useFirestore, isLoaded, isEmpty } from \"react-redux-firebase\";\r\nimport { timestamp } from \"../..\";\r\nimport { nanoid } from \"nanoid\";\r\n\r\nfunction useQuery() {\r\n  return new URLSearchParams(useLocation().search);\r\n}\r\n\r\nconst reducer = (state, action) => {\r\n  console.log(\"reducer\");\r\n\r\n  switch (action.type) {\r\n    case \"update\":\r\n      return { ...state, ...action.payload };\r\n    case \"clear\":\r\n      return {};\r\n\r\n    default:\r\n      break;\r\n  }\r\n  return { ...state };\r\n};\r\n\r\nexport const MakeText = () => {\r\n  let query = useQuery();\r\n  const firestore = useFirestore();\r\n\r\n  const initialState = {\r\n    phone: query.get(\"p\") || query.get(\"phone\") || \"\",\r\n    customer: query.get(\"n\") || query.get(\"name\") || \"\",\r\n    greeting: isNowAMPM() === \"AM\" ? \"Good Morning\" : \"Good afternoon\",\r\n    crewLead: \"Arnas\",\r\n    company: \"Paramount Transportation Systems\",\r\n    moveType: \"delivering\",\r\n    scheduledETA: \"1 p.m. to 4 p.m.\",\r\n    sms: \"\",\r\n    editId: \"\",\r\n  };\r\n\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n\r\n  const { phone, customer, greeting, crewLead, company, moveType, scheduledETA, sms, editId } = state;\r\n\r\n  const onChange = (e) => dispatch({ type: \"update\", payload: { [e.target.name]: e.target.value } });\r\n\r\n  const handleEdit = (id, payload) => {\r\n    return function (e) {\r\n      console.log({ id, payload });\r\n      // if (!!payload) return null;\r\n      dispatch({ type: \"update\", payload: { editId: id, ...payload } });\r\n    };\r\n  };\r\n\r\n  function addSMS() {\r\n    const payload = { phone, customer, greeting, crewLead, company, moveType, scheduledETA, sms };\r\n    if (!!editId) {\r\n      const tempId = editId;\r\n      dispatch({ type: \"update\", payload: { editId: \"\" } });\r\n\r\n      return firestore.collection(\"sms\").doc(tempId).update(payload);\r\n    }\r\n    return firestore.collection(\"sms\").add(payload);\r\n  }\r\n\r\n  useEffect(() => {\r\n    dispatch({\r\n      type: \"update\",\r\n      payload: {\r\n        sms: `${greeting}${\r\n          !!customer ? \" \" + customer : \"\"\r\n        }, this is Arnas with ${company}. We'll be ${moveType} today. Our scheduled ETA is ${scheduledETA}. If you have any questions please text me or call me. `,\r\n      },\r\n    });\r\n\r\n    return () => {};\r\n  }, [phone, customer, greeting, crewLead, company, moveType, scheduledETA]);\r\n\r\n  return (\r\n    <>\r\n      <div className=\"bg-gray-100 p-2 rounded-b-lg\">\r\n        {!!editId && (\r\n          <>\r\n            <span>Editing: {editId}</span>\r\n            <button onClick={() => dispatch({ type: \"clear\" })}>x</button>\r\n          </>\r\n        )}\r\n        <Input name=\"phone\" Icon={Phone} value={phone} onChange={onChange} placeholder=\"Text phone number\" />\r\n\r\n        <Input name=\"customer\" Icon={DirectionsWalk} value={customer} onChange={onChange} placeholder=\"Customer name\" />\r\n        <Input\r\n          name=\"scheduledETA\"\r\n          Icon={DirectionsWalk}\r\n          value={scheduledETA}\r\n          onChange={onChange}\r\n          placeholder=\"scheduledETA\"\r\n        />\r\n        <div className=\"bg-white mx-2 py-1 rounded-md\">\r\n          <ButtonSelect\r\n            name=\"greeting\"\r\n            value={greeting}\r\n            onClick={onChange}\r\n            buttons={[\r\n              { value: \"Good morning\", placeholder: \"Morning\", Icon: AccessTime },\r\n              { value: \"Good afternoon\", placeholder: \"Afternoon\", Icon: CreditCard },\r\n              { value: \"Hello\", placeholder: \"Neutral\", Icon: CreditCard },\r\n            ]}\r\n          />\r\n        </div>\r\n        <div className=\"bg-white mx-2 py-1 rounded-md\">\r\n          <ButtonSelect\r\n            name=\"moveType\"\r\n            value={moveType}\r\n            onClick={onChange}\r\n            buttons={[\r\n              { value: \"delivering your goods \", placeholder: \"Delivery\", Icon: AccessTime },\r\n              { value: \"packing up your goods \", placeholder: \"Origin\", Icon: CreditCard },\r\n              { value: \"moving you\", placeholder: \"Local\", Icon: CreditCard },\r\n            ]}\r\n          />\r\n        </div>\r\n        <div className=\"bg-white mx-2 py-1 rounded-md\">\r\n          <ButtonSelect\r\n            name=\"company\"\r\n            value={company}\r\n            onClick={onChange}\r\n            buttons={[\r\n              { value: \"Paramount Transportation Systems\", placeholder: \"Paramount\", Icon: AccessTime },\r\n              { value: \"SuperFriends Moving\", placeholder: \"SuperFriends\", Icon: CreditCard },\r\n            ]}\r\n          />\r\n        </div>\r\n        <div className=\"eta-window\"></div>\r\n\r\n        <div className=\"bg-white p-10 my-2 rounded-lg\">{sms}</div>\r\n        <div className=\"flex justify-center\">\r\n          <a\r\n            className=\"bg-green-500 text-white p-2 px-4 rounded-md\"\r\n            href={`sms:${phone}${isIOS ? \"&\" : \"?\"}body=${sms}`}\r\n            target=\"_blank\"\r\n          >\r\n            <Message className=\"mr-2\" /> Send text\r\n          </a>\r\n          <button className=\"text-blue-500 px-4 py-2\" onClick={addSMS}>\r\n            <Save className=\"mr-2\" />\r\n            Save\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <ListSMS handleEdit={handleEdit} />\r\n    </>\r\n  );\r\n};\r\n\r\nfunction isNowAMPM() {\r\n  return new Date().getHours() >= 12 ? \"PM\" : \"AM\";\r\n}\r\n\r\nconst smsQuery = {\r\n  collection: \"sms\",\r\n  limitTo: 10,\r\n};\r\n\r\nconst ListSMS = ({ handleEdit }) => {\r\n  let history = useHistory();\r\n  const firestore = useFirestore();\r\n\r\n  useFirestoreConnect(() => [smsQuery]);\r\n  const sms = useSelector(({ firestore: { ordered } }) => ordered.sms);\r\n\r\n  // Show a message while sms are loading\r\n  if (!isLoaded(sms)) {\r\n    return \"Loading\";\r\n  }\r\n\r\n  // Show a message if there are no sms\r\n  if (isEmpty(sms)) {\r\n    return \"Todo list is empty\";\r\n  }\r\n\r\n  return (\r\n    <div className=\"sidebar flex flex-col w-full bg-gray-50 mt-4 p-4 rounded-md\">\r\n      {sms.map(({ id, ...rest }, ind) => (\r\n        <SMSLink key={`${id}-${ind}`} id={id} handleEdit={handleEdit} {...rest} />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst SMSLink = (props) => {\r\n  const { id, handleEdit, ...rest } = props;\r\n  return (\r\n    <div className=\" w-full p-2 grid grid-flow-col auto-cols-fr justify-items-center text-xs \">\r\n      {/* <div>Date</div> */}\r\n      <div>{rest?.customer}</div>\r\n      <div>{rest?.phone}</div>\r\n      <div>{rest?.moveType}</div>\r\n      <div>{id}</div>\r\n      <div className=\"flex\">\r\n        <div className=\"px-2 cursor-pointer\" onClick={handleEdit(id, rest)}>\r\n          <Edit />\r\n        </div>\r\n        <div className=\"px-2\">\r\n          <Delete />\r\n        </div>\r\n      </div>\r\n      {/* {JSON.stringify(rest)} */}\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Route, Switch } from \"react-router-dom\";\r\nimport { MaterialsWProvider } from \"../Moves/Materials\";\r\nimport { BillOfLading } from \"./BillOfLading\";\r\nimport { MaterialsProvider, useMaterialsDispatch, useMaterials } from \"../Providers/MaterialsProvider\";\r\nimport { MakeText } from \"./MakeText\";\r\n\r\nexport const ToosWProviders = () => {\r\n  const materials = useMaterials();\r\n  const materialsDispatch = useMaterialsDispatch();\r\n\r\n  return (\r\n    <div className=\"flex flex-col items-stretch w-full sm:w-3/4 mx-auto lg:w-1/2 pb-10\">\r\n      <Switch>\r\n        <Route path={`/t/materials`}>\r\n          <MaterialsWProvider state={materials} dispatch={materialsDispatch} />\r\n        </Route>\r\n        <Route path={`/t/coordinates`}>\r\n          <BillOfLading />\r\n        </Route>\r\n        <Route path={`/t/sms`}>\r\n          <MakeText />\r\n        </Route>\r\n      </Switch>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const Tool = () => {\r\n  return (\r\n    <MaterialsProvider>\r\n      <ToosWProviders />\r\n    </MaterialsProvider>\r\n  );\r\n};\r\n","import React, { memo, useState, useCallback } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Menu, Clear, TurnedIn, TurnedInNot } from \"@material-ui/icons\";\r\n\r\nexport const Appbar = memo((props) => {\r\n  const [open, setOpen] = useState(false);\r\n  const [pinned, setPinned] = useState(false);\r\n  const url = `${process.env.PUBLIC_URL}/favicon.ico`;\r\n\r\n  const toggleOpen = useCallback(() => (!pinned ? setOpen((o) => !o) : null), [pinned]);\r\n  const togglePin = useCallback(() => setPinned((p) => !p), []);\r\n\r\n  const NavLink = ({ to, text }) => {\r\n    return (\r\n      <li className=\"px-2 nav-item\">\r\n        <Link\r\n          onClick={toggleOpen}\r\n          className=\"px-3 py-2 flex items-center text-xs uppercase font-bold leading-snug text-white hover:opacity-75 ml-2\"\r\n          to={to}\r\n          replace\r\n        >\r\n          {text}\r\n        </Link>\r\n      </li>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <nav className=\" flex flex-wrap items-center justify-between px-2 py-1 navbar-expand-lg bg-purple-900 shadow-md border-b-2 border-purple-800 \">\r\n      <div className=\"container px-4 mx-auto flex flex-wrap items-center justify-between\">\r\n        <div className=\"w-full relative flex justify-between lg:w-auto lg:static lg:block lg:justify-start\">\r\n          <Link to=\"/\">\r\n            <div className=\"flex text-white   cursor-pointer text-xl leading-none px-3 py-1 border border-solid border-transparent rounded bg-transparent  outline-none focus:outline-none \">\r\n              <img className=\"bg-white w-6 h-6 p-1\" src={url} alt=\"\" />\r\n              <span className=\"px-2 text-white\">\r\n                <strong>SFM</strong>\r\n              </span>\r\n            </div>\r\n          </Link>\r\n          <div className=\"flex \">\r\n            {open && (\r\n              <button\r\n                type=\"button\"\r\n                onClick={togglePin}\r\n                className=\"text-white opacity-30 cursor-pointer text-xl leading-none px-3 py-1 border border-solid border-transparent rounded bg-transparent block lg:hidden outline-none focus:outline-none\"\r\n              >\r\n                {pinned ? <TurnedIn /> : <TurnedInNot />}\r\n              </button>\r\n            )}\r\n\r\n            <button\r\n              className=\"text-white cursor-pointer text-xl leading-none px-3 py-1 border border-solid border-transparent rounded bg-transparent block lg:hidden outline-none focus:outline-none\"\r\n              type=\"button\"\r\n              onClick={toggleOpen}\r\n            >\r\n              {open ? <Clear /> : <Menu />}\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <div className={\"lg:flex flex-grow items-center\" + (open ? \" flex\" : \" hidden\")} id=\"example-navbar-danger\">\r\n          <ul className=\"flex flex-col lg:flex-row list-none lg:ml-auto\">\r\n            <NavLink to=\"/moves\" text=\"Moves\" />\r\n            <NavLink to=\"/estimates\" text=\"Estimates\" />\r\n            <NavLink to=\"/paramount\" text=\"Paramount\" />\r\n            <NavLink to=\"/dispatch\" text=\"Dispatch\" />\r\n            <NavLink to=\"/warehouse\" text=\"Warehouse\" />\r\n            <NavLink to=\"/tools\" text=\"tools\" />\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n});\r\n","import React from \"react\";\r\nimport { HashRouter as Router, Switch, Route, Redirect } from \"react-router-dom\";\r\n\r\nimport { Moves } from \"./components/Moves/Moves\";\r\nimport { Move } from \"./components/Moves/Move\";\r\nimport { MoveInOne } from \"./components/Moves/MoveInOne\";\r\n\r\nimport { Estimates } from \"./components/Estimates/Estimates\";\r\nimport { Estimate } from \"./components/Estimates/Estimate\";\r\n\r\nimport { Paramounts } from \"./components/Paramount/Paramounts\";\r\nimport { Paramount } from \"./components/Paramount/Paramount\";\r\n\r\nimport { Dispatch } from \"./components/Dispatch/Dispatch\";\r\nimport { Job } from \"./components/Dispatch/Job\";\r\n\r\nimport Warehouse from \"./components/Warehouse/Warehouse\";\r\nimport Ware from \"./components/Warehouse/Ware\";\r\n\r\nimport { Tools } from \"./components/Tools/Tools\";\r\nimport { Tool } from \"./components/Tools/Tool\";\r\n\r\nimport { Appbar } from \"./components/Layout/Appbar\";\r\n\r\n// import firebase from \"firebase/app\";\r\n// import \"firebase/firestore\";\r\n// import \"firebase/auth\";\r\n\r\n// import { useAuthState } from \"react-firebase-hooks/auth\";\r\n// import { useCollectionData } from \"react-firebase-hooks/firestore\";\r\n\r\n// const firebaseConfig = {\r\n//   apiKey: \"AIzaSyB1WHQPb434r37qVAQYoC53f5_cyaxMWmg\",\r\n//   authDomain: \"sfm-tools-448ab.firebaseapp.com\",\r\n//   projectId: \"sfm-tools-448ab\",\r\n//   storageBucket: \"sfm-tools-448ab.appspot.com\",\r\n//   messagingSenderId: \"980029527425\",\r\n//   appId: \"1:980029527425:web:52b20aa5a85cca58b20480\",\r\n// };\r\n\r\n// if (!firebase.apps.length) {\r\n//   firebase.initializeApp({});\r\n// } else {\r\n//   firebase.app(); // if already initialized, use that one\r\n// }\r\n\r\n// firebase.initializeApp(firebaseConfig);\r\n\r\n// const auth = firebase.auth();\r\n// const firestore = firebase.firestore();\r\n\r\nfunction App() {\r\n  // const [user] = useAuthState(auth);\r\n\r\n  return (\r\n    <Router basename=\"/\">\r\n      <div className=\"min-h-screen w-full flex flex-col justify-between \">\r\n        <Appbar />\r\n        {/* <div className=\"p-5 bg-white\"> */}\r\n        {/* {user ? (\r\n          <div>\r\n            yes user <SignOut />\r\n          </div>\r\n        ) : (\r\n          <SignIn />\r\n        )} */}\r\n        {/* </div> */}\r\n        <div className=\"flex-grow relative w-full rounded-b-lg shadow-2xl  \">\r\n          <Switch>\r\n            <Redirect exact from=\"/\" to=\"/p/R2tpMl/\" />\r\n            <Redirect exact from=\"/materials\" to=\"/t/materials\" />\r\n            <Redirect exact from=\"/bol\" to=\"/t/coordinates\" />\r\n            <Redirect exact from=\"/bingo\" to=\"/t/loadchart\" />\r\n\r\n            <Route path=\"/moves\" component={Moves} />\r\n            <Route path=\"/m/:moveId\" component={Move} />\r\n\r\n            <Route path=\"/estimates\" component={Estimates} />\r\n            <Route path=\"/e/:estimateId\" component={Estimate} />\r\n\r\n            <Route path=\"/paramount\" component={Paramounts} />\r\n            <Route path=\"/p/:pId\" component={Paramount} />\r\n\r\n            <Route path=\"/dispatch\" component={Dispatch} />\r\n            <Route path=\"/d/:jobId\" component={Job} />\r\n\r\n            <Route path=\"/warehouse\" component={Warehouse} />\r\n            <Route path=\"/w/:wId\" component={Ware} />\r\n\r\n            <Route path=\"/tools\" component={Tools} />\r\n            <Route path=\"/t/:toolId\" component={Tool} />\r\n          </Switch>\r\n          <Switch>\r\n            <Route path=\"/m1/:moveId\" component={MoveInOne} />\r\n          </Switch>\r\n        </div>\r\n        {/* <div className=\"w-full h-20 mt-8 \">FOOTER</div> */}\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\nexport default App;\r\n\r\n// function SignIn() {\r\n//   const signInWithGoogle = () => {\r\n//     const provider = new firebase.auth.GoogleAuthProvider();\r\n//     auth.signInWithPopup(provider);\r\n//   };\r\n\r\n//   return (\r\n//     <>\r\n//       <button className=\"sign-in\" onClick={signInWithGoogle}>\r\n//         Sign in with Google\r\n//       </button>\r\n//       <p>Do not violate the community guidelines or you will be banned for life!</p>\r\n//     </>\r\n//   );\r\n// }\r\n\r\n// function SignOut() {\r\n//   return (\r\n//     auth.currentUser && (\r\n//       <button className=\"sign-out\" onClick={() => auth.signOut()}>\r\n//         Sign Out\r\n//       </button>\r\n//     )\r\n//   );\r\n// }\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import { SET_FILTER } from \"../actionTypes\";\r\nimport { VISIBILITY_FILTERS } from \"../../constants\";\r\n\r\nconst initialState = VISIBILITY_FILTERS.ALL;\r\n\r\nconst visibilityFilter = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_FILTER: {\r\n      return action.payload.filter;\r\n    }\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n};\r\n\r\nexport default visibilityFilter;\r\n","import { ADD_WARE, TOGGLE_WARE } from \"../actionTypes\";\r\n\r\nconst initialState = {\r\n  allIds: [],\r\n  byIds: {},\r\n};\r\n\r\nexport default function wares(state = initialState, action) {\r\n  switch (action.type) {\r\n    case ADD_WARE: {\r\n      const { id, content } = action.payload;\r\n      return {\r\n        ...state,\r\n        allIds: [...state.allIds, id],\r\n        byIds: {\r\n          ...state.byIds,\r\n          [id]: {\r\n            content,\r\n            completed: false,\r\n          },\r\n        },\r\n      };\r\n    }\r\n    case TOGGLE_WARE: {\r\n      const { id } = action.payload;\r\n      return {\r\n        ...state,\r\n        byIds: {\r\n          ...state.byIds,\r\n          [id]: {\r\n            ...state.byIds[id],\r\n            completed: !state.byIds[id].completed,\r\n          },\r\n        },\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","//TODO CREATE ACTION TYPES\r\n// import { ADD_WARE, TOGGLE_WARE } from \"../actionTypes\";\r\n\r\nconst initialState = {\r\n  materials: [],\r\n  miscFees: [],\r\n};\r\n\r\nexport default function move(state = initialState, { field, value = \"\", type, groupName, payload, id = null }) {\r\n  if (!type && field) {\r\n    return {\r\n      ...state,\r\n      [field]: value,\r\n    };\r\n  } else {\r\n    const group = state[groupName];\r\n    switch (type) {\r\n      case \"fieldsUpdate\": {\r\n        return {\r\n          ...state,\r\n          ...payload,\r\n        };\r\n      }\r\n      case \"groupUpdate\": {\r\n        if (!id || !groupName || !group) return { ...state };\r\n        return {\r\n          ...state,\r\n          [groupName]: group?.find((g) => g.id === id)\r\n            ? group?.map((g) => (id === g.id ? { ...g, ...payload } : g))\r\n            : [...group, { id, ...payload }],\r\n        };\r\n      }\r\n      case \"groupClear\": {\r\n        if (!groupName) return { ...state };\r\n        return {\r\n          ...state,\r\n          [groupName]: [],\r\n        };\r\n      }\r\n      case \"groupRemove\": {\r\n        if (!id || !groupName) return { ...state };\r\n        return {\r\n          ...state,\r\n          [groupName]: group.filter((g) => g.id !== id),\r\n        };\r\n      }\r\n      case \"clearData\": {\r\n        return initialState;\r\n      }\r\n      default:\r\n        return state;\r\n    }\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport { firebaseConfig } from \"./firebase/firebaseConfig\";\r\n\r\n// import \"./assets/main.css\";\r\nimport { Provider } from \"react-redux\";\r\n// import store from \"./redux/store\";\r\nimport \"./index.css\";\r\n\r\nimport App from \"./App\";\r\n\r\nimport * as serviceWorker from \"./serviceWorker\";\r\n\r\nimport firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/storage\";\r\nimport \"firebase/firestore\"; // <- needed if using firestore\r\nimport \"firebase/functions\"; // <- needed if using httpsCallable\r\nimport { createStore, combineReducers } from \"redux\";\r\nimport { ReactReduxFirebaseProvider } from \"react-redux-firebase\";\r\nimport { createFirestoreInstance, firestoreReducer } from \"redux-firestore\"; // <- needed if using firestore\r\n\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\n\r\nimport visibilityFilter from \"./redux/reducers/visibilityFilter\";\r\nimport wares from \"./redux/reducers/wares\";\r\nimport move from \"./redux/reducers/move\";\r\n\r\n// react-redux-firebase config\r\nconst rrfConfig = {\r\n  userProfile: \"users\",\r\n  useFirestoreForProfile: true, // Firestore for Profile instead of Realtime DB\r\n};\r\n\r\n// Initialize firebase instance\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\n// Initialize other services on firebase instance\r\nconst projectFirestore = firebase.firestore(); // <- needed if using firestore\r\nconst projectFunctions = firebase.functions(); // <- needed if using httpsCallable\r\nconst projectStorage = firebase.storage();\r\nconst timestamp = firebase.firestore.FieldValue.serverTimestamp;\r\n\r\n// Add firebase to reducers\r\nconst rootReducer = combineReducers({\r\n  // firebase: firebaseReducer,\r\n  visibilityFilter,\r\n  wares,\r\n  move,\r\n  firestore: firestoreReducer, // <- needed if using firestore\r\n});\r\n\r\n// Create store with reducers and initial state\r\n// const initialState = {};\r\nconst store = createStore(rootReducer, composeWithDevTools());\r\n\r\nconst rrfProps = {\r\n  firebase,\r\n  config: rrfConfig,\r\n  dispatch: store.dispatch,\r\n  createFirestoreInstance, // <- needed if using firestore\r\n};\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <ReactReduxFirebaseProvider {...rrfProps}>\r\n        <App />\r\n      </ReactReduxFirebaseProvider>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n\r\nexport { projectStorage, projectFirestore, projectFunctions, timestamp };\r\n","// firebaseConfig.js\r\n// Contains the config details of firebase, this should NOT be committed to your repo\r\n// if the repo is public\r\n// You could optionally use .env file to store these data\r\n\r\nexport const firebaseConfig = {\r\n  apiKey: \"AIzaSyB1WHQPb434r37qVAQYoC53f5_cyaxMWmg\",\r\n  authDomain: \"sfm-tools-448ab.firebaseapp.com\",\r\n  projectId: \"sfm-tools-448ab\",\r\n  storageBucket: \"sfm-tools-448ab.appspot.com\",\r\n  messagingSenderId: \"980029527425\",\r\n  appId: \"1:980029527425:web:52b20aa5a85cca58b20480\",\r\n};\r\n"],"sourceRoot":""}