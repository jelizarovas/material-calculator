{"version":3,"sources":["components/Moves/Moves.js","utils/vibrate.js","components/Inputs/CountButton.js","components/Moves/Material.js","utils/defaultMaterials.js","utils/helperFunctions.js","components/Providers/MoveProvider.js","components/Layout/SectionTitle.js","components/Layout/TableFooter.js","utils/useGroup.js","components/Moves/Materials.js","components/Inputs/Input.js","components/Moves/Client.js","components/Moves/MoveMenu.js","components/Moves/MoveBottomBar.js","components/Inputs/NoInput.js","components/Inputs/Select.js","components/Inputs/TimeInput.js","components/Moves/Local.js","components/Inputs/ButtonSelect.js","components/Moves/LongDistance.js","components/Moves/FlatRate.js","components/Inputs/Radio.js","components/Moves/Rates.js","components/Moves/Inventory.js","components/Inputs/SignatureBlock.js","components/Moves/SignButton.js","components/Moves/Estimate.js","utils/fillBOLForm.js","components/Moves/Overview.js","utils/defaultMiscFees.js","components/Moves/MiscFees.js","components/Moves/Move.js","components/Moves/PaymentType.js","components/Moves/Card.js","components/Moves/Payment.js","components/Moves/Signatures.js","components/Moves/Totals.js","components/Moves/PreviewPDF.js","components/Moves/ContactInfo.js","components/Moves/Locations.js","components/Moves/Dates.js","components/Moves/Valuation.js","components/Moves/Release.js","components/Moves/ClearData.js","components/Moves/MoveInOne.js","components/Estimates/Estimates.js","components/Estimates/Estimate.js","components/Paramount/Paramounts.js","components/Paramount/FieldsList.js","components/Paramount/ProgressBar.js","utils/useStorage.js","components/Paramount/UploadForm.js","components/Paramount/PacketList.js","components/Paramount/PreviewPDF.js","utils/fillPDF.js","components/Paramount/Paramount.js","components/Dispatch/Dispatch.js","components/Dispatch/Job.js","redux/actionTypes.js","redux/actions.js","components/Warehouse/AddWare.js","components/Warehouse/Ware.js","constants.js","redux/selectors.js","components/Warehouse/WareList.js","components/Warehouse/VisibilityFilters.js","components/Warehouse/Warehouse.js","components/Tools/Tools.js","utils/useMousePosition.js","components/Tools/BillOfLading.js","components/Providers/MaterialsProvider.js","components/Tools/MakeText.js","utils/abhsFill.js","components/Inputs/Button.js","components/Tools/ABHS.js","components/Tools/TipSplit.js","components/Tools/Tool.js","components/Layout/Appbar.js","App.js","serviceWorker.js","redux/reducers/visibilityFilter.js","redux/reducers/wares.js","redux/reducers/move.js","index.js","firebase/firebaseConfig.js"],"names":["movesQuery","collection","limitTo","MoveLink","id","firstName","lastName","fullName","phone","email","className","to","Moves","firestore","useFirestore","history","useHistory","newMove","a","nanoid","doc","set","createdAt","timestamp","console","log","push","pathname","useFirestoreConnect","moves","useSelector","ordered","isLoaded","isEmpty","filter","search","map","ind","rest","Toolbar","onClick","Filter","AddCircle","vibrate","ms","isMacOs","isIOS","window","navigator","CountButton","count","changeCount","min","type","name","clsx","onChange","e","val","parseInt","target","value","onKeyPress","key","preventDefault","onFocus","select","onKeyDown","blur","toString","memo","Material","props","handleChange","handleRemove","img","rate","units","total","isCustom","useCallback","Number","changeRate","changeInput","Delete","src","process","alt","defaultMaterials","volume","w","d","h","description","rent","getFormattedDate","date","year","getFullYear","getMonth","padStart","getDate","timeToDecimal","t","arr","split","dec","parseFloat","convertToHHMM","info","hrs","Math","round","money_round","num","ceil","incrementDate","dateString","Date","setDate","decrementDate","truncateString","str","length","slice","filterGroup","group","showNumber","defValue","defFun","v","Array","isArray","remainder","g","trimCanvas","rowBlank","imageData","width","y","x","data","columnBlank","top","bottom","canvas","ctx","getContext","getImageData","height","left","right","trimmed","copy","ownerDocument","createElement","copyCtx","putImageData","MoveContext","createContext","MoveDispatchContext","useMove","context","useContext","undefined","Error","useMoveDispatch","moveReducer","state","field","groupName","payload","find","MoveProvider","reducer","children","useReducer","action","newState","localStorage","setItem","JSON","stringify","parse","getItem","err","getInitialState","dispatch","valuation","valuationCost","valuationCostWithDeductible","shipmentValue","valuationRate","valuationRateWithDeductible","estimatedWeight","hourlyRate","travelTime","totalHours","startTime","endTime","arriveTime","departTime","breakTime","subtotal","materials","miscFees","isTravelFeeFixed","travelFee","totalValuation","cubicWeight","netWeight","grossWeight","tareWeight","weightType","mileageRate","totalMovingCharges","totalAmountPaid","flatIsMaterialsIncluded","paymentOption","totalTransportation","jobType","flatAmount","totalMaterials","totalMiscFees","useEffect","begin","finish","th","diff","sum","adjustment","adjustmentNumber","totalMovingChargesNumber","remainingBalanceNumber","Provider","sumIs","reduce","accumulator","currentValue","SectionTitle","title","plus","hidePlus","Icon","Icon2","onClick2","TableFooter","showMore","setShowMore","handleAdd","ArrowDropUp","ArrowDropDown","useGroup","defaultState","providerState","useState","base","newMerge","b","match","s","Guide","mergeDefaultWProvider","setGroup","update","forEach","i","add","propsObj","remove","clear","MaterialsWProvider","showMoreDefault","m","Materials","move","Input","placeholder","inputMode","step","readOnly","align","label","inputRef","useRef","htmlFor","ref","autoComplete","Client","client","phoneNumber","originAddress","destinationAddress","additionalStops","anyAdditionalStops","document","method","EmojiPeople","Phone","Email","Remove","Add","Home","AddLocation","LocalShipping","MoveMenu","showSideMenu","setshowSideMenu","navbarPinned","sideMenuStatus","text","MenuLink","url","useRouteMatch","activeClassName","MoveBottomBar","React","setNavbarPinned","useLocation","newp","steps","currentIndex","indexOf","isLastStep","isMobile","Clear","Menu","iconPosition","TurnedIn","TurnedInNot","inactive","NoteAdd","NavigateBefore","NavigateNext","Button","fontSize","color","NoInput","unit","replace","LinkOff","Select","options","defaultValueIndex","onDeselect","onSelect","open","UnfoldMore","aria-hidden","show","as","Fragment","leave","leaveFrom","leaveTo","Options","option","optionIdx","Option","active","selected","Check","mins","TimeInput","refs","acc","createRef","hours","minutes","time","setTime","isOpen","setOpen","wasHoursSelected","setHoursSelected","minuteRef","selectedHourRef","KEYBAORD_EVENTS","handleKeyDownHours","ev","includes","current","focus","onInputHoursChange","onInputMinutesChange","setCurrentTime","now","getHours","getMinutes","close","scrollIntoView","behavior","block","executeScroll","useLayer","onOutsideClick","onDisappear","overflowContainer","auto","placement","triggerOffset","containerOffset","arrowOffset","renderLayer","triggerProps","layerProps","arrowProps","Object","keys","max","AnimatePresence","static","hid","mid","Local","removeBreak","LocalOffer","Timer","AlarmOn","Restore","Update","idx","breakId","HourglassEmpty","Timelapse","TravelTime","times","BreakTime","timeType","setTimeType","ButtonSelect","defaultValue","buttons","vertical","button","index","isDisabled","isSelected","LongDistance","distance","SettingsEthernet","LocalShippingTwoTone","LocalShippingOutlined","FitnessCenter","WeightType","dateTypes","SettingsOverscan","Receipt","FlatRate","showHelp","setshowHelp","checked","Radio","showPrice","row","dense","obj","isObjempty","Warning","Label","disabled","Description","price","isNaN","Rates","LocalOfferTwoTone","JobType","jobTypes","AccessTime","CreditCard","Inventory","SignatureBlock","sigCanvas","onEnd","_canvas","toDataURL","penColor","minWidth","maxWidth","canvasProps","SignButton","showSignBlock","setShowSignBlock","toggleShowBlock","LockOpen","Gesture","Estimate","estimateIsBinding","bindingEstimateExists","estimateInitial","Lock","fillBOLForm","baseUrl","location","origin","formUrl","fetch","then","res","arrayBuffer","formPdfBytes","PDFDocument","load","pdfDoc","pages","getPages","form","getForm","setField","pdfField","condition","join","getTextField","setSignature","signature","bytes","embedPng","image","ratio","drawImage","setDateField","size","drawText","notes","valuationInitials","agreeToMoveSignature","agreedToEstimate","estimateAgreedDate","dates","crewLeadAssigned","crewSignature","appendixExists","initials","personnel","item","adjustmentText","balanceDueText","remainingBalance","jobComplete","flatten","save","pdfBytes","Overview","defaultMiscFees","defaultAmount","Straighten","setValue","pre","DeleteSweep","Weekend","DirectionsBoat","Widgets","DirectionsRun","TwoWheeler","HotTub","LocalParking","MiscFees","fees","setShowOnlySelected","justAdded","setJustAdded","feeRefs","feesFilter","f","parentNode","firstChild","lastChild","fee","inputref","Fee","showGuide","setShowGuide","toggleShowGuide","toggleSelected","data-id","CheckBoxTwoTone","CheckBoxOutlineBlank","ArrowRight","Move","path","redirect","fromEntries","u","urls","links","moveId","useParams","overview","rates","inventory","estimate","PaymentType","adjustmentRate","p","CARD_OPTIONS","iconStyle","style","iconColor","fontWeight","fontFamily","fontSmoothing","invalid","CardField","Field","required","SubmitButton","processing","error","ErrorMessage","role","viewBox","fill","ResetButton","CheckoutForm","stripe","useStripe","elements","useElements","setError","cardComplete","setCardComplete","setProcessing","paymentMethod","setPaymentMethod","billingDetails","setBillingDetails","handleSubmit","event","getElement","createPaymentMethod","card","CardElement","billing_details","onSubmit","complete","message","ELEMENTS_OPTIONS","fonts","cssSrc","stripePromise","loadStripe","Card","Payment","Signatures","spanClass","Totals","pdfjs","GlobalWorkerOptions","workerSrc","version","ContactInfo","Locations","Dates","dateType","DateType","EventAvailable","DateRange","DatesList","newArray","handleDelete","splice","canDelete","Day","CalendarToday","Today","EventBusy","Valuation","showChangeRates","setShowChangeRates","completed","setCompleted","StarOutline","StarHalf","Star","Edit","AttachMoney","ValuationRates","Release","ClearData","colClass","MoveInOne","Estimates","input","setInput","editId","setEditId","addTodo","tempId","handleEdit","ListEstimates","todos","delete","todo","ParamountLink","paramountId","Paramounts","setstate","setFilter","faker","findName","internet","values","toLowerCase","Search","SearchOutlined","fields","FieldsList","ListItem","border","backgroundColor","padding","marginRight","marginBottom","float","Box","useDrag","end","monitor","dropResult","getDropResult","alertMessage","allowedDropEffect","dropEffect","isCopyAction","collect","opacity","isDragging","drag","ProgressBar","file","setFile","onUrlAdded","progress","setProgress","setUrl","storageRef","projectStorage","collectionRef","projectFirestore","put","on","snap","percentage","bytesTransferred","totalBytes","getDownloadURL","useStorage","UploadForm","customPdf","setCustomPdf","files","currCustomPdfs","items","PacketList","pdf","setPdf","PictureAsPdf","PreviewPDF","coordinates","setCoordinates","numPages","setNumPages","pageNumber","setPageNumber","getCoordinates","rect","getBoundingClientRect","clientX","clientY","toFixed","onDocumentLoadSuccess","onLoadSuccess","renderMode","onclick","page","fakeData","fillPDF","setFormField","setText","setTextField","styles","Paramount","boxes","setBoxes","pdfize","newPdf","DndProvider","backend","MultiBackend","HTML5toTouch","LocalBox","moveBox","$merge","useDrop","accept","drop","getItemType","offset","getSourceClientOffset","dropTargetXy","fieldId","delta","getDifferenceFromInitialOffset","dropTarget","elem","useLocalDrop","hideSourceOnDrag","TaskList","TaskLink","Dispatch","Job","ADD_WARE","TOGGLE_WARE","SET_FILTER","nextWareId","connect","addWare","content","handleAddWare","toggleWare","ware","cx","VISIBILITY_FILTERS","ALL","COMPLETED","INCOMPLETE","getWaresState","store","wares","getWares","allIds","getWareList","byIds","getWareById","visibilityFilter","allWares","getWaresByVisibilityFilter","activeFilter","filterKey","currentFilter","Warehouse","tools","Tools","tool","useMousePosition","mousePosition","setMousePosition","updateMousePosition","addEventListener","removeEventListener","BillOfLading","setPage","canvasRef","hasMovedCursor","pdfDocument","usePdf","Boolean","MaterialsContext","MaterialsDispatchContext","materialsReducer","MaterialsProvider","MakeText","query","URLSearchParams","initialState","get","customer","greeting","crewLead","company","moveType","scheduledETA","sms","DirectionsWalk","href","rel","Message","Save","smsQuery","ListSMS","SMSLink","abhsFill","reference","address","crew","start","breaks","totalTime","clientSignature","ABHS","sigDispatch","getPDF","download","TipSplit","setTip","enter","enterFrom","enterTo","Panel","ToosWProviders","useMaterials","materialsDispatch","useMaterialsDispatch","Tool","Appbar","pinned","setPinned","toggleOpen","o","togglePin","NavLink","App","basename","exact","from","component","Ware","hostname","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","projectFunctions","functions","storage","FieldValue","serverTimestamp","rootReducer","combineReducers","firestoreReducer","createStore","composeWithDevTools","rrfProps","config","userProfile","useFirestoreForProfile","createFirestoreInstance","ReactDOM","render","StrictMode","getElementById","serviceWorker","ready","registration","unregister","catch"],"mappings":"scAkBMA,EAAa,CACjBC,WAAY,QACZC,QAAS,IAGLC,EAAW,SAAC,GAA6E,IAAD,IAA1EC,UAA0E,MAArE,GAAqE,EAAjEC,EAAiE,EAAjEA,UAAWC,EAAsD,EAAtDA,SAAsD,IAA5CC,gBAA4C,MAAjC,GAAiC,MAA7BC,aAA6B,MAArB,GAAqB,MAAjBC,aAAiB,MAAT,GAAS,EAE5F,OACE,sBAAKC,UAAU,+EAAf,UACE,8BACE,eAAC,IAAD,CAAMC,GAAE,cAASP,GAAjB,cAAyBA,OAE3B,8BACE,cAAC,IAAD,CAAMO,GAAE,cAASP,GAAjB,SAAwBG,GAAeF,GAAeC,EAAYD,EAAY,IAAMC,EAAW,OAEjG,8BACE,cAAC,IAAD,CAAMK,GAAE,cAASP,GAAjB,SAAwBK,MAE1B,8BACE,cAAC,IAAD,CAAME,GAAE,cAASP,GAAjB,SAAwBI,MAE1B,8BACE,cAAC,IAAD,CAAMG,GAAE,cAASP,GAAjB,wBAMKQ,EAAQ,WAGnB,IAAMC,EAAYC,yBACdC,EAAUC,cACRC,EAAO,uCAAG,4BAAAC,EAAA,6DACRd,EAAKe,YAAO,GADJ,kBAGNN,EAAUZ,WAAW,SAASmB,IAAIhB,GAAIiB,IAAI,CAAEC,UAAWC,OAHjD,sDAKZC,QAAQC,IAAR,MALY,OAOdV,EAAQW,KAAK,CACXC,SAAS,MAAD,OAAQvB,KARJ,yDAAH,qDAgBbwB,+BAAoB,iBAAM,CAAC5B,MAC3B,IAAM6B,EAAQC,aAAY,qBAAGjB,UAAakB,QAAwBF,SAGlE,IAAKG,mBAASH,GACZ,MAAO,mBAIT,GAAII,kBAAQJ,GACV,MAAO,qBAwBT,OACE,sBAAKnB,UAAU,8EAAf,UACE,cAAC,EAAD,CAASO,QAASA,EAASiB,OANhB,WACb,OAAOV,QAAQC,IAAI,WAK0BU,OAThC,WACb,OAAOX,QAAQC,IAAI,aASjB,qBAAKf,UAAU,8BAAf,SAEE,qBAAKA,UAAU,+BAAf,SACGmB,EAAMO,KAAI,WAAkBC,GAAlB,IAAGjC,EAAH,EAAGA,GAAOkC,EAAV,6BACT,cAAC,EAAD,aAA+BlC,GAAIA,GAAQkC,GAA3C,UAAkBlC,EAAlB,YAAwBiC,eAyB9BE,EAAU,SAAC,GAAiC,IAA/BtB,EAA8B,EAA9BA,QAASiB,EAAqB,EAArBA,OAAQC,EAAa,EAAbA,OAClC,OACE,sBAAKzB,UAAU,sEAAf,UACE,qBAAKA,UAAU,qBAAf,SACE,uBAAMA,UAAU,aAAhB,UACE,sBAAMA,UAAU,sCAAhB,mBACA,sBAAMA,UAAU,kCAAhB,0BAGJ,sBAAKA,UAAU,oBAAf,UACE,yBAAQA,UAAU,sDAAsD8B,QAASL,EAAjF,UACE,+BACE,cAAC,IAAD,CAAQzB,UAAU,UAFtB,YAMA,yBAAQA,UAAU,sDAAsD8B,QAASN,EAAjF,UACE,+BACE,cAACO,EAAA,EAAD,CAAQ/B,UAAU,UAFtB,YAMA,yBAAQA,UAAU,sDAAsD8B,QAASvB,EAAjF,UACE,+BACE,cAACyB,EAAA,EAAD,CAAWhC,UAAU,UAFzB,qB,2CCzJD,SAASiC,EAAQC,GACjBC,WAAYC,SAAOC,OAAOC,UAAUL,QAAQC,GCCnD,IAAMK,EAAc,SAAC,GAA4B,IAA1BC,EAAyB,EAAzBA,MAAOC,EAAkB,EAAlBA,YAgB5B,OACE,sBAAKzC,UAAU,wFAAf,UACE,wBACE8B,QAdY,WACZU,EAAQ,IACVC,EAAYD,EAAQ,GACpBP,EAAQ,CAAC,GAAI,GAAI,OAYfjC,UAAU,mHAFZ,oBAMA,uBACE0C,IAAI,IACJC,KAAK,SACLC,KAAK,sBACL5C,UAAW6C,YACT,iKACAL,EAAQ,GAAK,iBAEfM,SArBW,SAACC,GAChB,IAAIC,EAAMC,SAASF,EAAEG,OAAOC,QAAU,EACtC,OAAOV,EAAYO,IAoBfI,WAAY,SAACL,GAEC,cAAVA,EAAEM,KACQ,eAAVN,EAAEM,KACQ,YAAVN,EAAEM,KACQ,cAAVN,EAAEM,KACQ,WAAVN,EAAEM,KACQ,cAAVN,EAAEM,MAG+B,IAAxBN,EAAEM,IAAI5B,OAAO,OACtBsB,EAAEO,kBAGNC,QAAS,SAACR,GAAD,OAAOA,EAAEG,OAAOM,UACzBC,UAAW,SAACV,GAAD,MAAkB,UAAVA,EAAEM,IAAkBN,EAAEG,OAAOQ,OAAS,MACzDP,MAAOX,EAAMmB,aAEf,wBACE7B,QAnDY,WAChBW,EAAYD,EAAQ,GACpBP,EAAQ,CAAC,MAkDLjC,UAAU,uHAFZ,mBAUS4D,iBAAKrB,GC5DPsB,EAAWD,gBAAK,SAACE,GAAW,IAC/BC,EAAgGD,EAAhGC,aAAcC,EAAkFF,EAAlFE,aAActE,EAAoEoE,EAApEpE,GAAIkD,EAAgEkB,EAAhElB,KAAMqB,EAA0DH,EAA1DG,IADR,EACkEH,EAArDI,YADb,MACoB,EADpB,IACkEJ,EAA3CK,aADvB,MAC+B,EAD/B,IACkEL,EAAhCM,aADlC,MAC0C,EAD1C,IACkEN,EAArBO,gBAD7C,SAGhC5B,EAAc6B,uBAClB,SAACH,GACCJ,EAAarE,EAAI,CAAEyE,QAAOC,MAAOG,OAAOJ,GAASI,OAAOL,OAE1D,CAACxE,EAAIqE,EAAcG,IAGfM,EAAaF,uBACjB,SAACvB,GACCgB,EAAarE,EAAI,CAAEwE,KAAMnB,EAAEG,OAAOC,MAAOiB,MAAOG,OAAOJ,GAASI,OAAOxB,EAAEG,OAAOC,WAElF,CAACzD,EAAIqE,EAAcI,IAEfM,EAAcH,uBAClB,SAACvB,GACCgB,EAAarE,EAAD,eAAQqD,EAAEG,OAAON,KAAOG,EAAEG,OAAOC,UAE/C,CAACzD,EAAIqE,IAGP,OACE,sBACE/D,UAAS,8EACPmE,EAAQ,EAAI,iCAAmC,uBAFnD,UAKE,sBAAKnE,UAAU,wDAAf,UACE,qBAAKA,UAAU,OAAf,SACGqE,EACC,cAACK,EAAA,EAAD,CAAQ5C,QAAS,kBAAMkC,EAAatE,IAAKM,UAAU,0CAEnD,qBAAKA,UAAU,cAAc2E,IAAKC,QAA+BX,EAAKY,IAAI,OAG9E,qBAAK7E,UAAU,oCAAf,SACIqE,EAGA,uBACEzB,KAAK,OACLO,MAAOP,EACPE,SAAU2B,EACVlB,QAAS,SAACR,GAAD,OAAOA,EAAEG,OAAOM,UACzBJ,WAAY,SAACL,GACG,UAAVA,EAAEM,KAAiBN,EAAEG,OAAOQ,QAElC1D,UAAU,gHAVZ,sBAAMA,UAAU,8BAAhB,SAA+C4C,SAerD,qBAAK5C,UAAU,QAAf,SACE,cAAC,EAAD,CAAawC,MAAO2B,EAAO1B,YAAaA,MAG1C,sBAAKzC,UAAU,oGAAf,UACE,sBAAMA,UAAWmE,EAAQ,EAAI,gBAAkB,gBAA/C,SAAiEA,EAAQ,EAAI,QAAO,MACpF,uBACEnE,UAAS,sHACT4C,KAAK,OACLO,MAAOe,EACPvB,KAAK,SACLG,SAAU0B,EACVjB,QAAS,SAACR,GAAD,OAAOA,EAAEG,OAAOM,UACzBJ,WAAY,SAACL,GACG,UAAVA,EAAEM,KACJN,EAAEG,OAAOQ,UAIf,sBAAM1D,UAAS,mBAAcmE,EAAQ,EAAI,gBAAkB,gBAA5C,KAAf,SACGA,EAAQ,EAAR,eAAoBC,GAAU,oBC/E5BU,EAAmB,CAC9B,CACEpF,GAAI,SACJkD,KAAM,YACNmC,OAAQ,IACRC,EAAG,SACHC,EAAG,SACHC,EAAG,SACHf,MAAO,EACPF,IAAK,gBACL5D,QAAS,GACT6D,KAAM,GAER,CACExE,GAAI,SACJkD,KAAM,aACNmC,OAAQ,EACRC,EAAG,KACHC,EAAG,KACHC,EAAG,KACHf,MAAO,EACPF,IAAK,iBACL5D,QAAS,GACT6D,KAAM,GAER,CACExE,GAAI,SACJkD,KAAM,YACNmC,OAAQ,IACRC,EAAG,KACHC,EAAG,KACHC,EAAG,KACHf,MAAO,EACPF,IAAK,gBACL5D,QAAS,GACT6D,KAAM,GAER,CACExE,GAAI,SACJkD,KAAM,eACNuC,YAAa,sCACbhB,MAAO,EACPF,IAAK,kBACL5D,QAAS,GACT6D,KAAM,GAER,CACExE,GAAI,SACJkD,KAAK,kBACLwC,MAAM,EACNL,OAAQ,GACRC,EAAG,KACHC,EAAG,KACHC,EAAG,KAEHf,MAAO,EACPF,IAAK,mBACL5D,QAAS,GACT6D,KAAM,GAER,CACExE,GAAI,SACJkD,KAAM,WACNuB,MAAO,EACPF,IAAK,aAILe,EAAG,KACHC,EAAG,IACHC,EAAG,KACH7E,QAAS,GACT6D,KAAM,IAGR,CACExE,GAAI,SACJkD,KAAM,mBACNmC,OAAQ,GACRC,EAAG,UACHC,EAAG,QACHC,EAAG,WAEHf,MAAO,EACPF,IAAK,kBACL5D,QAAS,GACT6D,KAAM,GAER,CACExE,GAAI,SACJkD,KAAM,mBACNmC,OAAQ,GACRC,EAAG,KACHC,EAAG,QACHC,EAAG,KAEHf,MAAO,EACPF,IAAK,kBACL5D,QAAS,GACT6D,KAAM,IAER,CACExE,GAAI,SACJkD,KAAM,gBACNmC,OAAQ,GACRC,EAAG,KACHC,EAAG,KACHC,EAAG,IAEHf,MAAO,EACPF,IAAK,kBACL5D,QAAS,GACT6D,KAAM,GAER,CACExE,GAAI,SACJkD,KAAM,iBACNmC,OAAQ,GACRC,EAAG,KACHC,EAAG,KACHC,EAAG,KAEHf,MAAO,EACPF,IAAK,mBACL5D,QAAS,GACT6D,KAAM,IAER,CACExE,GAAI,SACJkD,KAAM,aACNuB,MAAO,EACPF,IAAK,eACL5D,QAAS,GACT6D,KAAM,GAER,CACExE,GAAI,SACJkD,KAAM,eACNuB,MAAO,EACPF,IAAK,eACL5D,QAAS,GACT6D,KAAM,IAER,CACExE,GAAI,SACJkD,KAAM,oBACNuB,MAAO,EACPF,IAAK,iBACL5D,QAAS,GACT6D,KAAM,IAER,CACExE,GAAI,SACJkD,KAAM,QACNuB,MAAO,EACPF,IAAK,eACL5D,QAAS,GACT6D,KAAM,GAER,CACExE,GAAI,SACJkD,KAAM,WACNuB,MAAO,EACPF,IAAK,kBACL5D,QAAS,GACT6D,KAAM,K,QC3JH,SAASmB,EAAiBC,GAC/B,IAAIC,EAAOD,EAAKE,cAIhB,OAHa,EAAIF,EAAKG,YAAY9B,WAAW+B,SAAS,EAAG,KAG1C,IAFLJ,EAAKK,UAAUhC,WAAW+B,SAAS,EAAG,KAErB,IAAMH,EAkB5B,SAASK,EAAcC,GAC5B,IAAKA,EAAG,OAAO,EACf,GAAiB,kBAANA,EAAgB,CACzB,IAAIC,EAAMD,EAAEE,MAAM,KACdC,EAAM/C,SAAU6C,EAAI,GAAK,EAAK,GAAI,IACtC,OAAOG,WAAWhD,SAAS6C,EAAI,GAAI,IAAM,KAAOE,EAAM,GAAK,IAAM,IAAMA,GAEzE,OAAO,EAGF,SAASE,EAAcC,GAC5B,IAAIC,EAAMnD,SAASsB,OAAO4B,IACtBzD,EAAM2D,KAAKC,MAA6B,IAAtB/B,OAAO4B,GAAQC,IACrC,OAAOA,EAAM,KAAO1D,EAAM,GAAK,IAAM,IAAMA,EAUtC,SAAS6D,EAAYC,GAC1B,OAAOH,KAAKI,KAAW,IAAND,GAAa,IAGzB,SAASE,EAAcC,GAC5B,IAAMrB,EAAOqB,EAAa,IAAIC,KAAKD,GAAc,IAAIC,KAErD,OADAtB,EAAKuB,QAAQvB,EAAKK,UAAY,GACvBN,EAAiBC,GAEnB,SAASwB,EAAcH,GAC5B,IAAMrB,EAAOqB,EAAa,IAAIC,KAAKD,GAAc,IAAIC,KAErD,OADAtB,EAAKuB,QAAQvB,EAAKK,UAAY,GACvBN,EAAiBC,GAGnB,SAASyB,EAAeC,EAAKR,GAGlC,OAAIQ,EAAIC,QAAUT,EACTQ,EAGFA,EAAIE,MAAM,EAAGV,GAAO,MAGtB,SAASW,EAAYC,GAAyD,IAAlDC,EAAiD,uDAApC,EAAGC,EAAiC,uCAAvBC,EAAuB,uDAAd,SAACC,GAAD,OAAOA,EAAI,GAC/E,IAAKJ,IAAUK,MAAMC,QAAQN,GAAQ,MAAO,GAC5C,IAAIO,EAAYN,GAAU,OAAGD,QAAH,IAAGA,OAAH,EAAGA,EAAO5F,QAAO,SAACoG,GAAD,OAAOL,EAAOK,EAAEN,KAAcM,EAAEvD,YAAU4C,QACrF,cAAOG,QAAP,IAAOA,OAAP,EAAOA,EAAO5F,QAAO,SAACoG,GACpB,OAAID,EAAY,IAAMJ,EAAOK,EAAEN,MAAeM,EAAEvD,UAC9CsD,KACO,GAEFJ,EAAOK,EAAEN,KAAcM,EAAEvD,YAI7B,IAAMwD,EAAc,WACzB,SAASC,EAASC,EAAWC,EAAOC,GAClC,IAAK,IAAIC,EAAI,EAAGA,EAAIF,IAASE,EAC3B,GAAkD,IAA9CH,EAAUI,KAAKF,EAAID,EAAQ,EAAQ,EAAJE,EAAQ,GAAU,OAAO,EAE9D,OAAO,EAGT,SAASE,EAAYL,EAAWC,EAAOE,EAAGG,EAAKC,GAC7C,IAAK,IAAIL,EAAII,EAAKJ,EAAIK,IAAUL,EAC9B,GAAkD,IAA9CF,EAAUI,KAAKF,EAAID,EAAQ,EAAQ,EAAJE,EAAQ,GAAU,OAAO,EAE9D,OAAO,EAGT,OAAO,SAAUK,GASf,IARA,IAAIC,EAAMD,EAAOE,WAAW,MACxBT,EAAQO,EAAOP,MACfD,EAAYS,EAAIE,aAAa,EAAG,EAAGH,EAAOP,MAAOO,EAAOI,QACxDN,EAAM,EACRC,EAASP,EAAUY,OACnBC,EAAO,EACPC,EAAQd,EAAUC,MAEbK,EAAMC,GAAUR,EAASC,EAAWC,EAAOK,MAAQA,EAC1D,KAAOC,EAAS,EAAID,GAAOP,EAASC,EAAWC,EAAOM,EAAS,MAAMA,EACrE,KAAOM,EAAOC,GAAST,EAAYL,EAAWC,EAAOY,EAAMP,EAAKC,MAAWM,EAC3E,KAAOC,EAAQ,EAAID,GAAQR,EAAYL,EAAWC,EAAOa,EAAQ,EAAGR,EAAKC,MAAWO,EAEpF,IAAIC,EAAUN,EAAIE,aAAaE,EAAMP,EAAKQ,EAAQD,EAAMN,EAASD,GAC7DU,EAAOR,EAAOS,cAAcC,cAAc,UAC1CC,EAAUH,EAAKN,WAAW,MAK9B,OAJAM,EAAKf,MAAQc,EAAQd,MACrBe,EAAKJ,OAASG,EAAQH,OACtBO,EAAQC,aAAaL,EAAS,EAAG,GAE1BC,GApCgB,GCrErBK,EAAcC,0BACdC,EAAsBD,0BAEtBE,EAAU,WACd,IAAMC,EAAUC,qBAAWL,GAC3B,QAAgBM,IAAZF,EACF,MAAM,IAAIG,MAAM,8CAElB,OAAOH,GAEHI,EAAkB,WACtB,IAAMJ,EAAUC,qBAAWH,GAC3B,QAAgBI,IAAZF,EACF,MAAM,IAAIG,MAAM,8DAElB,OAAOH,GAGHK,EAAc,SAACC,EAAD,GAAwE,IAA9DC,EAA6D,EAA7DA,MAA6D,IAAtD5G,aAAsD,MAA9C,GAA8C,EAA1CR,EAA0C,EAA1CA,KAAMqH,EAAoC,EAApCA,UAAWC,EAAyB,EAAzBA,QAAyB,IAAhBvK,UAAgB,MAAX,KAAW,EAEzF,GADAoB,QAAQC,IAAI,CAAEgJ,QAAOpH,OAAMsH,UAASvK,KAAIyD,WACnCR,GAAQoH,EACX,OAAO,2BACFD,GADL,kBAEGC,EAAQ5G,IAGX,IAAMiE,EAAQ0C,EAAME,GACpB,OAAQrH,GACN,IAAK,eAEH,OAAO,2BACFmH,GACAG,GAGP,IAAK,cACH,OAAKvK,GAAOsK,GAAc5C,EACnB,2BACF0C,GADL,kBAEGE,GAAiB,OAAL5C,QAAK,IAALA,OAAA,EAAAA,EAAO8C,MAAK,SAACtC,GAAD,OAAOA,EAAElI,KAAOA,MAA5B,OACT0H,QADS,IACTA,OADS,EACTA,EAAO1F,KAAI,SAACkG,GAAD,OAAQlI,IAAOkI,EAAElI,GAAT,2BAAmBkI,GAAMqC,GAAYrC,KAD/C,sBAELR,GAFK,cAEI1H,MAAOuK,OALc,eAAKH,GAQ/C,IAAK,aACH,OAAKE,EACE,2BACFF,GADL,kBAEGE,EAAY,KAHQ,eAAKF,GAM9B,IAAK,cACH,OAAKpK,GAAOsK,EACL,2BACFF,GADL,kBAEGE,EAAY5C,EAAM5F,QAAO,SAACoG,GAAD,OAAOA,EAAElI,KAAOA,OAHd,eAAKoK,GAMrC,IAAK,YACH,MAAO,GAET,QACE,OAAOA,IAmCTK,EAAe,SAAC,GAAkB,IARTC,EAQPC,EAAe,EAAfA,SAAe,EACXC,sBATGF,EAS8BP,EARpD,SAACC,EAAOS,GACb,IAAMC,EAAWJ,EAAQN,EAAOS,GAEhC,OADAE,aAAaC,QAAQ,OAAQC,KAAKC,UAAUJ,IACrCA,IAjBa,WACtB,KAAI,SAAUC,cAOZ,MAAO,GANP,IACE,OAAOE,KAAKE,MAAMJ,aAAaK,QAAQ,SACvC,MAAOC,GACP,MAAO,IAiB8DC,IADpC,mBAC9BlB,EAD8B,KACvBmB,EADuB,KAInCC,EAsCEpB,EAtCFoB,UACAC,EAqCErB,EArCFqB,cACAC,EAoCEtB,EApCFsB,4BACAC,EAmCEvB,EAnCFuB,cACAC,EAkCExB,EAlCFwB,cACAC,EAiCEzB,EAjCFyB,4BACAC,EAgCE1B,EAhCF0B,gBACAC,EA+BE3B,EA/BF2B,WACAC,EA8BE5B,EA9BF4B,WACAC,EA6BE7B,EA7BF6B,WACAC,EA4BE9B,EA5BF8B,UACAC,EA2BE/B,EA3BF+B,QACAC,EA0BEhC,EA1BFgC,WACAC,EAyBEjC,EAzBFiC,WACAC,EAwBElC,EAxBFkC,UACAC,EAuBEnC,EAvBFmC,SAnBmC,EA0CjCnC,EAtBFoC,iBApBmC,MAoBvB,GApBuB,IA0CjCpC,EArBFqC,gBArBmC,MAqBxB,GArBwB,EAsBnCC,EAoBEtC,EApBFsC,iBACAC,EAmBEvC,EAnBFuC,UACAC,EAkBExC,EAlBFwC,eACAC,EAiBEzC,EAjBFyC,YAEAC,EAeE1C,EAfF0C,UACAC,EAcE3C,EAdF2C,YACAC,EAaE5C,EAbF4C,WACAC,EAYE7C,EAZF6C,WACAC,EAWE9C,EAXF8C,YACAC,EAUE/C,EAVF+C,mBACAC,EASEhD,EATFgD,gBACAC,EAQEjD,EARFiD,wBAEAC,EAMElD,EANFkD,cACAC,EAKEnD,EALFmD,oBACAC,EAIEpD,EAJFoD,QACAC,EAGErD,EAHFqD,WACAC,EAEEtD,EAFFsD,eACAC,GACEvD,EADFuD,cAmMF,OAnLAC,qBAAU,WACRrC,EAAS,CACPlB,MAAO,iBACP5G,MAAqB,UAAd+H,EAAwB,EAAkB,gBAAdA,EAA8BC,EAAgBC,MAElF,CAACF,EAAWC,EAAeC,EAA6BH,IAG3DqC,qBAAU,WAORrC,EAAS,CACPtI,KAAM,eACNsH,QAAS,CACPkB,cAAe9E,KAAKI,KAAMlC,OAAO8G,GAAiB,IAAO9G,OAAO+G,GAAiB,KAAO,IACxFF,4BACE/E,KAAKI,KAAMlC,OAAO8G,GAAiB,IAAO9G,OAAOgH,GAA+B,KAAO,SAG5F,CAACF,EAAeC,EAAeC,EAA6BN,IAG/DqC,qBAAU,WAERrC,EAAS,CACPlB,MAAO,gBACP5G,MAAiC,EAA1BoB,OAAOiH,OAGf,CAACA,EAAiBP,IAGrBqC,qBAAU,cAcP,CAACpB,EAAWgB,EAASH,EAAyB9B,IAGjDqC,qBAAU,cAKP,CAACnB,EAAUY,EAAyB9B,IAGvCqC,qBAAU,WACR,IAAMC,EAAQ3H,EAAcwG,EAAmBN,EAAaF,GACxD4B,EAAS5H,EAAcwG,EAAmBL,EAAaF,GAIvD0B,EAAQC,IAAQA,GAAU,IAC9B,IAAMC,EAAKD,EAASD,EAEpBtC,EAAS,CACPlB,MAAO,aACP5G,MAAO+C,EAAcuH,GAAM,EAAIA,EAAK,OAErC,CAAC9B,EAAYC,EAAWC,EAASC,EAAYC,EAAYC,EAAWI,EAAkBnB,IAGzFqC,qBAAU,WACR,IAAInK,EAAQ,IAGNsI,GAAgBC,IAAYvI,GAASoB,OAAOkH,GAAclH,OAAOmH,IAAa/H,YAEpFsH,EAAS,CAAElB,MAJG,YAII5G,YACjB,CAACuI,EAAYD,EAAYR,IAC5BqC,qBAAU,WACR,IAAInK,EAAQ,EAOZ,GAJMwJ,GAAgBJ,GAA8B,gBAAfI,IACnCxJ,EAAQoJ,GAGJI,GAA6B,iBAAfA,EAA+B,CACjD,IAAMe,EAAOnJ,OAASkI,GAA4B,GAAKlI,OAASmI,GAA0B,GAC1FvJ,EAAQuK,EAAO,EAAIA,EAAO,EAE5BzC,EAAS,CAAElB,MAVG,YAUI5G,YACjB,CAACwJ,EAAYJ,EAAaC,EAAWC,EAAaC,EAAYzB,IAGjEqC,qBAAU,WACR,IAAInK,EAAQ,EAGI,aAAZ+J,GAA4BC,IAAYhK,EAAQoB,OAAO4I,IAC3C,UAAZD,GAAyBzB,GAAgBE,IAC3C7K,QAAQC,IAAI,CAAE0K,aAAYE,aAAYS,mBAAkBC,cACxDlJ,EAAQoB,OAAOqB,EAAc+F,IAAepH,OAAOkH,GAC7CW,GAAsBC,IAAWlJ,GAASoB,OAAO8H,KAEzC,iBAAZa,GAAgCV,GAAeI,IAAazJ,EAAQoB,OAAOiI,GAAajI,OAAOqI,IACnGzJ,EAAMQ,WAENsH,EAAS,CAAElB,MAXG,sBAWI5G,YACjB,CAAC+J,EAASC,EAAYxB,EAAYF,EAAYe,EAAWI,EAAaP,EAAWD,EAAkBnB,IAGtGqC,qBAAU,WACRrC,EAAS,CACPlB,MAAO,WACP5G,MAAOwK,EAAI,CAACV,EAAqBI,GAAeD,EAAgBd,IAAiB3I,eAElF,CACDsJ,EACAI,GACAD,EACAd,IAUFgB,qBAAU,WACR,IAAIM,EAAa,EAEjB,OAAQZ,GACN,IAAK,OACHY,GAAa,IACb,MACF,IAAK,OACHA,EAAa,IAOjB,IAAMC,EAAmBtJ,OAAO0H,GAAY2B,EACtCE,EAA2BvJ,OAAO0H,IAAa,EAAI1H,OAAOqJ,IAUhE,OARA3C,EAAS,CACPtI,KAAM,eACNsH,QAAS,CACP2D,WAAYrH,EAAYsH,GAAkBlK,WAC1CkJ,mBAAoBtG,EAAYuH,GAA0BnK,cAIvD,eACN,CAACqJ,EAAef,IAGnBqB,qBAAU,WACR,IAAMS,EAAyBxJ,OAAOsI,GAAsBtI,OAAOuI,GAEnE7B,EAAS,CACPlB,MAAO,mBACP5G,MAAOoD,EAAYwH,GAAwBpK,eAE5C,CAACmJ,EAAiBD,IAMnB,cAACzD,EAAY4E,SAAb,CAAsB7K,MAAO2G,EAA7B,SACE,cAACR,EAAoB0E,SAArB,CAA8B7K,MAAO8H,EAArC,SAAgDZ,OAOtD,SAASsD,EAAI7H,GACX,GAAMA,EAAK,OAAO,EAClB,IACMmI,EAAQnI,EAAIoI,QADF,SAACC,EAAaC,GAAd,OAAkCA,EAAeD,EAAc5J,OAAO6J,GAAgBD,KAGtG,OADArN,QAAQC,IAAI,CAAEkN,UACPA,ECjXF,IAAMI,EAAezK,gBAC1B,YAAuG,IAApG0K,EAAmG,EAAnGA,MAAmG,IAA5FC,YAA4F,aAA/EC,gBAA+E,aAA7DC,YAA6D,WAAtD/E,EAAsD,MAA3CgF,aAA2C,WAAnChF,EAAmC,EAAxB5H,EAAwB,EAAxBA,QAAS6M,EAAe,EAAfA,SACrF,OACE,sBAAK3O,UAAU,sGAAf,UACE,qBAAIA,UAAU,oCAAd,cAAoDsO,MAClDE,GACA,sBAAKxO,UAAU,wEAAf,UACG2O,GAAYD,GACX,sBAAM5M,QAAS6M,EAAU3O,UAAU,2CAAnC,SACG0O,EAAQ,cAACA,EAAD,CAAO1O,UAAU,QAAWuO,EAAO,IAAM,SAGtD,sBAAMzM,QAASA,EAAS9B,UAAU,8CAAlC,SACGyO,EAAO,cAACA,EAAD,CAAMzO,UAAU,QAAWuO,EAAO,IAAM,kB,qBCZjDK,GAAchL,gBAAK,YAAkD,IAA/CiL,EAA8C,EAA9CA,SAAUC,EAAoC,EAApCA,YAAa1K,EAAuB,EAAvBA,MAAO2K,EAAgB,EAAhBA,UAC/D,OACE,sBAAK/O,UAAU,4EAAf,UACE,sBACE8B,QAAS,kBAAMiN,KACf/O,UAAU,2JAFZ,UAIE,cAACgC,EAAA,EAAD,CAAWhC,UAAU,cAJvB,iBAMA,qBACEA,UAAU,sIACV8B,QAAS,kBAAMgN,GAAaD,IAF9B,SAIGA,EACC,uBAAM7O,UAAU,WAAhB,uBACY,cAACgP,EAAA,EAAD,OAGZ,8CACY,cAACC,GAAA,EAAD,SAIhB,sBAAKjP,UAAU,4FAAf,oBACS,uBAAMA,UAAU,OAAhB,cAAyBoE,cCrB3B8K,GAAW,SAAClF,EAAWmF,EAAcC,EAAenE,GAAc,IAAD,EAClDoE,mBJYS,SAACC,EAAMxF,GAC1C,IAAKwF,QAAkB5F,IAAVI,EAAqB,MAAO,GACzC,IAAMyF,EAAWD,EAAK5N,KAAI,SAAC8N,GACzB,IAAMC,EAAK,OAAG3F,QAAH,IAAGA,OAAH,EAAGA,EAAOI,MAAK,SAACwF,GAAD,OAAOA,EAAEhQ,KAAO8P,EAAE9P,MAC5C,GAAI+P,EAAO,CAAC,IAAD,eACuBhB,KAAM,GAAIkB,MAAO,IAAOF,GAAhCC,GADf,EACDjB,KADC,EACKkB,MADL,iCAET,OAAO,2BAAKH,GAAME,GAElB,OAAOF,KAGX,MAAM,GAAN,mBAAWD,GAAX,mBAAwBzF,QAAxB,IAAwBA,OAAxB,EAAwBA,EAAOtI,QAAO,SAACkO,GAAD,OAAOA,EAAErL,cIvBZuL,CAAsBT,EAAcC,IADK,mBACrEhI,EADqE,KAC9DyI,EAD8D,KAGtEC,EAASxL,uBACb,SAAC5E,GAAmB,IAAfyI,EAAc,uDAAP,GACLiH,EAAclF,MAAK,SAACtC,GAAD,OAAOA,EAAElI,KAAOA,OACtCyI,EAAI,2BAAQgH,EAAajF,MAAK,SAACtC,GAAD,OAAOA,EAAElI,KAAOA,MAAQyI,GACtD,CAAC,OAAQ,SAAS4H,SAAQ,SAAChN,GAAD,cAAcoF,EAAKpF,OAE/CkI,EAAS,CAAEjB,YAAWrH,KAAM,cAAejD,KAAIuK,QAAS9B,IACxD0H,GAAS,SAACjI,GAAD,OAAOA,EAAElG,KAAI,SAACsO,GAAD,OAAQtQ,IAAOsQ,EAAEtQ,GAAT,2BAAmBsQ,GAAM7H,GAAS6H,UAElE,CAAC/E,EAAUjB,EAAWoF,EAAeD,IAEjCc,EAAM3L,uBACV,WAAoB,IAAnB4L,EAAkB,uDAAP,GACJxQ,EAAKe,YAAO,GACZ0H,EAAI,yBAAKvF,KAAK,YAAD,OAAclD,IAASwQ,GAAhC,IAA0C7L,UAAU,IAC9D4G,EAAS,CAAEjB,YAAWrH,KAAM,cAAejD,KAAIuK,QAAS9B,IACxD0H,GAAS,SAACjI,GAAD,4BAAWA,GAAX,cAAgBlI,MAAOyI,UAElC,CAAC8C,EAAUjB,IAEPmG,EAAS7L,uBACb,SAAC5E,GACCuL,EAAS,CAAEjB,YAAWrH,KAAM,cAAejD,OAC3CmQ,GAAS,SAACjI,GAAD,OAAOA,EAAEpG,QAAO,SAACwO,GAAD,OAAOA,EAAEtQ,KAAOA,UAE3C,CAACuL,EAAUjB,IAGPoG,EAAQ9L,uBAAY,WACxB2G,EAAS,CAAEjB,YAAWrH,KAAM,eAC5BkN,EAASV,GACTlN,EAAQ,OACP,CAAC+H,EAAWiB,EAAUkE,IAEzB,MAAO,CAAC/H,EAAOyI,EAAUC,EAAQG,EAAKE,EAAQC,IChCnCC,GAAqB,SAAC,GAAmF,IAAD,IAAhFrG,iBAAgF,MAApE,YAAoE,MAAvDsG,uBAAuD,SAA/BxG,EAA+B,EAA/BA,MAAOmB,EAAwB,EAAxBA,SAAwB,qEACpDnB,EAAvDsD,uBAD2G,MAC1F,EAD0F,IACpDtD,EAAnCoC,UADuF,EAEjEgD,GAASlF,EAAWlF,OAF6C,MAC3D,GAD2D,EAEXmG,GAFW,mBAE5GiB,EAF4G,KAE/F4D,EAF+F,KAEvFG,EAFuF,KAElFE,EAFkF,KAE1EC,EAF0E,OAOnFf,mBAASiB,GAP0E,mBAO5GzB,EAP4G,KAOlGC,EAPkG,KAQnH,OACE,qCACE,cAACT,EAAD,CAAcC,MAAM,iBAAiBG,KAAM/J,IAAQ5C,QAASsO,IAC5D,qBAAKpQ,UAAU,mEAAf,UACI6O,EAAW3C,EAAY/E,EAAY+E,EAAW,EAAG,SAAS,SAAC1E,GAAD,OAAOA,EAAI,MAAI9F,KAAI,SAAC6O,EAAGP,GACjF,OAAO,cAACnM,EAAD,aAAqBG,aAAcmM,EAAQpM,aAAc+L,GAAYS,GAAtDA,EAAE7Q,SAG5B,cAACkP,GAAD,CAAaC,SAAUA,EAAUC,YAAaA,EAAa1K,MAAOgJ,EAAgB2B,UAAWkB,QAKtFO,GAAY,SAAC1M,GACxB,IAAMmH,EAAWrB,IACX6G,EAAOlH,IACb,OAAO,cAAC,GAAD,aAAoBO,MAAO2G,EAAMxF,SAAUA,GAAcnH,KC9BrD4M,GAAQ,SAAC5M,GAAW,IAE7BlB,EAcEkB,EAdFlB,KACA+N,EAaE7M,EAbF6M,YAH4B,EAgB1B7M,EAZF2K,YAJ4B,WAIrB/E,EAJqB,IAgB1B5F,EAXFnB,YAL4B,MAKrB,OALqB,EAM5BiO,EAUE9M,EAVF8M,UACAC,EASE/M,EATF+M,KACA1N,EAQEW,EARFX,MACAL,EAOEgB,EAPFhB,SAT4B,EAgB1BgB,EANFgN,gBAV4B,WAgB1BhN,EAJFK,aAZ4B,MAYpB,GAZoB,IAgB1BL,EAHFiN,aAb4B,MAapB,OAboB,IAgB1BjN,EAFFkN,aAd4B,MAcpB,GAdoB,IAgB1BlN,EADFpB,WAf4B,MAetB,EAfsB,EAqBxBuO,EAAWC,mBAgBjB,OACE,sBAAKlR,UAAU,8EAAf,YACKgR,GACD,uBAAOG,QAASvO,EAAM5C,UAAU,iCAAhC,SACGgR,IAGL,sBAAKhR,UAAU,4GAAf,YACKyO,GAAQ,cAACA,EAAD,CAAMzO,UAAU,UAC3B,uBACEoR,IAAKH,EACLtO,KAAMA,EACNC,KAAMA,EACN5C,UAAS,+DAA0D+Q,EAA1D,mBACTJ,YAAaA,EACbU,aAAa,MACblO,MAAOA,EACPL,SAAUA,EACVS,QAAS,SAACR,GAAD,OAAOA,EAAEG,OAAOM,UACzBqN,KAAMA,EACNC,SAAUA,EACVF,UAAWA,EACXlO,IAAKA,IAEP,sBAAM1C,UAAU,0FAAhB,SACGmE,W,wFC5DEmN,GAAS,WACpB,IAAMC,EAAShI,IACT0B,EAAWrB,IAEf/J,EAOE0R,EAPF1R,SACA2R,EAMED,EANFC,YACAzR,EAKEwR,EALFxR,MACA0R,EAIEF,EAJFE,cACAC,EAGEH,EAHFG,mBACAC,EAEEJ,EAFFI,gBACAC,EACEL,EADFK,mBAGI9O,EAAW,SAACC,GAAD,OAAOkI,EAAS,CAAElB,MAAOhH,EAAEG,OAAON,KAAMO,MAAOJ,EAAEG,OAAOC,SAuBzE,OArBAmK,qBAAU,WACRuE,SAASvD,MAAQzO,EAAQ,UAAMA,EAAN,WAA0B,mBAClD,CAACA,IAoBF,uBAAM0K,OAAO,GAAGuH,OAAO,OAAvB,UACE,cAACzD,EAAD,CAAcC,MAAM,eAAeE,UAAU,IAC7C,cAAC,GAAD,CAAO5L,KAAK,WAAWO,MAAOtD,EAAUiD,SAAUA,EAAU2L,KAAMsD,KAAapB,YAAY,cAC3F,cAAC,GAAD,CACE/N,KAAK,cACLO,MAAOqO,EACP1O,SAAUA,EACV2L,KAAMuD,KACNrB,YAAY,eACZC,UAAU,UAEVjO,KAAK,QAEP,cAAC,GAAD,CAAOC,KAAK,QAAQO,MAAOpD,EAAO+C,SAAUA,EAAU2L,KAAMwD,KAAOtB,YAAY,QAAQhO,KAAK,UAC5F,cAAC0L,EAAD,CACEC,MAAM,YACNxM,QAAS,kBACPmJ,EAAS,CACPlB,MAAO,qBACP5G,OAAQyO,KAGZnD,KAAMmD,EAAqBM,KAASC,OAEtC,cAAC,GAAD,CACEvP,KAAK,gBACLO,MAAOsO,EACP3O,SAAUA,EACV2L,KAAM2D,KACNzB,YAAY,4BAEbiB,GACC,cAAC,GAAD,CACEhP,KAAK,kBACLO,MAAOwO,EACP7O,SAAUA,EACV2L,KAAM4D,KACN1B,YAAY,gBAGhB,cAAC,GAAD,CACE/N,KAAK,qBACLO,MAAOuO,EACP5O,SAAUA,EACV2L,KAAM6D,KACN3B,YAAY,gC,6ECtFP4B,GAAW,SAAC,GAAqD,IAAnDC,EAAkD,EAAlDA,aAAcC,EAAoC,EAApCA,gBAAiBC,EAAmB,EAAnBA,aAClDC,EAAiBH,EAAe,GAAK,SAErC1Q,EAAU,WACT4Q,GAAcD,GAAgB,IAErC,OACE,qBAAKzS,UAAS,qBAAgB2S,EAAhB,8BAAd,SACE,qBAAI3S,UAAU,0CAAd,UACE,cAAC,GAAD,CAAUC,GAAG,SAAS2S,KAAK,SAAS9Q,QAASA,IAC7C,cAAC,GAAD,CAAU7B,GAAG,QAAQ2S,KAAK,QAAQ9Q,QAASA,IAE3C,cAAC,GAAD,CAAU7B,GAAG,WAAW2S,KAAK,WAAW9Q,QAASA,IACjD,cAAC,GAAD,CAAU7B,GAAG,YAAY2S,KAAK,YAAY9Q,QAASA,IACnD,cAAC,GAAD,CAAU7B,GAAG,WAAW2S,KAAK,WAAW9Q,QAASA,UAMnD+Q,GAAW,SAAC,GAA2B,IAAzB5S,EAAwB,EAAxBA,GAAI2S,EAAoB,EAApBA,KAAM9Q,EAAc,EAAdA,QACtBgR,EAAQC,cAARD,IACN,OACE,oBAAI9S,UAAU,gBAAd,SACE,cAAC,IAAD,CACEA,UAAU,+FACVC,GAAE,UAAK6S,EAAL,YAAY7S,GACd+S,gBAAgB,eAChBlR,QAASA,EAJX,SAOG8Q,OC3BIK,GAAgB,WAAO,IAAD,EACOC,IAAM7D,UAAS,GADtB,mBAC1BmD,EAD0B,KACZC,EADY,OAGOS,IAAM7D,UAAS,GAHtB,mBAG1BqD,EAH0B,KAGZS,EAHY,KAK3BlS,EAAamS,cAAbnS,SACA6R,EAAQC,cAARD,IAEAO,EAAOpS,EAAS8E,MAAM,KAExB1F,EAAUC,cAERgT,EAAQ,CAAC,SAAU,QAAS,WAAY,YAAa,YACrDC,EAAeD,EAAME,QAAQH,EAAKA,EAAKpM,OAAS,IAkBhDwM,EAAaF,IAAiBD,EAAMrM,OAAS,EAEnD,OACE,sBACEjH,UACE0T,WACI,uDACA,8CAJR,UAOGA,YACC,cAAC,GAAD,CAAUlB,aAAcA,EAAcC,gBAAiBA,EAAiBC,aAAcA,IAExF,sBAAK1S,UAAU,8BAAf,UACE,sBAAKA,UAAU,OAAf,UACE,cAAC,GAAD,CAAQ8B,QAnBG,WACjB,OAAO2Q,GAAiBD,IAkBWI,KAAK,OAAOnE,KAAM+D,EAAemB,KAAQC,KAAMC,aAAa,SACxFrB,GACC,cAAC,GAAD,CACE1Q,QAAS,WACPqR,GAAiBT,IAEnBE,KAAK,WACLnE,KAAMiE,EAAeoB,KAAWC,KAChCF,aAAa,OACbG,UAAU,OAIhB,sBAAKhU,UAAU,OAAf,UACE,cAAC,GAAD,CAAQ8B,QArCH,aAqCkB8Q,KAAK,OAAOnE,KAAMwF,KAASJ,aAAa,SAC/D,cAAC,GAAD,CACE/R,QA3CW,WACf,EAAIyR,GAAclT,EAAQW,KAAR,UAAgB8R,EAAhB,YAAuBQ,EAAMC,EAAe,MA2C1DX,KAAK,WACLnE,KAAMyF,KACNL,aAAa,OACbG,SAA2B,IAAjBT,IAEZ,cAAC,GAAD,CAAQzR,QArDC,WACXwR,EAAMrM,OAAS,EAAIsM,GAAclT,EAAQW,KAAR,UAAgB8R,EAAhB,YAAuBQ,EAAMC,EAAe,MAoDhDX,KAAK,OAAOnE,KAAM0F,KAAcN,aAAa,QAAQG,SAAUP,WAG5FC,YACA,cAAC,GAAD,CAAUlB,aAAcA,EAAcC,gBAAiBA,EAAiBC,aAAcA,QAMxF0B,GAAS,SAAC,GAA6D,IAA3DtS,EAA0D,EAA1DA,QAAe2M,GAA2C,EAAjDmE,KAAiD,EAA3CnE,MAAMoF,EAAqC,EAArCA,aAAqC,IAAvBG,gBAAuB,SAC1E,OACE,yBACEhU,UAAS,8HACT2C,KAAK,SACLb,QAASA,EAHX,UAKoB,SAAjB+R,EAA0B,cAACpF,EAAD,CAAM4F,SAAS,QAAQC,MAAON,EAAW,WAAa,YAAgB,KAE/E,UAAjBH,EAA2B,cAACpF,EAAD,CAAM4F,SAAS,QAAQC,MAAON,EAAW,WAAa,YAAgB,S,4CC1F3FO,GAAU,SAAC,GAAwD,IAAD,EAArDpR,EAAqD,EAArDA,MAAO6N,EAA8C,EAA9CA,MAAOvC,EAAuC,EAAvCA,KAAuC,IAAjC+F,YAAiC,MAA1B,GAA0B,MAAtB7R,YAAsB,MAAf,SAAe,EAC7E,OACE,qBAAK3C,UAAU,+BAAf,SACE,sBAAKA,UAAU,gEAAf,UACE,sBAAMA,UAAU,kFAAhB,SACE,cAACyO,EAAD,MAEF,sBAAKzO,UAAU,8MAAf,UACE,sBAAMA,UAAU,yCAAhB,SAA0DgR,IAC1D,uBAAMhR,UAAU,QAAhB,UACY,MAATwU,GAAgBA,EAAO,IACd,WAAT7R,EAAA,UACG4D,EAAYpD,UADf,aACG,EACIQ,WACD8Q,QAAQ,wBAAyB,KAHvC,OAIGtR,QAJH,IAIGA,OAJH,EAIGA,EAAOQ,cAGb,sBAAM3D,UAAU,wCAAhB,SAAkE,MAATwU,GAAgBA,OAG3E,sBAAMxU,UAAU,kHAAhB,SACE,cAAC0U,GAAA,EAAD,Y,4GCtBK,SAASC,GAAT,GAOX,IANF/R,EAMC,EANDA,KAMC,IALDoO,aAKC,MALO,aAKP,MAJD4D,eAIC,MAJS,GAIT,EAHDzR,EAGC,EAHDA,MACA8H,EAEC,EAFDA,SAEC,IADD4J,yBACC,WADmBnL,EACnB,EAgBD,OARA4D,qBAAU,WAAO,IAAD,GACTnK,GAAWyR,GAAaC,GAC3B5J,EAAS,CACPtI,KAAM,eACNsH,SAAO,mBAAKrH,EAAOgS,EAAQC,IAApB,kCAA0D,GAA1D,OAEV,CAAC1R,IAGF,sBAAKnD,UAAU,2GAAf,YACKgR,GACD,uBAAOG,QAASvO,EAAM5C,UAAU,iCAAhC,SACGgR,IAGL,cAAC,KAAD,CAAS7N,MAAOA,EAAOL,SAtBV,SAAC0E,GACZA,IAAMrE,KACV,OAAIA,QAAJ,IAAIA,OAAJ,EAAIA,EAAO2R,aAAY3R,EAAM2R,cAC7B,OAAItN,QAAJ,IAAIA,OAAJ,EAAIA,EAAGuN,WAAUvN,EAAEuN,WACnB9J,EAAS,CAAElB,MAAOnH,EAAMO,MAAOqE,MAkB7B,SACG,gBAAGwN,EAAH,EAAGA,KAAH,OACC,mCACE,sBAAKhV,UAAU,YAAf,UACE,eAAC,KAAQoU,OAAT,CAAgBpU,UAAU,mUAA1B,UACE,sBAAMA,UAAU,iBAAhB,gBAAkCmD,QAAlC,IAAkCA,OAAlC,EAAkCA,EAAO6N,QACzC,sBAAMhR,UAAU,wEAAhB,SACE,cAACiV,GAAA,EAAD,CAAYjV,UAAU,wBAAwBkV,cAAY,cAG9D,cAAC,KAAD,CACEC,KAAMH,EACNI,GAAIC,WACJC,MAAM,kCACNC,UAAU,cACVC,QAAQ,YALV,SAOE,cAAC,KAAQC,QAAT,CAAiBzV,UAAU,+JAA3B,SACG4U,EAAQlT,KAAI,SAACgU,EAAQC,GAAT,OACX,cAAC,KAAQC,OAAT,CAEE5V,UAAW,gBAAG6V,EAAH,EAAGA,OAAH,gBACNA,EAAS,8BAAgC,gBADnC,oFAIX1S,MAAOuS,EANT,SAQG,gBAAGI,EAAH,EAAGA,SAAH,EAAaD,OAAb,OACC,qCACE,sBAAM7V,UAAS,UAAK8V,EAAW,cAAgB,cAAhC,mBAAf,SACGJ,EAAO1E,QAET8E,EACC,sBACE9V,UAAS,UAAc,iBAAd,sFADX,SAIE,cAAC+V,GAAA,EAAD,CAAO/V,UAAU,UAAUkV,cAAY,YAGnC,OAANQ,QAAM,IAANA,OAAA,EAAAA,EAAQjH,OACN,sBAAMzO,UAAU,mDAAhB,SACE,cAAC0V,EAAOjH,KAAR,CAAazO,UAAU,UAAUkV,cAAY,gBAtBlDS,qB,mCC/CvBvP,GAAM,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAC1F4P,GAAO,CAAC,KAAM,GAAI,GAAI,IAUbC,GAAY,SAACnS,GAAW,IAC3BlB,EAA2EkB,EAA3ElB,KAD0B,EACiDkB,EAArEkN,aADoB,MACZ,GADY,EACwCvC,GAAS3K,EAAzDX,MAAyDW,EAAlDmH,SAAkDnH,EAAxC+Q,kBAAwC/Q,EAAT2K,MAEpEyH,EAAO9P,GAAI8H,QAAO,SAACiI,EAAKhT,GAE5B,OADAgT,EAAIhT,GAAS+P,IAAMkD,YACZD,IACN,IAN+B,EAgBV9G,mBAAS,CAAEgH,MAAO,GAAIC,QAAS,KAhBrB,mBAgB3BC,EAhB2B,KAgBrBC,EAhBqB,OAiBRnH,oBAAS,GAjBD,mBAiB3BoH,EAjB2B,KAiBnBC,EAjBmB,OAkBWrH,oBAAS,GAlBpB,mBAkB3BsH,EAlB2B,KAkBTC,EAlBS,KAoB5BC,EAAY3F,iBAAO,MACnB4F,EAAkB5F,iBAAO,MAGzB6F,EAAkB,CAAC,QAAS,MAAO,IAAK,IAAK,IAAK,IAAK,KAEvDC,EAAqB,SAACC,GACtBF,EAAgBG,SAASD,EAAG5T,OAC9B4T,EAAG3T,iBACHuT,GAAaA,EAAUM,QAAQC,UAY7BC,EAAqB,SAACtU,GAC1ByT,GAAQ,SAAC3Q,GAAD,mBAAC,eAAYA,GAAb,IAAgBwQ,MAAOtT,EAAEG,OAAOC,YAEpCmU,EAAuB,SAACvU,GAC5ByT,GAAQ,SAAC3Q,GAAD,mBAAC,eAAYA,GAAb,IAAgByQ,QAASvT,EAAEG,OAAOC,YAGtCoU,EAAiB,SAACxU,GACtBA,EAAEO,iBACF,IAAMkU,EAAM,IAAI5Q,KAChB4P,EAAQ,CAAEH,MAAOmB,EAAIC,WAAYnB,QAASkB,EAAIE,gBAGhD,SAASC,IACPjB,GAAQ,GACRE,GAAiB,GAGnB,SAAS5B,IACP0B,GAAQ,GAtCY,WA5BP,IAACtF,KA4BqB0F,IA1BnC1F,EAAIwG,eAAe,CAAEC,SAAU,SAAUC,MAAO,UAiEhDC,GA7DgC,MAgE4BC,aAAS,CACrEvB,SACAwB,eAAgBN,EAChBO,YAAaP,EACbQ,mBAAmB,EACnBC,MAAM,EACNC,UAAW,aACXC,cAAe,EACfC,gBAAiB,EACjBC,YAAa,IATPC,EAhE0B,EAgE1BA,YAAaC,EAhEa,EAgEbA,aAAcC,EAhED,EAgECA,WAAYC,EAhEb,EAgEaA,WAY/C,OACE,sBAAK5Y,UAAU,6EAAf,YACKgR,GACD,wBAAOG,QAASvO,EAAM5C,UAAU,gBAAgB8B,QAAS,kBAAO2U,EAASzB,IAAS2C,KAAlF,YACKlJ,GAAQ,cAACA,EAAD,CAAMzO,UAAU,UAC1BgR,EAFH,IAEWyF,KAIb,cAAC,KAAD,CAAStT,MAAOoT,EAAMzT,SApDT,SAAC0E,GAChBgP,GAAQ,SAAC3Q,GAAD,mBAAC,eAAYA,GAAM2B,MAC3B,IA3BmB9H,EA2Bb2D,EAAMwV,OAAOC,KAAKtR,GAAG,GA3BR9H,EA4BP8H,EAAEnE,GA3BV6S,EAAKxW,IACPwW,EAAKxW,GAAIyX,QAAQS,eAAe,CAC9BC,SAAU,SACVC,MAAO,UAyBC,UAARzU,GAAiBuT,GAAiB,GAClCD,GAA4B,UAARtT,GAAiBsU,KA+CvC,SACG,cAAG3C,KAAH,OACC,mCACE,sBAAKhV,UAAU,wFAAf,UACE,uBACE4C,KAAK,aACLD,KAAK,SACL3C,UAAU,6CACVuD,QAAS,SAACR,GAAD,OAAOA,EAAEG,OAAOM,UACzBd,IAAI,IACJqW,IAAI,KACJlI,KAAK,IACLF,YAAY,KACZlN,UAAWuT,EACXlU,SAAUuU,EACVlU,MAAOoT,EAAKF,OAAS,KAEvB,sBAAMrW,UAAU,QAAhB,eACA,uBACE4C,KAAK,eACLD,KAAK,SACLyO,IAAKyF,EACL7W,UAAU,6CACVuD,QAAS,SAACR,GAAD,OAAOA,EAAEG,OAAOM,UACzBd,IAAI,IACJqW,IAAI,KACJlI,KAAK,IACLF,YAAY,KACZ7N,SAAUwU,EACVnU,MAAOoT,EAAKD,SAAW,KAEzB,6CACEtW,UAAU,0MACN0Y,GAFN,IAGE5W,QAAS,kBAAM4U,GAASD,IAH1B,SAKE,cAACxB,GAAA,EAAD,CAAYjV,UAAU,MAAMkV,cAAY,YAEzCuD,EACC,cAACO,GAAA,EAAD,UACGvC,GACC,eAAC,KAAQhB,QAAT,2BACMkD,GADN,IAEEM,QAAQ,EACRjZ,UAAU,6JAHZ,UAKE,qBAAK4C,KAAK,QAAQ5C,UAAU,oCAA5B,SACE,wBAAQA,UAAU,8CAA8C8B,QAASyV,EAAzE,mBAIF,qBAAKvX,UAAU,6DAAf,mBACA,cAAC,cAAD,CAAY4C,KAAK,QAAQ5C,UAAU,cAAnC,SACGoG,GAAI1E,KAAI,SAACwD,EAAGgU,GAAJ,OACP,cAAC,KAAQtD,OAAT,CAEE5V,UAAW,gBAAG6V,EAAH,EAAGA,OAAH,gBACNA,EAAS,8BAAgC,gBADnC,iEAIX1S,MAAO,CAAEkT,MAAOnR,GANlB,SAQG,YAAgB,EAAb2Q,OAAc,IACVC,GAAe,OAAJS,QAAI,IAAJA,OAAA,EAAAA,EAAMF,SAAUnR,EACjC,OACE,qBACElF,UAAS,uDACP8V,EAAW,0BAA4B,gBAEzC1E,IAAK8E,EAAKhR,GAJZ,SAMGA,MAhBFgU,QAuBX,sBAAKtW,KAAK,UAAU5C,UAAU,cAA9B,UACE,qBAAKA,UAAU,iDAAf,qBACCgW,GAAKtU,KAAI,SAAC6O,EAAG4I,GAAJ,OACR,cAAC,KAAQvD,OAAT,CAEE5V,UAAW,gBAAG6V,EAAH,EAAGA,OAAH,gBACNA,EAAS,8BAAgC,gBADnC,sEAIX1S,MAAO,CAAEmT,QAAS/F,GANpB,SAQG,gBAAGuF,EAAH,EAAGA,SAAH,EAAaD,OAAb,OACC,qBAKE7V,UAAS,uDACP8V,EAAW,cAAgB,eAN/B,SASGvF,MAjBA4I,SAuBX,cAAC,KAAD,eAAWP,uBCvLpBQ,GAAQ,WACnB,IAAM7H,EAAShI,IACT0B,EAAWrB,IACX9G,EAAW,SAACC,GAAD,OAAOkI,EAAS,CAAElB,MAAOhH,EAAEG,OAAON,KAAMO,MAAOJ,EAAEG,OAAOC,SAMnEkW,EAAc,SAAC3Z,GACnB,OAAO,SAACqD,GACNA,EAAEO,iBACF2H,EAAS,CACPlB,MAAO,YACP5G,MAAO6I,EAAUxK,QAAO,SAACgO,GACvB,OAAOA,EAAE9P,KAAOA,SAMhB0M,EAAoGmF,EAApGnF,iBAAkBX,EAAkF8F,EAAlF9F,WAAYE,EAAsE4F,EAAtE5F,WAAYC,EAA0D2F,EAA1D3F,UAAWC,EAA+C0F,EAA/C1F,QAASC,EAAsCyF,EAAtCzF,WAAYC,EAA0BwF,EAA1BxF,WAAYC,EAAcuF,EAAdvF,UAE9F,OACE,eAAC,IAAMqJ,SAAP,WACE,sBAAKrV,UAAU,kCAAf,UACE,cAAC,GAAD,CACE4C,KAAK,aACLO,MAAOsI,EACP3I,SAAUA,EACV6N,YAAY,cACZlC,KAAM6K,KACNtI,MAAM,cACNrO,KAAK,SACLwB,MAAM,OACN4M,MAAM,QACNrO,IAAI,MAEN,cAAC,GAAD,QAGA0J,GACA,sBAAKpM,UAAU,yCAAf,UACE,cAAC,GAAD,CACE4C,KAAK,YACLO,MAAOyI,EACP9I,SAAUA,EACV2L,KAAM8K,KACN5I,YAAY,QACZK,MAAM,QACNrO,KAAK,OACLoO,MAAM,SAER,cAAC,GAAD,CACEnO,KAAK,UACLO,MAAO0I,EACP/I,SAAUA,EACV2L,KAAM+K,KACN7I,YAAY,MACZK,MAAM,MACNrO,KAAK,OACLoO,MAAM,YAIZ,sBAAK/Q,UAAU,+EAAf,UACE,qBAAKA,UAAU,SAAf,SACE,cAAC,GAAD,CACE4C,KAAK,aACLO,MAAO2I,EACP/B,MAAM,aACNjH,SAAUA,EACVkO,MAAM,SACNvC,KAAMgL,SAGV,qBAAKzZ,UAAU,SAAf,SACE,cAAC,GAAD,CACE4C,KAAK,aACLO,MAAO4I,EACPhC,MAAM,aACNjH,SAAUA,EACVkO,MAAM,SACNvC,KAAMiL,cAgDT1N,GAAaA,EAAUtK,KAAI,SAAC8N,EAAGmK,GAAJ,OAAY,cAAC,GAAD,CAAWN,YAAaA,EAAaO,QAAO,OAAEpK,QAAF,IAAEA,OAAF,EAAEA,EAAG9P,GAAIia,IAAKA,OACpG,qBAAK3Z,UAAU,sBAAf,SACE,yBAAQA,UAAU,uDAAuD8B,QAhI9D,SAACiB,GAChBA,EAAEO,iBACF2H,EAAS,CAAElB,MAAO,YAAa5G,MAAM,GAAD,mBAAO6I,GAAa,IAApB,CAAyB,CAAEtM,GAAIe,YAAO,SA8HtE,UACE,cAACoZ,GAAA,EAAD,CAAgB7Z,UAAU,QAC1B,sBAAMA,UAAU,OAAhB,8BAIJ,cAAC,GAAD,CAASmD,MAAK,OAAEwI,QAAF,IAAEA,OAAF,EAAEA,EAAYhI,WAAY8K,KAAMqL,KAAWnX,KAAK,OAAO6R,KAAK,MAAMxD,MAAM,mBAKtF+I,GAAa,SAACjW,GAClB,IAAMyN,EAAShI,IACT0B,EAAWrB,IAETwC,EAA6CmF,EAA7CnF,iBAAkBX,EAA2B8F,EAA3B9F,WAAYC,EAAe6F,EAAf7F,WACtC5K,QAAQC,IAAI,qBAAsB2K,GAElC,IAAMsO,EAAQ,CACZ,CACEhJ,MAAO,YACP3M,UAAU,EACVoK,KAAMkF,KACNoB,SAAU,WACR9J,EAAS,CAAElB,MAAO,mBAAoB5G,OAAO,KAE/C2R,WAAY,WACV7J,EAAS,CAAElB,MAAO,mBAAoB5G,OAAO,MAGjD,CAAE6N,MAAO,QAAS7N,MAAO,GACzB,CAAE6N,MAAO,OAAQ7N,MAAO,KACxB,CAAE6N,MAAO,QAAS7N,MAAO,IACzB,CAAE6N,MAAO,QAAS7N,MAAO,KACzB,CAAE6N,MAAO,QAAS7N,MAAO,GACzB,CAAE6N,MAAO,QAAS7N,MAAO,MACzB,CAAE6N,MAAO,QAAS7N,MAAO,KACzB,CAAE6N,MAAO,QAAS7N,MAAO,MACzB,CAAE6N,MAAO,QAAS7N,MAAO,GACzB,CAAE6N,MAAO,WAAY3M,UAAU,IAmBjC,OAhBIoH,GACFuO,EAAMtY,KAAI,SAACmE,GAET,OADI,OAACA,QAAD,IAACA,OAAD,EAACA,EAAGxB,YAAUwB,EAAEmL,OAAF,aAAiBzK,EAAYhC,OAAOkH,GAAc5F,EAAE1C,OAApD,MACX0C,KAEXyH,qBAAU,WACFlB,GAAsBX,GAC1BR,EAAS,CACPlB,MAAO,aACP5G,MAAM,2BACDuI,GADA,IAEHsF,MAAOtF,EAAWsF,MAAMjL,MAAM,KAAK,GAA5B,aAAuCQ,EAAYhC,OAAOkH,GAAcC,EAAWvI,OAAnF,WAGZ,CAACsI,IAEG,cAACkJ,GAAD,CAAQ/R,KAAK,aAAaO,MAAOuI,EAAYT,SAAUA,EAAU2J,QAASoF,EAAOnF,kBAAkB,OAGtGoF,GAAY,SAAC,GAAmC,IAAjCZ,EAAgC,EAAhCA,YAAaO,EAAmB,EAAnBA,QAASD,EAAU,EAAVA,IAAU,EACnBtK,mBAAS,YADU,mBAC5C6K,EAD4C,KAClCC,EADkC,KAKnD,OACE,sBAAKna,UAAU,2GAAf,UACE,uBAAOmR,QAASyI,EAAS5Z,UAAU,iCAAnC,0BACa2Z,EAAM,KAEnB,sBAAK3Z,UAAU,6IAAf,UACE,yBAAQ4C,KAAK,GAAGlD,GAAG,GAAGM,UAAU,+BAA+B8C,SARpD,SAACC,GAAD,OAAOoX,EAAYpX,EAAEG,OAAOC,QAQ4CA,MAAO+W,EAA1F,UACE,wBAAQ/W,MAAM,WAAd,mBACA,wBAAQA,MAAM,WAAd,0BAEY,aAAb+W,GACC,yBAAQla,UAAU,2CAAlB,UACE,4CACA,4CACA,4CACA,0CACA,iDACA,oDAGU,aAAbka,GACC,sBAAKla,UAAU,oBAAf,UACE,wCADF,IACoB,uBAAOA,UAAU,sDACnC,sCAFF,IAEkB,uBAAOA,UAAU,sDACjC,sCAAgB,IAChB,qBAAKA,UAAU,kGAAf,qBAMJ,wBAAQA,UAAU,OAAO8B,QAASuX,EAAYO,GAA9C,SACE,cAACjG,GAAA,EAAD,CAAO3T,UAAU,iB,kECxPdoa,GAAe,WAOhB,IAAD,yDAAP,GANFtY,EAMS,EANTA,QACAc,EAKS,EALTA,KACAyX,EAIS,EAJTA,aACAC,EAGS,EAHTA,QAGS,IAFTnX,aAES,MAFDkX,GAAgBC,EAAQ,GAAGnX,MAE1B,MADToX,gBACS,SACT,IAAKD,EAAS,OAAO,KACrB,IAAMvW,EAAe,SAACZ,GAAD,OAAWrB,EAAQ,CAAEoB,OAAQ,CAAEN,OAAMO,YAE1D,OACE,qBACEnD,UAAS,8BACPua,EAAW,WAAa,iBADjB,4CADX,SAKGD,EAAQ5Y,KAAI,SAAC8Y,EAAQC,GAAT,OACX,cAAC,GAAD,aAAoB3Y,QAASiC,EAAc+R,SAAU3S,GAAWqX,GAAnDC,SAMfrG,GAAS,SAAC,GAAyE,IAAvEjR,EAAsE,EAAtEA,MAAOwN,EAA+D,EAA/DA,YAAa7O,EAAkD,EAAlDA,QAASgU,EAAyC,EAAzCA,SAAUrH,EAA+B,EAA/BA,KAA+B,IAAzBiM,kBAAyB,SAChFC,EAAa7E,IAAa3S,EAChC,OACE,sBACEnD,UAAS,0JACP2a,EAAa,2DAA6D,GADnE,KAGT7Y,QAAS,kBAAO4Y,IAAeC,GAAc7Y,EAAQqB,IAJvD,UAME,cAACsL,EAAD,CAAM4F,SAAS,QAAQC,MAAOoG,EAAa,WAAa,UAAW1a,UAAU,WAC7E,uBAAMA,UAAW0a,EAAa,gBAAkB,GAAhD,cAAsD/J,SCvB/CiK,GAAe,WAC1B,IAAMrJ,EAAShI,IACT0B,EAAWrB,IAEX9G,EAAW,SAACC,GAAD,OAAOkI,EAAS,CAAElB,MAAOhH,EAAEG,OAAON,KAAMO,MAAOJ,EAAEG,OAAOC,SAEjE0X,EAAuFtJ,EAAvFsJ,SAAUpO,EAA6E8E,EAA7E9E,YAAaC,EAAgE6E,EAAhE7E,WAAYF,EAAoD+E,EAApD/E,UAAWI,EAAyC2E,EAAzC3E,YAAaL,EAA4BgF,EAA5BhF,YAAaI,EAAe4E,EAAf5E,WAWhF,OATAW,qBAAU,WAMR,OALKX,GACH1B,EAAS,CACPlB,MAAO,aACP5G,MAAO,gBAEJ,eACN,CAACwJ,EAAY1B,IAGd,gCACE,sBAAKjL,UAAU,OAAf,UACE,sBAAKA,UAAU,uCAAf,UACE,uBAAOmR,QAAQ,WAAWnR,UAAU,sBAApC,sBAIA,cAAC,GAAD,CACEmE,MAAM,QACNvB,KAAK,WACLO,MAAO0X,EACP/X,SAAUA,EACV6N,YAAY,WACZlC,KAAMqM,UAGV,sBAAK9a,UAAU,uCAAf,UACE,uBAAOmR,QAAQ,cAAcnR,UAAU,sBAAvC,0BAGA,cAAC,GAAD,CACE4C,KAAK,cACLO,MAAOyJ,EACP9J,SAAUA,EACV6N,YAAY,eACZlC,KAAM6K,KACNnV,MAAM,iBAIZ,cAAC,GAAD,CAAYrC,QAASgB,EAAUK,MAAOwJ,IACtB,iBAAfA,GACC,eAAC,IAAM0I,SAAP,WACE,sBAAKrV,UAAU,OAAf,UACE,qBAAKA,UAAU,sCAAf,SAIE,cAAC,GAAD,CACE4C,KAAK,cACLO,MAAOsJ,EACP3J,SAAUA,EACV6N,YAAY,eACZlC,KAAMsM,KACN5W,MAAM,WAGV,qBAAKnE,UAAU,uCAAf,SAIE,cAAC,GAAD,CACE4C,KAAK,aACLO,MAAOuJ,EACP5J,SAAUA,EACV6N,YAAY,cACZlC,KAAMuM,KACN7W,MAAM,cAIZ,cAAC,GAAD,CAAShB,MAAOqJ,EAAWiC,KAAMwM,KAAezG,KAAK,OAAOxD,MAAM,kBAGtD,gBAAfrE,GAIC,cAAC,GAAD,CACE/J,KAAK,cACLO,MAAOoJ,EACPzJ,SAAUA,EACV6N,YAAY,eACZxM,MAAM,OACNsK,KAAMwM,WAOVC,GAAa,SAACpX,GAClB,IAAMqX,EAAY,CAChB,CAAEhY,MAAO,cAAewN,YAAa,eAAgBlC,KAAM2M,MAC3D,CAAEjY,MAAO,eAAgBwN,YAAa,gBAAiBlC,KAAM4M,OAE/D,OAAO,cAAC,GAAD,aAAczY,KAAK,aAAa0X,QAASa,GAAerX,KCtHpDwX,GAAW,WAAO,IAAD,EACIjM,oBAAS,GADb,mBACrBkM,EADqB,KACXC,EADW,KAEtBjK,EAAShI,IACT0B,EAAWrB,IAETmD,EAA4BwE,EAA5BxE,wBAIAI,EAAeoE,EAAfpE,WAKR,OACE,gCACE,cAAC,GAAD,CACEvK,KAAK,aACLO,MAAOgK,EACPrK,SAZW,SAACC,GAAD,OAAOkI,EAAS,CAAElB,MAAOhH,EAAEG,OAAON,KAAMO,MAAOJ,EAAEG,OAAOC,SAanEwN,YAAY,cACZlC,KAAM,kBAAM,wCAEd,uBACE7L,KAAK,0BACL5C,UAAU,YACVyb,QAAS1O,EACTjK,SAAU,WACRmI,EAAS,CACPlB,MAAO,0BACP5G,OAAQ4J,KAGZ4D,YAAY,uBACZhO,KAAK,aAEP,wBAAOwO,QAAQ,0BAAf,gCAEE,uBAAMnR,UAAU,2CAA2C8B,QAAS,kBAAM0Z,GAAaD,IAAvF,UACIA,EAAkB,KAAP,KADf,cAIDA,GAAY,sBAAMvb,UAAU,QAAhB,SA9Bf,2G,WCTG,SAAS0b,GAAM5X,GAAQ,IAAD,EAUvBA,EARF6X,iBAFyB,WAUvB7X,EAPF8Q,eAHyB,MAGf,GAHe,IAUvB9Q,EANFkG,iBAJyB,MAIb,GAJa,IAUvBlG,EALF8X,WALyB,WAUvB9X,EAJF+X,aANyB,WAUvB/X,EAHFlB,YAPyB,MAOlB,GAPkB,IAUvBkB,EAFFX,aARyB,MAQjB,GARiB,IAUvBW,EADFmH,gBATyB,MASd,aATc,EAiB3B,OAtBF,SAAoB6Q,GAClB,IAAK,IAAI9L,KAAK8L,EAAK,OAAO,EAC1B,OAAO,EAoBHC,CAAWnH,GAEX,sBAAK5U,UAAU,yEAAf,UACE,cAACgc,GAAA,EAAD,CAAShc,UAAU,QADrB,0BAMF,eAAC,KAAD,CAAYmD,MAAOA,EAAOL,SAbX,SAAC4S,GAChB5U,QAAQC,IAAI2U,GACZzK,EAAS,CAAElB,MAAOnH,EAAMO,MAAOuS,KAWe1V,UAAU,yDAAxD,UACGgK,GACC,cAAC,KAAWiS,MAAZ,CAAkBjc,UAAU,qDAA5B,SAAkFgK,IAEpF,qBAAKhK,UAAS,gBAAW4b,EAAM,oCAAsC,uCAArE,SACGhH,EAAQlT,KAAI,SAACgU,GAAD,OACX,cAAC,KAAWE,OAAZ,CAEEzS,MAAOuS,EAAOvS,MACd+Y,SAAUxG,EAAOwG,SACjBlc,UAAW,gBAAG6V,EAAH,EAAGA,OAAQ4F,EAAX,EAAWA,QAASS,EAApB,EAAoBA,SAApB,mMAEDrG,GAAU,0EAFT,iCAGD4F,GAAW,6EAHV,iCAIDS,GAAY,iBAJX,iCAKDL,EAAQ,aAAe,eATnC,SAYG,cAAGhG,OAAH,IAAW4F,EAAX,EAAWA,QAAX,EAAoBS,SAApB,OACC,qCACGxG,EAAOjH,MAAQ,cAACiH,EAAOjH,KAAR,CAAazO,UAAS,UAAK6b,EAAQ,WAAa,UAChE,cAAC,KAAWI,MAAZ,CAAkB7G,GAAG,IAAIpV,UAAU,iCAAnC,SACG0V,EAAO9S,OAEV,qBAAK5C,UAAU,uCAAf,SACG2b,EACC,qCACE,cAAC,KAAWQ,YAAZ,CACE/G,GAAG,OACHpV,UAAS,4BAAyByb,EAAU,kBAAoB,iBAFlE,SAIG/F,GAAUA,EAAO0G,OAASC,MAAM3G,EAAO0G,OAAS1G,EAAO0G,MAAvD,mBAAoE1G,QAApE,IAAoEA,OAApE,EAAoEA,EAAQ0G,SAE/E,qBAAKpc,UAAU,0DAAf,SACGyb,GAAW,cAAC1F,GAAA,EAAD,CAAO/V,UAAU,aAIjCyb,GAAW,cAAC1F,GAAA,EAAD,CAAO/V,UAAU,eA/B/B0V,EAAO9S,cCzBjB,IAAM0Z,GAAQ,WACnB,IAAM/K,EAAShI,IACT0B,EAAWrB,IAITqD,EAAiCsE,EAAjCtE,oBAAqBC,EAAYqE,EAAZrE,QAW7B,OATAI,qBAAU,WAMR,OALKJ,GACHjC,EAAS,CACPlB,MAAO,UACP5G,MAAO,UAEJ,eACN,CAAC+J,EAASjC,IAGX,uBAAM6G,OAAO,OAAb,UACE,cAACzD,EAAD,CAAcC,MAAM,WAAWE,UAAU,IACzC,cAAC,GAAD,CAAS1M,QAhBI,SAACiB,GAAD,OAAOkI,EAAS,CAAElB,MAAOhH,EAAEG,OAAON,KAAMO,MAAOJ,EAAEG,OAAOC,SAgBzCA,MAAO+J,IAMtB,aAAZA,GAA0B,cAAC,GAAD,IACd,iBAAZA,GAA8B,cAAC,GAAD,IAClB,UAAZA,GAAuB,cAAC,GAAD,IACxB,cAAC,GAAD,CAAS/J,MAAO8J,EAAqBwB,KAAM8N,KAAmB/H,KAAK,IAAIxD,MAAM,6BAY7EwL,GAAU,SAAC1Y,GACf,IAAMyN,EAAShI,IACT0B,EAAWrB,IAETsD,EAAYqE,EAAZrE,QAEFuP,EAAW,CACf,CAAEtZ,MAAO,QAASP,KAAM,iBAAkB6L,KAAMiO,MAChD,CAAEvZ,MAAO,WAAYP,KAAM,YAAa6L,KAAMkO,MAC9C,CAAExZ,MAAO,eAAgBP,KAAM,gBAAiB6L,KAAM6D,OAGxD,OACE,cAACoJ,GAAD,aAAO9Y,KAAK,UAAUO,MAAO+J,EAASjC,SAAUA,EAAU2J,QAAS6H,EAAUb,IAAI,OAAOC,MAAM,QAAW/X,KC/DhG8Y,GAAY,WACvB,IAAMrL,EAAShI,IACT0B,EAAWrB,IACT4B,EAAoB+F,EAApB/F,gBAIR,OACE,4CAEE,cAAC,GAAD,CACE5I,KAAK,kBACLO,MAAOqI,EACP1I,SARW,SAACC,GAAD,OAAOkI,EAAS,CAAElB,MAAOhH,EAAEG,OAAON,KAAMO,MAAOJ,EAAEG,OAAOC,SASnEsL,KAAMwM,KACNtK,YAAY,mBACZhO,KAAK,WAEP,qBAAK3C,UAAU,mB,2CClBR6c,GAAiB,SAAC,GAAgF,IAAD,IAA7Ela,YAA6E,MAAtE,UAAsE,EAA3DC,EAA2D,EAA3DA,KAA2D,IAArDoF,aAAqD,MAA7C,IAA6C,MAAxCW,cAAwC,MAA/B,IAA+B,MAA1BsC,gBAA0B,MAAf,aAAe,EAGtG6R,EAAY5L,iBAAO,IAazB,OACE,qBAAKlR,UAAU,qBAAf,SAEE,sBAAKA,UAAU,mBAAf,UACE,sBAAKA,UAAU,qDAAf,UACE,qBAAKA,UAAU,sGAAf,SACG2C,IAEH,cAAC,KAAD,CAEEiS,QAAS,CAAEmI,MAhBR,SAACha,GACZ,IAAM+P,EAAMjL,EAAWiV,EAAU3F,QAAQ6F,SAASC,UAAU,aAE5DhS,EAAS,CAAElB,MAAOnH,EAAMO,MAAO2P,KAaCoK,SAAU,oBAAqBC,SAAU,EAAGC,SAAU,GAC9EC,YAAa,CACXrV,QACAW,SACA3I,UAAW,0CAGboR,IAAK0L,OAGT,wBACE9c,UAAU,6HACV8B,QAjCM,WACZgb,EAAU3F,QAAQ/G,QAClBnF,EAAS,CAAElB,MAAOnH,EAAMO,MAAO,MA6B3B,yBCtCKma,GAAa,SAAC,GAA8C,IAAD,IAA3CtM,aAA2C,MAAnC,OAAmC,EAA3B/F,EAA2B,EAA3BA,SAAUrI,EAAiB,EAAjBA,KAAMD,EAAW,EAAXA,KAAW,EAC5B0M,oBAAS,GADmB,mBAC/DkO,EAD+D,KAChDC,EADgD,KAGhEC,EAAkB,kBAAMD,GAAkBD,IAEhD,OACE,mCACE,qBAAKvd,UAAU,qEAAf,SACGud,EACC,sBAAKvd,UAAU,6DAAf,UACE,cAAC,GAAD,CAAgBiL,SAAUA,EAAUrI,KAAMA,EAAMD,KAAMA,IACtD,sBAAK3C,UAAU,iBAAf,UACE,yBACEA,UAAU,sEACV8B,QAAS2b,EAFX,UAIE,cAAC9J,GAAA,EAAD,CAAO3T,UAAU,SAJnB,YAOA,yBACEA,UAAU,iFACV8B,QAAS2b,EAFX,UAIE,cAACC,GAAA,EAAD,CAAU1d,UAAU,SAJtB,oBAUJ,yBACEA,UAAU,wFACV8B,QAAS2b,EAFX,UAIE,cAACE,GAAA,EAAD,CAAS3d,UAAU,SAClBgR,UC7BA4M,GAAW,WAEtB,IAAMrM,EAAShI,IACT0B,EAAWrB,IAEfiU,EAGEtM,EAHFsM,kBAL0B,EAQxBtM,EAFwCuM,6BANhB,SAO1BC,EACExM,EADFwM,gBAKIzD,EAAU,CACd,CACEnX,OAAO,EACPP,KAAM,cACN6L,KAAMiP,MAER,CAAEva,OAAO,EAAMP,KAAM,UAAW6L,KAAMuP,KAAMtD,YAAaoD,IAW3D,OARAxQ,qBAAU,gBACkB5D,IAAtBmU,GACF5S,EAAS,CACPlB,MAAO,oBACP5G,OAAO,MAEV,CAAC0a,EAAmB5S,IAGrB,qCACE,cAACoD,EAAD,CAAcC,MAAM,WAAWE,UAAU,IACzC,cAACkN,GAAD,CACE5Z,QAvBW,SAACiB,GAAD,OAAOkI,EAAS,CAAElB,MAAOhH,EAAEG,OAAON,KAAMO,MAAOJ,EAAEG,OAAOC,SAwBnEP,KAAK,oBACLO,MAAO0a,EACP5S,SAAUA,EACV2J,QAAS0F,EACTsB,KAAK,IAEP,cAAC,GAAD,CAAY5K,MAAM,UAAU/F,SAAUA,EAAUrI,KAAK,kBAAkBO,MAAO4a,Q,SC9C7E,SAAeE,GAAtB,mC,8CAAO,WAA2B1M,GAA3B,qCAAA/Q,EAAA,4DAEO,wBACN0d,EAAU7b,OAAO8b,SAASC,OAAOza,WAAvBtB,QACVgc,EAAUH,EAFJ,wBAFP,SAKsBI,MAAMD,GAASE,MAAK,SAACC,GAAD,OAASA,EAAIC,iBALvD,cAKCC,EALD,gBAOgBC,eAAYC,KAAKF,GAPjC,UAOCG,EAPD,OASCC,EAAQD,EAAOE,WACfC,EAAOH,EAAOI,UAEdC,EAAW,SAACC,EAAUhc,GAA8B,IAAvBic,EAAsB,wDACvD,GAAKD,GAAahc,IAASic,EAE3B,OADI3X,MAAMC,QAAQvE,KAAQA,EAAQA,EAAMkc,KAAK,OACtCL,EAAKM,aAAaH,IAGrBI,EAlBD,+BAAA/e,EAAA,MAkBgB,WAAOgf,EAAWtX,EAAGD,GAArB,iCAAAzH,EAAA,wFAAgC,GAAImI,EAApC,+BAA6C,GAC3D6W,GAActX,GAAMD,EADN,iEAECqW,MAAMkB,GAAWjB,MAAK,SAACC,GAAD,OAASA,EAAIC,iBAFpC,cAEbgB,EAFa,gBAGCZ,EAAOa,SAASD,GAHjB,cAGbE,EAHa,OAInB7e,QAAQC,IAAI4e,EAAMhX,OAAQgX,EAAM3X,OAC1B4X,EAAQD,EAAM3X,MAAQ2X,EAAMhX,OALf,kBAMZmW,EAAM,GAAGe,UAAUF,EAAO,CAAEzX,IAAGD,IAAGU,SAAQX,MAAO4X,EAAQjX,KAN7C,4CAlBhB,0DA2BCmX,EAAe,SAACxa,EAAM4C,EAAGD,GAAkB,IAAf8X,EAAc,uDAAP,GACvC,GAAKza,GAAS4C,GAAMD,EACpB,OAAO6W,EAAM,GAAGkB,SAAS1a,EAAM,CAAE4C,IAAGD,IAAG8X,UAIzCb,EAAS,OAAQ3N,EAAO1R,UACxBqf,EAAS,QAAS3N,EAAOxR,OACzBmf,EAAS,QAAS3N,EAAOC,aACzB0N,EAAS,SAAU3N,EAAOE,gBACQ,IAA9BF,EAAOK,oBAA6BsN,EAAS,cAAe3N,EAAOI,iBACvEuN,EAAS,cAAe3N,EAAOG,oBAC/BwN,EAAS,QAAS3N,EAAO0O,QAGzB1O,EAAOsM,kBA1CF,kCA2CK0B,EAAahO,EAAOwM,gBAAiB,GAAI,KA3C9C,iDA4CKwB,EAAahO,EAAOwM,gBAAiB,GAAI,KA5C9C,WA+CoB,UAArBxM,EAAOrG,UA/CN,kCA+CmCqU,EAAahO,EAAO2O,kBAAmB,GAAI,KA/C9E,WAgDoB,8BAArB3O,EAAOrG,UAhDN,kCAgDuDqU,EAAahO,EAAO2O,kBAAmB,GAAI,KAhDlG,WAiDLhB,EAAS,4BAA6B3N,EAAOnG,6BACpB,gBAArBmG,EAAOrG,UAlDN,kCAkDyCqU,EAAahO,EAAO2O,kBAAmB,GAAI,KAlDpF,eAmDLhB,EAAS,0BAA2B3N,EAAOpG,eAC3C+T,EAAS,iBAAkB3N,EAAOlG,eAClC6T,EAAS,qBAAsB3N,EAAOjF,gBArDjC,UAwDCiT,EAAahO,EAAO4O,qBAAsB,GAAI,GAAI,IAAK,IAxDxD,WAyDD5O,EAAO6O,kBACTN,EAAavO,EAAO8O,oBAAsB9O,EAAO+O,MAAM,GAAI,IAAK,MAE9D/O,EAAOgP,iBA5DN,kCA6DGhB,EAAahO,EAAOiP,cAAe,GAAI,GAAI,IAAK,IA7DnD,QA8DHV,EAAavO,EAAO+O,MAAM,GAAI,IAAK,IA9DhC,YAkED/O,EAAOkP,eAlEN,kCAkE4BlB,EAAahO,EAAOmP,SAAU,GAAI,GAAI,GAAI,GAlEtE,WAqELxB,EAAS,YAAa3N,EAAOoP,WAEN,UAAnBpP,EAAOrE,UACLqE,EAAOnF,iBACT8S,EAAS,aAAc3N,EAAOlF,YAE9B6S,EAAS,oBAAqB3N,EAAO3F,WACrCsT,EAAS,kBAAmB3N,EAAO1F,UAErCqT,EAAS,qBAAsB3N,EAAOzF,YACtCoT,EAAS,qBAAsB3N,EAAOxF,YACtCmT,EAAS,qBAAsB3N,EAAOvF,WACtCkT,EAAS,oBAAqB3N,EAAO5F,YACrCuT,EAAS,cAAe3N,EAAO9F,aAEV,iBAAnB8F,EAAOrE,UACTgS,EAAS,gBAAiB3N,EAAOsJ,UACP,iBAAtBtJ,EAAO5E,aACTuS,EAAS,uBAAwB3N,EAAO9E,aACxCyS,EAAS,sBAAuB3N,EAAO7E,aAEzCwS,EAAS,qBAAsB3N,EAAO/E,WACtC0S,EAAS,eAAgB3N,EAAO3E,cAElCsS,EAAS,uBAAwB3N,EAAOtE,qBAGlC,OAANsE,QAAM,IAANA,GAAA,UAAAA,EAAQrF,iBAAR,SACI1K,QAAO,SAAC+O,GAAD,OAAOA,EAAEpM,MAAQ,KACzB4L,SAAQ,SAAC6Q,EAAMnG,GACd,IAAMzK,EAAIyK,EAAQ,EACdA,EAAQ,IAEVyE,EAAS,IAAD,OAAKlP,GAAK4Q,EAAKhe,MACvBsc,EAAS,QAAD,OAASlP,GAAK4Q,EAAKzc,OAC3B+a,EAAS,SAAD,OAAUlP,GAAK4Q,EAAK1c,MAC5Bgb,EAAS,UAAD,OAAWlP,GAAK4Q,EAAKxc,WAGnC8a,EAAS,0BAA2B3N,EAAOnE,gBAGrC,OAANmE,QAAM,IAANA,GAAA,UAAAA,EAAQpF,gBAAR,SACI3K,QAAO,SAAC+O,GAAD,OAAOA,EAAEpN,MAAQ,GAAKoN,EAAEuF,YAChC/F,SAAQ,SAAC6Q,EAAM5Q,GACVA,EAAI,IAENkP,EAAS,IAAD,OAAKlP,EAAI,GAAKjJ,EAAe6Z,EAAKhe,KAAM,IAChDsc,EAAS,WAAD,OAAYlP,EAAI,GAAK4Q,EAAKzd,WAGxC+b,EAAS,cAAe3N,EAAOlE,eAG/B6R,EAAS,gBAAiB3N,EAAOtF,UACjCiT,EAAS,iBAAkB3N,EAAOsP,gBAClC3B,EAAS,aAAc3N,EAAO3D,YAC9BsR,EAAS,uBAAwB3N,EAAO1E,oBACxCqS,EAAS,oBAAqB3N,EAAOzE,iBACrCoS,EAAS,iBAAkB3N,EAAOuP,gBAClC5B,EAAS,oBAAqB3N,EAAOwP,mBAEjCxP,EAAOyP,YAnIN,kCAoIGzB,EAAahO,EAAOiO,UAAW,IAAK,GAAI,IAAK,IApIhD,QAqIHM,EAAavO,EAAO+O,MAAM,GAAI,IAAK,IArIhC,eAwILtB,EAAKiC,UAxIA,UAyIkBpC,EAAOqC,OAzIzB,eAyICC,EAzID,yBA0IEA,GA1IF,6C,sBCAA,IAAMC,GAAW,WACtB,IAAM7P,EAAShI,IAEf,OACE,sBAAKvJ,UAAU,SAAf,UACE,uBACA,wBAAQA,UAAU,iCAAiC8B,QAAS,kBAAMmc,GAAY1M,IAA9E,oC,oICwBO8P,GAAkB,CAC7B,CACE3hB,GAAI,SACJkD,KAAM,QACN0e,cAAe,MACf7S,KAAM8S,KACN5R,MA3BU,WAAwB,IAAD,yDAAP,GAAb6R,EAAoB,EAApBA,SACTre,EAAQ,KAEd,OACE,sBAAKnD,UAAU,oFAAf,UACE,+CACA,sBAAMA,UAAU,wBAAhB,4GAGA,8BACE,yBACEA,UAAU,oDACV8B,QAAS,kBAAM0f,GAAYA,EAASre,IAFtC,2BAIiBA,YAevB,CACEzD,GAAI,SACJkD,KAAM,wBACN0e,cAAe,KACfG,IAAK,YACLhT,KAAMiT,MAER,CACEhiB,GAAI,SACJkD,KAAM,QACN0e,cAAe,MACf7S,KAAMkT,MAER,CACEjiB,GAAI,SACJkD,KAAM,cACN0e,cAAe,MACf7S,KAAMmT,MAER,CACEliB,GAAI,SACJkD,KAAM,UACN0e,cAAe,MACf7S,KAAMoT,MAER,CACEniB,GAAI,SACJkD,KAAM,gBACN0e,cAAe,IACf7S,KAAMqT,MAER,CACEpiB,GAAI,SACJkD,KAAM,QACN0e,cAAe,IACf7S,KAAMsT,MAER,CACEriB,GAAI,SACJkD,KAAM,UACN0e,cAAe,IACf7S,KAAMuT,MAER,CACEtiB,GAAI,SACJkD,KAAM,UACN0e,cAAe,IACf7S,KAAMwT,OC/EGC,GAAW,SAAC,GAAwD,IAAD,IAArDlY,iBAAqD,MAAzC,WAAyC,MAA7BsG,uBAA6B,SACxEG,EAAOlH,IACP0B,EAAWrB,IAF6D,EAIjC6G,EAArCpD,qBAJsE,MAItD,EAJsD,IAIjCoD,EAAlBtE,gBAJmD,MAIxC,GAJwC,IAKjC+C,GAASlF,EAAWqX,GAAiBlV,EAAUlB,GALd,mBAKvEkX,EALuE,KAK/DrS,EAL+D,KAKvDG,EALuD,KAKlDE,EALkD,KAK1CC,EAL0C,OAOtC8C,IAAM7D,SAASiB,GAPuB,mBAOvEzB,EAPuE,KAO7DuT,EAP6D,OAQ5ClP,IAAM7D,UAAS,GAR6B,mBAQvEgT,EARuE,KAQ5DC,EAR4D,KASxEC,EAAUrP,IAAMhC,OAAO,IAEvBsR,EAAarb,EAAYgb,EAAM,EAAG,YAAY,SAAC3a,GAAD,OAAOA,KAa3D,OAXA+a,EAAQpL,SAAWtI,EAAWsT,EAAOK,GAAY9gB,KAAI,SAAC+gB,EAAGzS,GAAJ,OAAWuS,EAAQpL,QAAQnH,GAAKkD,IAAMkD,eAE3FlD,IAAM5F,WAAU,WACE,IAAD,gBAAX+U,IACF,UAAAE,EAAQpL,QACNoL,EAAQpL,QAAQlQ,OAAS,UAD3B,mBAEGkQ,eAFH,mBAEYuL,kBAFZ,mBAEwBA,kBAFxB,mBAEoCA,kBAFpC,mBAEgDC,kBAFhD,mBAE4DC,iBAF5D,mBAEuED,kBAFvE,SAEmFvL,QACnFkL,GAAa,MAEd,CAACD,EAAWC,IAGb,qCACE,cAACjU,EAAD,CAAcC,MAAM,YAAYxM,QAASsO,EAAO5B,WAAYrC,GAAgC,IAApBA,EAASlF,OAAcwH,KAAM/J,MACrG,qBAAK1E,UAAU,4CAAf,UACI6O,EAAWsT,EAAOK,GAAY9gB,KAAI,SAACmhB,EAAK7S,GACxC,OAAO,cAAC,GAAD,aAAaF,OAAQA,EAAQgT,SAAUP,EAAQpL,QAAQnH,GAAIG,OAAQA,GAAY0S,GAArE7S,QAGrB,cAACpB,GAAD,CACEC,SAAUA,EACVC,YAAasT,EACbhe,MAAOiJ,EACP0B,UAAW,WACTkB,EAAI,CAAE6F,UAAU,IAChBwM,GAAa,UAOjBS,GAAM,SAAC,GAcN,IAAD,IAbJngB,YAaI,MAbG,GAaH,MAZJ0e,qBAYI,MAZY,EAYZ,MAXJne,aAWI,MAXI,GAWJ,EAVJ2M,EAUI,EAVJA,OAUI,IATJgT,gBASI,MATO,KASP,MARJhN,gBAQI,aAPJrH,YAOI,WAPG/E,EAOH,MANJiG,aAMI,WANIjG,EAMJ,MALJ+X,WAKI,MALE,GAKF,MAJJpd,gBAII,SAHJ3E,EAGI,EAHJA,GACAyQ,EAEI,EAFJA,OACGvO,EACC,+HAC8BsR,IAAM7D,UAAS,GAD7C,mBACG2T,EADH,KACcC,EADd,KAGEC,EAAkB,kBAAMD,GAAa,SAACvT,GAAD,OAAQA,MAM7CyT,EAAiB,WAAe,IAAD,EAAbpgB,EAAa,uDAAT,KACF,eAAnB,OAADA,QAAC,IAADA,GAAA,UAAAA,EAAGG,cAAH,eAAWN,OAAsBkN,EAAOpQ,EAAI,CAAEoW,UAAWA,EAAU3S,MAAOA,GAAgBme,KAEhG,OACE,qCACE,6CACE8B,UAAA,cAAgB1jB,GAChBM,UAAU,8EACN4B,GAHN,aAKE,sBACE5B,UAAS,0DACM,IAAb8V,EAAoB,kCAApB,yBAFJ,UAKE,sBAAK9V,UAAU,2BAA2B8B,QAASqhB,EAAnD,UACE,+BAAOrN,EAAW,cAACuN,GAAA,EAAD,CAAiBrjB,UAAU,mBAAsB,cAACsjB,GAAA,EAAD,MACnE,sBAAMtjB,UAAU,OAAhB,SACGyO,EACC,cAACA,EAAD,IAEA,sBAAMzO,UAAU,gEAAhB,SACI4C,GAAQA,EAAK,IAAO,QAI5B,sBAAM5C,UAAU,kBAAhB,SACGqE,EACC,uBACEzB,KAAK,YACLO,MAAOP,EACPW,QAAS,SAACR,GAAD,OAAOA,EAAEG,OAAOM,UACzBJ,WAAY,SAACL,GACG,UAAVA,EAAEM,KAAiByf,EAAS3L,QAAQC,SAE1CtU,SAAU,SAACC,GAAD,OAAO+M,EAAOpQ,EAAI,CAAEkD,KAAMG,EAAEG,OAAOC,SAC7CnD,UAAU,+HATL,UAYJ4C,QAIT,8BACE,sBAAK5C,UAAU,gBAAf,UACG8V,GAAY,sBAAM9V,UAAU,2CAAhB,eACb,uBACE4C,KAAK,cACLO,MAAOA,EACPR,KAAK,SACLyO,IAAK0R,EACLpgB,IAAI,IACJI,SAAU,SAACC,GAAD,OAAO+M,EAAOpQ,EAAI,CAAEyD,MAAOJ,EAAEG,OAAOC,SAC9CC,WAAY,SAACL,GACG,UAAVA,EAAEM,KAAiBN,EAAEG,OAAOQ,QAElCH,QAAS,SAACR,GAAD,OAAOA,EAAEG,OAAOM,UACzBxD,UAAS,+HACP8V,GAAYzR,EAAW,GAAK,YAGhC,sBACEzB,KAAK,aACLd,QAASqhB,EACTnjB,UAAS,8CAAyC8V,GAAYzR,EAAW,SAAW,IAHtF,mBAIKod,GAAY,WAJjB,aAIgCH,UAIpC,sBAAMthB,UAAU,uDAAhB,SACGqE,EACC,cAACK,EAAA,EAAD,CAAQ1E,UAAU,MAAM8B,QAAS,kBAAMqO,EAAOzQ,MAC5CiQ,EACFqT,EACE,cAAC/T,GAAA,EAAD,CAAenN,QAASohB,IAExB,cAACK,GAAA,EAAD,CAAYzhB,QAASohB,IAGvB,qBAAKljB,UAAU,gBAKtBgjB,GAAarT,GAAS,cAACA,EAAD,CAAO6R,SAxFb,SAACre,GACpB2M,EAAOpQ,EAAI,CAAEyD,QAAO2S,UAAU,WCnDrB0N,GAAO,WAAO,IAAD,EACRnU,mBAVL,SAAC,GAAD,IAAGoU,EAAH,EAAGA,KAAM3Q,EAAT,EAASA,IAAT,oBACXqE,QAASsM,EACTC,SAAS,GAAD,OAAK5Q,EAAL,YAEL+F,OAAO8K,YACR,CAAC,YAAa,SAAU,QAAS,YAAa,YAAa,YAAYjiB,KAAI,SAACkiB,GAAD,MAAO,CAACA,EAAD,UAAOH,EAAP,YAAeG,SAK1EC,CAAK9Q,gBAAvB+Q,EADiB,oBAElBC,EAAWC,cAAXD,OAEAtT,EAAOrP,aAAY,gBAAgB+G,EAAhB,EAAGhI,UAAagI,KAAhB,OAA6BA,EAAKhH,OAASgH,EAAKhH,MAAM4iB,MAW/E,OACE,qCACE,wBAAQjiB,QAAS,kBAAMhB,QAAQC,IAAI0P,IAAnC,oBACA,cAAC,GAAD,IACA,qBAAKzQ,UAAU,qEAAf,SACE,cAAC,EAAD,UACE,eAAC,IAAD,WAGE,cAAC,IAAD,CAAOyjB,KAAMK,EAAMG,SAAnB,SACE,cAAC,GAAD,MAEF,eAAC,IAAD,CAAOR,KAAMK,EAAM5X,UAAnB,UACE,cAAC,GAAD,IACA,uBACA,cAAC,GAAD,OAEF,cAAC,IAAD,CAAOuX,KAAMK,EAAMvS,OAAnB,SACE,cAAC,GAAD,MAGF,cAAC,IAAD,CAAOkS,KAAMK,EAAMI,MAAnB,SACE,cAAC,GAAD,MAGF,cAAC,IAAD,CAAOT,KAAMK,EAAMK,UAAnB,SACE,cAAC,GAAD,MAEF,cAAC,IAAD,CAAOV,KAAMK,EAAMM,SAAnB,SACE,cAAC,GAAD,iBCnEDC,GAAc,SAAC,GAAyB,IAAvBvhB,EAAsB,EAAtBA,SAAUK,EAAY,EAAZA,MAQtC,OACE,yBACEP,KAAK,gBACLO,MAAOA,EACPL,SAAUA,EACV9C,UAAU,0HAJZ,UARqB,CACrB,CAAEgR,MAAO,QAAS7N,MAAO,OAAQmhB,eAAgB,OACjD,CAAEtT,MAAO,QAAS7N,MAAO,QAASmhB,eAAgB,KAClD,CAAEtT,MAAO,QAAS7N,MAAO,OAAQmhB,eAAgB,MACjD,CAAEtT,MAAO,gBAAiB7N,MAAO,cAUfzB,KAAI,SAAC6iB,GAAD,OAClB,wBAAsBphB,MAAOohB,EAAEphB,MAA/B,SACGohB,EAAEvT,MAAMrN,YADE4gB,EAAEvT,UAIjB,wBAAQ+D,SAAU,kBAAMjU,QAAQC,IAAI,SAApC,yB,mBCXAyjB,GAAe,CACnBC,UAAW,QACXC,MAAO,CACLpV,KAAM,CACJqV,UAAW,UACXrQ,MAAO,OACPsQ,WAAY,IACZC,WAAY,0CACZxQ,SAAU,OACVyQ,cAAe,cACf,oBAAqB,CACnBxQ,MAAO,WAET,gBAAiB,CACfA,MAAO,YAGXyQ,QAAS,CACPJ,UAAW,UACXrQ,MAAO,aAKP0Q,GAAY,SAAC,GAAD,IAAGliB,EAAH,EAAGA,SAAH,OAChB,qBAAK9C,UAAU,UAAf,SACE,cAAC,eAAD,CAAa4U,QAAS4P,GAAc1hB,SAAUA,OAI5CmiB,GAAQ,SAAC,GAAD,IAAGjU,EAAH,EAAGA,MAAOtR,EAAV,EAAUA,GAAIiD,EAAd,EAAcA,KAAMgO,EAApB,EAAoBA,YAAauU,EAAjC,EAAiCA,SAAU7T,EAA3C,EAA2CA,aAAclO,EAAzD,EAAyDA,MAAOL,EAAhE,EAAgEA,SAAhE,OACZ,sBAAK9C,UAAU,sEAAf,UACE,uBAAOmR,QAASzR,EAAIM,UAAU,sCAA9B,SACGgR,IAEH,uBACEhR,UAAU,iCACVN,GAAIA,EACJiD,KAAMA,EACNgO,YAAaA,EACbuU,SAAUA,EACV7T,aAAcA,EACdlO,MAAOA,EACPL,SAAUA,QAKVqiB,GAAe,SAAC,GAAD,IAAGC,EAAH,EAAGA,WAAYC,EAAf,EAAeA,MAAOhb,EAAtB,EAAsBA,SAAU6R,EAAhC,EAAgCA,SAAhC,OACnB,wBACElc,UAAS,yEAAoEqlB,EAAQ,sBAAwB,IAC7G1iB,KAAK,SACLuZ,SAAUkJ,GAAclJ,EAH1B,SAKGkJ,EAAa,gBAAkB/a,KAI9Bib,GAAe,SAAC,GAAD,IAAGjb,EAAH,EAAGA,SAAH,OACnB,sBAAKrK,UAAU,eAAeulB,KAAK,QAAnC,UACE,sBAAKvd,MAAM,KAAKW,OAAO,KAAK6c,QAAQ,YAApC,UACE,sBACEC,KAAK,OACLxgB,EAAE,wJAEJ,sBACEwgB,KAAK,UACLxgB,EAAE,6tBAGLoF,MAICqb,GAAc,SAAC,GAAD,IAAG5jB,EAAH,EAAGA,QAAH,OAClB,wBAAQa,KAAK,SAAS3C,UAAU,cAAc8B,QAASA,EAAvD,SACE,qBAAKkG,MAAM,OAAOW,OAAO,OAAO6c,QAAQ,YAAxC,SACE,sBACEC,KAAK,OACLxgB,EAAE,0iCAMJ0gB,GAAe,WACnB,IAAMC,EAASC,uBACTC,EAAWC,yBAFQ,EAGC1W,mBAAS,MAHV,mBAGlBgW,EAHkB,KAGXW,EAHW,OAIe3W,oBAAS,GAJxB,mBAIlB4W,EAJkB,KAIJC,EAJI,OAKW7W,oBAAS,GALpB,mBAKlB+V,EALkB,KAKNe,EALM,OAMiB9W,mBAAS,MAN1B,mBAMlB+W,EANkB,KAMHC,EANG,OAOmBhX,mBAAS,CACnDtP,MAAO,GACPD,MAAO,GACP8C,KAAM,KAViB,mBAOlB0jB,EAPkB,KAOFC,EAPE,KAanBC,EAAY,uCAAG,WAAOC,GAAP,eAAAjmB,EAAA,yDACnBimB,EAAMnjB,iBAEDsiB,GAAWE,EAHG,qDASfT,EATe,uBAUjBS,EAASY,WAAW,QAAQtP,QAVX,iCAcf6O,GACFE,GAAc,GAfG,SAkBGP,EAAOe,oBAAoB,CAC/ChkB,KAAM,OACNikB,KAAMd,EAASY,WAAWG,gBAC1BC,gBAAiBR,IArBA,OAkBbrc,EAlBa,OAwBnBkc,GAAc,GAEVlc,EAAQob,MACVW,EAAS/b,EAAQob,OAEjBgB,EAAiBpc,EAAQmc,eA7BR,4CAAH,sDA4ClB,OAAOA,EACL,sBAAKpmB,UAAU,SAAf,UACE,qBAAKA,UAAU,cAAculB,KAAK,QAAlC,gCAGA,sBAAKvlB,UAAU,gBAAf,wGAC8FomB,EAAc1mB,MAE5G,cAAC,GAAD,CAAaoC,QAnBH,WACZkkB,EAAS,MACTG,GAAc,GACdE,EAAiB,MACjBE,EAAkB,CAChBxmB,MAAO,GACPD,MAAO,GACP8C,KAAM,WAeR,uBAAM5C,UAAU,OAAO+mB,SAAUP,EAAjC,UACE,2BAAUxmB,UAAU,YAApB,UACE,cAAC,GAAD,CACEgR,MAAM,OACNtR,GAAG,OACHiD,KAAK,OACLgO,YAAY,WACZuU,UAAQ,EACR7T,aAAa,OACblO,MAAOmjB,EAAe1jB,KACtBE,SAAU,SAACC,GACTwjB,EAAkB,2BAAKD,GAAN,IAAsB1jB,KAAMG,EAAEG,OAAOC,YAG1D,cAAC,GAAD,CACE6N,MAAM,QACNtR,GAAG,QACHiD,KAAK,QACLgO,YAAY,oBACZuU,UAAQ,EACR7T,aAAa,QACblO,MAAOmjB,EAAevmB,MACtB+C,SAAU,SAACC,GACTwjB,EAAkB,2BAAKD,GAAN,IAAsBvmB,MAAOgD,EAAEG,OAAOC,YAG3D,cAAC,GAAD,CACE6N,MAAM,QACNtR,GAAG,QACHiD,KAAK,MACLgO,YAAY,iBACZuU,UAAQ,EACR7T,aAAa,MACblO,MAAOmjB,EAAexmB,MACtBgD,SAAU,SAACC,GACTwjB,EAAkB,2BAAKD,GAAN,IAAsBxmB,MAAOiD,EAAEG,OAAOC,eAI7D,0BAAUnD,UAAU,YAApB,SACE,cAAC,GAAD,CACE8C,SAAU,SAACC,GACTijB,EAASjjB,EAAEsiB,OACXa,EAAgBnjB,EAAEikB,eAIvB3B,GAAS,cAAC,GAAD,UAAeA,EAAM4B,UAC/B,cAAC,GAAD,CAAc7B,WAAYA,EAAYC,MAAOA,EAAOnJ,UAAW0J,EAA/D,yBAOAsB,GAAmB,CACvBC,MAAO,CACL,CACEC,OAAQ,oDAORC,GAAgBC,aAAW,oCAEpBC,GAAO,WAClB,OACE,sBAAKvnB,UAAU,aAAf,UACE,8CACA,cAAC,YAAD,CAAU4lB,OAAQyB,GAAezS,QAASsS,GAA1C,SACE,cAAC,GAAD,UCnOKM,GAAU,WACrB,IAAMjW,EAAShI,IACPuD,EAAmCyE,EAAnCzE,gBAAiBE,EAAkBuE,EAAlBvE,cACnB/B,EAAWrB,IAEX9G,EAAW,SAACC,GAAD,OAAOkI,EAAS,CAAElB,MAAOhH,EAAEG,OAAON,KAAMO,MAAOJ,EAAEG,OAAOC,SAEzE,OACE,gCACE,8CACA,cAAC,GAAD,CAAaA,MAAO6J,EAAelK,SAAUA,IAE7C,mDACA,cAAC,GAAD,CACEF,KAAK,kBACLO,MAAO2J,EACPhK,SAAUA,EACV2L,KAAM,WACJ,OAAO,sCAETkC,YAAY,sBAEb3D,GAAmC,SAAlBA,GAA4B,cAAC,GAAD,QCzBvCya,GAAa,WACxB,IAAMxc,EAAWrB,IAEjB,OACE,mCACE,qBAAK5J,UAAU,6BAAf,SACE,cAAC,GAAD,CAAgBiL,SAAUA,EAAUtI,KAAK,YAAYC,KAAK,qBAAqBoF,MAAM,aCNvF0f,GAAY,GAELC,GAAS,WACpB,IAAMlX,EAAOlH,IACL0C,EAAiFwE,EAAjFxE,SAAUK,EAAuEmE,EAAvEnE,eAAgBW,EAAuDwD,EAAvDxD,oBAAqBG,EAAkCqD,EAAlCrD,eAAgBC,EAAkBoD,EAAlBpD,cACvE,OACE,qCACE,cAACgB,EAAD,CAAcC,MAAM,SAASE,UAAU,IACvC,sBAAKxO,UAAU,yCAAf,UACE,sBAAMA,UAAW0nB,GAAjB,uBACA,sBAAM1nB,UAAW0nB,GAAjB,SAA6Bpb,OAE/B,sBAAKtM,UAAU,yCAAf,UACE,sBAAMA,UAAW0nB,GAAjB,4BACA,sBAAM1nB,UAAW0nB,GAAjB,SAA6Bza,OAE/B,sBAAKjN,UAAU,yCAAf,UACE,sBAAMA,UAAW0nB,GAAjB,uBACA,sBAAM1nB,UAAW0nB,GAAjB,SAA6Bta,OAE/B,sBAAKpN,UAAU,yCAAf,UACE,sBAAMA,UAAW0nB,GAAjB,4BACA,sBAAM1nB,UAAW0nB,GAAjB,SAA6Bra,OAE/B,sBAAKrN,UAAU,4EAAf,UACE,sBAAMA,UAAW0nB,GAAjB,sBACA,sBAAM1nB,UAAW0nB,GAAjB,SAA6Bzb,W,6DCrBrC2b,KAAMC,oBAAoBC,UAA1B,kDAAiFF,KAAMG,QAAvF,sBAEO,ICLMC,GAAc,SAAClkB,GAC1B,IAAM2M,EAAOlH,IACP0B,EAAWrB,IACT/J,EAAiC4Q,EAAjC5Q,SAAU2R,EAAuBf,EAAvBe,YAAazR,EAAU0Q,EAAV1Q,MAEzB+C,EAAW,SAACC,GAAD,OAAOkI,EAAS,CAAElB,MAAOhH,EAAEG,OAAON,KAAMO,MAAOJ,EAAEG,OAAOC,SACzE,OACE,qCACE,cAACkL,EAAD,CAAcC,MAAM,eAAeE,UAAU,IAC7C,cAAC,GAAD,CACE5L,KAAK,WACLO,MAAOtD,EACPiD,SAAUA,EACV2L,KAAMsD,KACNpB,YAAY,YACZK,MAAM,cAER,cAAC,GAAD,CACEpO,KAAK,cACLO,MAAOqO,EACP1O,SAAUA,EACV2L,KAAMuD,KACNrB,YAAY,eACZC,UAAU,UACVjO,KAAK,MACLqO,MAAM,iBAER,cAAC,GAAD,CACEpO,KAAK,QACLO,MAAOpD,EACP+C,SAAUA,EACV2L,KAAMwD,KACNtB,YAAY,QACZhO,KAAK,QACLqO,MAAM,cCjCDiX,GAAY,WACvB,IAAM1W,EAAShI,IACT0B,EAAWrB,IACT6H,EAA2EF,EAA3EE,cAAeC,EAA4DH,EAA5DG,mBAAoBC,EAAwCJ,EAAxCI,gBAAiBC,EAAuBL,EAAvBK,mBAEtD9O,EAAW,SAACC,GAAD,OAAOkI,EAAS,CAAElB,MAAOhH,EAAEG,OAAON,KAAMO,MAAOJ,EAAEG,OAAOC,SASzE,OACE,qCACE,cAACkL,EAAD,CACEC,MAAM,YACNxM,QAAS,kBACPmJ,EAAS,CACPlB,MAAO,qBACP5G,OAAQyO,KAGZnD,KAAMmD,EAAqBM,KAASC,OAEtC,cAAC,GAAD,CACEvP,KAAK,gBACLO,MAAOsO,EACP3O,SAAUA,EACV2L,KAAM2D,KACNzB,YAAY,0BACZK,MAAM,4BAEPY,GACC,cAAC,GAAD,CACEhP,KAAK,kBACLO,MAAOwO,EACP7O,SAAUA,EACV2L,KAAM4D,KACN1B,YAAY,cACZK,MAAM,gBAGV,cAAC,GAAD,CACEpO,KAAK,qBACLO,MAAOuO,EACP5O,SAAUA,EACV2L,KAAM6D,KACN3B,YAAY,0BACZK,MAAM,gC,uDC/CDkX,GAAQ,WACnB,IAAM3W,EAAShI,IACT0B,EAAWrB,IAIEue,EAAa5W,EAAb4W,SAgBnB,OATA7a,qBAAU,WAMR,OALK6a,GACHld,EAAS,CACPlB,MAAO,WACP5G,MAAO,UAEJ,eACN,CAACglB,EAAUld,IAGZ,qCACE,cAACoD,EAAD,CAAcC,MAAM,QAAQE,UAAU,IACtC,cAAC,GAAD,CAAU1M,QArBG,SAACiB,GAAD,OAAOkI,EAAS,CAAElB,MAAOhH,EAAEG,OAAON,KAAMO,MAAOJ,EAAEG,OAAOC,SAqBxCA,MAAOglB,IACtB,UAAbA,GAAwB,cAAC,GAAD,QAKzBC,GAAW,SAACtkB,GAChB,IAAMyN,EAAShI,IACT0B,EAAWrB,IAEEue,EAAa5W,EAAb4W,SAEbhN,EAAY,CAChB,CAAEhY,MAAO,QAASP,KAAM,QAAS6L,KAAM4Z,MACvC,CAAEllB,MAAO,QAASP,KAAM,kBAAmB6L,KAAM6Z,KAAWpM,UAAU,IAGxE,OAAO,cAACR,GAAD,yBAAO9Y,KAAK,WAAWqI,SAAUA,EAAU9H,MAAOglB,EAAUvT,QAASuG,GAAerX,GAApF,IAA2F8X,IAAI,WAGlG2M,GAAY,WAChB,IAAMtd,EAAWrB,IAGT0W,EAFO/W,IAEP+W,MAEFvc,EAAe,SAAChB,EAAG0X,GACvB,IAAM+N,EAAWlI,EACjBkI,EAAS/N,GAAS1X,EAAEG,OAAOC,MAC3B8H,EAAS,CAAElB,MAAO,QAAS5G,MAAM,YAAKqlB,MAGlCC,EAAe,SAAChO,GACpB,GAAI6F,EAAMrZ,OAAS,EAAG,CACpB,IAAMuhB,EAAWlI,EACjBkI,EAASE,OAAOjO,EAAO,GACvBxP,EAAS,CAAElB,MAAO,QAAS5G,MAAM,YAAKqlB,OAI1C,OACE,mCACGlI,GACCA,EAAM5e,KAAI,SAACuD,EAAG+K,GACZ,OACE,cAAC,GAAD,CAEEyK,MAAOzK,EACP7M,MAAO8B,EACPlB,aAAcA,EACd0kB,aAAcA,EACdE,UAAWrI,EAAMrZ,OAAS,GALrB+I,SAab4Y,GAAM,SAAC,GAAiE,IAAD,IAA9DnO,aAA8D,MAAtD,EAAsD,EAAnDtX,EAAmD,EAAnDA,MAAOY,EAA4C,EAA5CA,aAAc0kB,EAA8B,EAA9BA,aAAcE,EAAgB,EAAhBA,UAC3D,OACE,sBAAK3oB,UAAU,oDAAf,UACE,cAAC,GAAD,CACE4C,KAAM,SAAW6X,EAAQ,GACzBtX,MAAOA,EACPL,SAAU,SAACC,GAAD,OAAOgB,EAAahB,EAAG0X,IACjChM,KAAMoa,KACNlY,YAAa,QAAU8J,EAAQ,GAC/B9X,KAAK,OACL3C,UAAU,qBAEZ,sBAAKA,UAAU,OAAf,UACE,sBAAMA,UAAU,qDAAhB,SACE,cAACkS,GAAA,EAAD,CAAQpQ,QAAS,kBAAMiC,EAAa,CAAEb,OAAQ,CAAEC,MAAO2D,EAAc3D,KAAYsX,QAEnF,sBAAMza,UAAU,sDAAhB,SACE,cAAC8oB,GAAA,EAAD,CAAOhnB,QAAS,kBAAMiC,EAAa,CAAEb,OAAQ,CAAEC,MAAOkC,EAAiB,IAAIuB,QAAa6T,QAE1F,sBAAMza,UAAU,uDAAhB,SACE,cAACmS,GAAA,EAAD,CAAKrQ,QAAS,kBAAMiC,EAAa,CAAEb,OAAQ,CAAEC,MAAOuD,EAAcvD,KAAYsX,WAGjFkO,GACC,sBAAM3oB,UAAU,qDAAhB,SACE,cAAC+oB,GAAA,EAAD,CAAWjnB,QAAS,kBAAM2mB,EAAahO,Y,uDC9GpCuO,GAAY,WACvB,IAAMzX,EAAShI,IACT0B,EAAWrB,IAEfsB,EAOEqG,EAPFrG,UACAC,EAMEoG,EANFpG,cACAC,EAKEmG,EALFnG,4BACAC,EAIEkG,EAJFlG,cACAG,EAGE+F,EAHF/F,gBACAF,EAEEiG,EAFFjG,cACAC,EACEgG,EADFhG,4BAV2B,EAaiB8D,oBAAS,GAb1B,mBAatB4Z,EAbsB,KAaLC,EAbK,OAcK7Z,oBAAS,GAdd,mBActB8Z,EAdsB,KAcXC,EAdW,KAkBvBtmB,EAAW,SAACC,GAAD,OAAOkI,EAAS,CAAElB,MAAOhH,EAAEG,OAAON,KAAMO,MAAOJ,EAAEG,OAAOC,SAEnEyR,EAAU,CACd,CAAEzR,MAAO,QAASP,KAAM,QAAS6L,KAAM4a,KAAajN,MAAO,QAC3D,CACEjZ,MAAO,4BACPP,KAAK,2BACL6L,KAAM6a,KACNlN,MAAOhR,GAET,CAAEjI,MAAO,cAAeP,KAAK,mBAAqB6L,KAAM8a,KAAMnN,MAAOjR,IAMvEmC,qBAAU,WACR,IAAMrD,EAAU,QACMP,IAAlB4B,IAA6BrB,EAAQqB,cAAgB,UACrB5B,IAAhC6B,IAA2CtB,EAAQsB,4BAA8B,WACnE7B,IAAdwB,IAAyBjB,EAAQiB,UAAY,cAC3BxB,IAAlByB,IAA6BlB,EAAQkB,cAAgB,QACrBzB,IAAhC0B,IAA2CnB,EAAQmB,4BAA8B,QAC/D1B,IAAlB2B,IAA6BpB,EAAQoB,cAAgB,QACjC3B,IAApB8B,IAA+BvB,EAAQuB,gBAAkB,GACzB,IAAhCqN,OAAOC,KAAK7O,GAAShD,QAAcgE,EAAS,CAAEtI,KAAM,eAAgBsH,cACvE,CACDiB,EACAC,EACAC,EACAC,EACAG,EACAF,EACAC,EACAN,IAKF,OAAMke,EAAkB,wBAAQrnB,QAFT,kBAAMsnB,GAAcD,IAEnB,uBAGtB,qCACE,cAAC9a,EAAD,CAAcC,MAAM,YAAYxM,QA7CP,kBAAMonB,GAAmB,SAAC/T,GAAD,OAAWA,MA6CE1G,KAAMwa,EAAkBtV,KAAQ6V,OAC/F,sBAAKxpB,UAAU,kCAAf,UACE,qBAAKA,UAAU,cAAf,SACE,cAAC,GAAD,CACE4C,KAAK,kBACLO,MAAOqI,EACP1I,SAAUA,EACV2L,KAAMwM,KACNtK,YAAY,mBACZK,MAAM,mBACNrO,KAAK,SACLwB,MAAM,OACN4M,MAAM,QACNrO,IAAI,QAGR,sBAAK1C,UAAU,WAAf,UACE,cAAC,GAAD,CACE4C,KAAK,gBACLO,MAAOkI,EACPvI,SAAUA,EACV2L,KAAMgb,KACN9Y,YAAY,iBACZK,MAAM,iBACNrO,KAAK,SACLoO,MAAM,QACNrO,IAAI,QAOH8I,GAA6C,EAA1BjH,OAAOiH,GAAuBjH,OAAO8G,IACzD,uBAAMrL,UAAU,4CAAhB,iCACgE,IAAzCqG,KAAKI,KAAwB,EAAlB+E,EAAuB,cAQ9Dyd,GACC,sBAAKjpB,UAAU,4DAAf,UACE,cAAC,GAAD,CACE4C,KAAK,8BACLsB,KAAMqH,EACNoF,YAAY,4BACZ7N,SAAUA,EACVJ,IAAI,OACJqW,IAAI,SAEN,cAAC,GAAD,CACEnW,KAAK,gBACLsB,KAAMoH,EACNxI,SAAUA,EACVJ,IAAI,OACJqW,IAAI,OACJpI,YAAY,wBAOlB,cAAC+K,GAAD,CACEC,WAAW,EACX/G,QAASA,EACT5K,UAAU,wBACViB,SAAUA,EACV9H,MAAO+H,EACPtI,KAAK,cAEP,cAAC,GAAD,CACEoO,MAAM,UACNmY,UAAWA,EACXC,aAAcA,EACdne,SAAUA,EACVrI,KAAK,0BAWP8mB,GAAiB,SAAC,GAAqD,IAAnD9mB,EAAkD,EAAlDA,KAAMsB,EAA4C,EAA5CA,KAAMpB,EAAsC,EAAtCA,SAAUJ,EAA4B,EAA5BA,IAAKqW,EAAuB,EAAvBA,IAAKpI,EAAkB,EAAlBA,YACxD,OACE,sBAAK3Q,UAAU,mDAAf,UACE,+BAAO2Q,IADT,IAC6B,uBAAM3Q,UAAU,eAAhB,cAAiCkE,EAAjC,gBAC3B,qBAAKlE,UAAU,iBAAf,SACE,uBACEA,UAAU,kBACV4C,KAAMA,EACND,KAAK,QACLD,IAAKA,EACLqW,IAAKA,EACLlI,KAAM,IACN1N,MAAOe,EACPxE,GAAG,UACHoD,SAAUA,UCzKP6mB,GAAU,WACrB,IAAM1e,EAAWrB,IAGTuW,EAFO5W,IAEP4W,qBAJmB,EAMO9Q,oBAAS,GANhB,mBAMpB8Z,EANoB,KAMTC,EANS,KAQ3B,OACE,qCACE,cAAC/a,EAAD,CAAcC,MAAM,UAAUE,UAAU,IACxC,oBAAGxO,UAAU,oBAAb,wCAC6B,sBAAMA,UAAU,0BAAhB,2BAD7B,2GAIA,cAAC,GAAD,CACE2C,KAAK,YACLwmB,UAAWA,EACXC,aAAcA,EACdne,SAAUA,EACVrI,KAAK,uBACLO,MAAOgd,QCtBFyJ,GAAY,WACvB,IAAM3e,EAAWrB,IACjB,OACE,qBAAK5J,UAAU,6BAAf,SACE,yBAAQA,UAAU,4CAA4C8B,QAAS,kBAAMmJ,EAAS,CAAEtI,KAAM,eAA9F,UACE,+BACE,cAAC+B,EAAA,EAAD,MAEF,0DCWFmlB,GAAW,iCAEJC,GAAY,WAGvB,OACE,eAAC,EAAD,WACE,sBAAK9pB,UAAU,2JAAf,UACE,qBAAKA,UAAW6pB,GAAhB,SACE,sBAAK7pB,UAAU,4BAAf,UACE,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,SAGJ,qBAAKA,UAAW6pB,GAAhB,SACE,sBAAK7pB,UAAU,6BAAf,UACE,cAAC,GAAD,IACA,cAAC,GAAD,CAAWsQ,iBAAiB,IAC5B,cAAC,GAAD,CAAUA,iBAAiB,SAI/B,qBAAKtQ,UAAW6pB,GAAhB,SACE,sBAAK7pB,UAAU,4BAAf,UACE,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,YAON,qBAAKA,UAAU,0CCxDR+pB,GAAY,WAAO,IAAD,EACH1a,mBAAS,IADN,mBACtB2a,EADsB,KACfC,EADe,OAED5a,mBAAS,IAFR,mBAEtB6a,EAFsB,KAEdC,EAFc,KAGvBhqB,EAAYC,yBAClB,SAASgqB,IACP,IAAMngB,EAAU,CAAE2I,KAAMoX,GAExB,GADAC,EAAS,IACHC,EAAQ,CACZ,IAAMG,EAASH,EAEf,OADAC,EAAU,IACHhqB,EAAUZ,WAAW,SAASmB,IAAI2pB,GAAQva,OAAO7F,GAE1D,OAAO9J,EAAUZ,WAAW,SAAS0Q,IAAIhG,GAc3C,OACE,gCACE,2CACA,uBACEjK,UAAU,0BACVmD,MAAO6mB,EACPlnB,SAjBe,SAACC,GACpBknB,EAASlnB,EAAEG,OAAOC,QAiBdwN,YAAY,WACZvN,WAAY,SAACL,GACG,UAAVA,EAAEM,KAAiB+mB,KAEzB7mB,QAAS,SAACR,GAAD,OAAOA,EAAEG,OAAOM,YAE3B,yBAAQxD,UAAU,2CAA2C8B,QAASsoB,EAAtE,UACKF,EAAS,OAAS,MADvB,eAGA,cAAC,GAAD,CAAeI,WAvBA,SAAC5qB,EAAIkT,GACtB,OAAO,SAAU7P,GACfknB,EAASrX,GACTuX,EAAUzqB,WAyBV6qB,GAAgB,SAAC,GAAoB,IAAlBD,EAAiB,EAAjBA,WACjBnqB,EAAYC,yBAElBc,8BAAoB,CAClB,UAGF,IAAMspB,EAAQppB,aAAY,SAAC0I,GAAD,OAAWA,EAAM3J,UAAUkB,QAAQmpB,SAE7D,IAAKlpB,mBAASkpB,GACZ,OAAO,6CAGT,GAAIjpB,kBAAQipB,GACV,OAAO,sDAGT,IAAM/B,EAAe,SAAC/oB,GACpB,8CAAO,WAAgBqD,GAAhB,eAAAvC,EAAA,6DACLM,QAAQC,IAAIrB,GADP,SAEaS,EAAUZ,WAAW,SAASmB,IAAIhB,GAAI+qB,SAFnD,cAECjM,EAFD,OAGL1d,QAAQC,IAAIyd,GAHP,kBAIEA,GAJF,2CAAP,uDAQF,OACE,8BACE,6BACGgM,EAAM9oB,KAAI,SAAC2B,EAAK3D,GAAN,OACT,qBAAcA,GAAIA,EAAIgrB,KAAMF,EAAMnnB,GAAlC,UACGsH,KAAKC,UAAUvH,GAChB,wBAAQrD,UAAU,gDAAgD8B,QAAS2mB,EAAaplB,EAAI3D,IAA5F,eAGA,wBAAQM,UAAU,kDAAkD8B,QAASwoB,EAAWjnB,EAAI3D,GAAI2D,EAAIuP,MAApG,oBALOvP,WChFNua,GAAW,WACtB,OAAO,4C,gCCUH+M,GAAgB,SAAC,GAA6C,IAA3CC,EAA0C,EAA1CA,YAAa/qB,EAA6B,EAA7BA,SAAUC,EAAmB,EAAnBA,MAAOC,EAAY,EAAZA,MAErD,OACE,qBAAIC,UAAU,oDAAd,UACE,6BACE,eAAC,IAAD,CAAMC,GAAE,aAAQ2qB,GAAhB,cAAiCA,OAEnC,6BACE,cAAC,IAAD,CAAM3qB,GAAE,aAAQ2qB,GAAhB,SAAgC/qB,MAElC,6BACE,cAAC,IAAD,CAAMI,GAAE,aAAQ2qB,GAAhB,SAAgC7qB,MAElC,6BACE,cAAC,IAAD,CAAME,GAAE,aAAQ2qB,GAAhB,SAAgC9qB,MAElC,6BACE,cAAC,IAAD,CAAMG,GAAE,cAAS2qB,GAAjB,+BAMKC,GAAa,WAAO,IAAD,EACJxb,mBAAS,IADL,mBACvBvF,EADuB,KAChBghB,EADgB,OAEFzb,mBAAS,IAFP,mBAEvB7N,EAFuB,KAEfupB,EAFe,KAiB9B,OAdAzd,qBAAU,WAER,IADA,IAAMxH,EAAM,GACHkK,EAAI,EAAGA,EAAI,GAAIA,IACtBlK,EAAIkK,GAAK,CACPtQ,GAAIe,YAAO,GACXZ,SAAUmrB,KAAMpoB,KAAKqoB,WACrBlrB,MAAOirB,KAAME,SAASnrB,QACtBD,MAAOkrB,KAAMlrB,MAAM0R,eAGvBsZ,EAAShlB,KACR,IAID,sBAAK9F,UAAU,yEAAf,UACE,cAAC,GAAD,CAAQmD,MAAO3B,EAAQggB,SAAUuJ,IACjC,qBAAK/qB,UAAU,uBAAf,SAEE,wBAAOA,UAAU,SAAjB,UACE,uBAAOA,UAAU,oDAAjB,SACE,+BACE,oCACA,sCACA,uCACA,uCACA,4BAGJ,iCACsB,IAAlBwB,EAAOyF,OACL6C,EACAA,EAAMtI,QAAO,SAACgG,GAAD,OAAOqR,OAAOsS,OAAO3jB,GAAG7D,WAAWynB,cAAclU,SAAS1V,EAAO4pB,mBAChF1pB,KAAI,SAAClB,GAAD,OACJ,cAAC,GAAD,CAA0BoqB,YAAapqB,EAAEd,GAAIG,SAAUW,EAAEX,SAAUE,MAAOS,EAAET,MAAOD,MAAOU,EAAEV,OAAxEU,EAAEd,cAK9B,qDAKA2rB,GAAS,SAAC,GAA8B,IAAD,IAA3BloB,aAA2B,MAAnB,GAAmB,EAAfqe,EAAe,EAAfA,SAE5B,OACE,sBAAKxhB,UAAU,6CAAf,UACE,+BACE,cAACsrB,GAAA,EAAD,MAEF,uBAAO3oB,KAAK,SAASG,SANR,SAACC,GAAD,OAAOye,EAASze,EAAEG,OAAOC,QAMGA,MAAOA,EAAOnD,UAAU,cAAc2Q,YAAY,kB,WCvF3F4a,GAAS,CACb,CAAE3oB,KAAM,YAAalD,GAAI,SACzB,CAAEkD,KAAM,eAAgBlD,GAAI,QAC5B,CAAEkD,KAAM,QAASlD,GAAI,SACrB,CAAEkD,KAAM,iBAAkBlD,GAAI,SAC9B,CAAEkD,KAAM,sBAAuBlD,GAAI,aACnC,CAAEkD,KAAM,mBAAoBlD,GAAI,UAChC,CAAEkD,KAAM,YAAalD,GAAI,UACzB,CAAEkD,KAAM,WAAYlD,GAAI,UACxB,CAAEkD,KAAM,OAAQlD,GAAI,WAGT8rB,GAAa,SAAC1nB,GACzB,OACE,sBAAK9D,UAAU,2BAAf,UACE,wCACCurB,GAAO7pB,KAAI,SAACqI,GACX,OAAO,cAAC,GAAD,CAAyBrK,GAAIqK,EAAMrK,GAAIkD,KAAMmH,EAAMnH,KAAMO,MAAO4G,EAAM5G,OAAvD4G,EAAMrK,WAM9B+rB,GAAW,SAAC3nB,GAAW,IACnBlB,EAAgBkB,EAAhBlB,KAAMO,EAAUW,EAAVX,MAEd,OACE,cAAC,GAAD,2BAASW,GAAT,aACE,sBAAK9D,UAAU,qEAAf,UACE,sBAAKA,UAAU,uDAAf,gBAA0E4C,OACvEO,GAAS,qBAAKnD,UAAU,gCAAf,sCAMd0kB,GAAQ,CACZgH,OAAQ,kBACRC,gBAAiB,QACjBC,QAAS,cACTC,YAAa,SACbC,aAAc,SACdC,MAAO,QAEIC,GAAM,SAACloB,GAAW,IACrBlB,EAASkB,EAATlB,KADoB,EAEAqpB,cAC1B,iBAAO,CACLtpB,KAAM,QACNie,KAAM9c,EACNooB,IAHK,SAGDtL,EAAMuL,GACR,IAAMC,EAAaD,EAAQE,gBAC3B,GAAIzL,GAAQwL,EAAY,CACtB,IAAIE,EAAe,GAGnB,GADmC,QAAjCF,EAAWG,mBAA+BH,EAAWG,oBAAsBH,EAAWI,WACrE,CACjB,IAAMC,EAAyC,SAA1BL,EAAWI,WAEhCF,EAAY,cADOG,EAAe,SAAW,QACjC,YAAwB7L,EAAKhe,KAA7B,iBAA0CwpB,EAAWxpB,KAArD,UAEZ0pB,EAAY,qBAAiBF,EAAWI,WAA5B,6BAA2DJ,EAAWxpB,MAEpF9B,QAAQC,IAAIurB,KAGhBI,QAAS,SAACP,GAAD,MAAc,CACrBQ,QAASR,EAAQS,aAAe,GAAM,OAG1C,CAAChqB,IA1ByB,mBAEnB+pB,EAFmB,KAEnBA,QAAWE,EAFQ,KA4B5B,OACE,+CAAS/oB,GAAT,IAAgBsN,IAAKyb,EAAMnI,MAAK,2BAAOA,IAAP,IAAciI,YAA9C,SACG7oB,EAAMuG,a,WC1EAyiB,GAAc,SAAC,GAAmC,IAAjCC,EAAgC,EAAhCA,KAAMC,EAA0B,EAA1BA,QAASC,EAAiB,EAAjBA,WAAiB,ECApC,SAACF,GAAU,IAAD,EACF1d,mBAAS,GADP,mBAC3B6d,EAD2B,KACjBC,EADiB,OAER9d,mBAAS,MAFD,mBAE3BgW,EAF2B,KAEpBW,EAFoB,OAGZ3W,mBAAS,MAHG,mBAG3ByD,EAH2B,KAGtBsa,EAHsB,KA4BlC,OAvBA9f,qBAAU,WAER,IAAM+f,EAAaC,GAAelc,IAAI2b,EAAKnqB,MACrC2qB,EAAgBC,GAAiBjuB,WAAW,UAElD8tB,EAAWI,IAAIV,GAAMW,GACnB,iBACA,SAACC,GACC,IAAIC,EAAcD,EAAKE,iBAAmBF,EAAKG,WAAc,IAC7DX,EAAYS,MAEd,SAAC7iB,GACCib,EAASjb,KAPb,sBASE,8BAAAvK,EAAA,sEACoB6sB,EAAWU,iBAD/B,cACQjb,EADR,OAEQlS,EAAYC,KAFpB,SAGQ0sB,EAActd,IAAI,CAAE6C,MAAKlS,cAHjC,OAIEwsB,EAAOta,GAJT,8CAOD,CAACia,IAEG,CAAEG,WAAUpa,MAAKuS,SD3BE2I,CAAWjB,GAA7BG,EADoD,EACpDA,SAAUpa,EAD0C,EAC1CA,IASlB,OAPAxF,qBAAU,WACJwF,IACFka,EAAQ,MACRC,EAAWna,MAEZ,CAACA,EAAKka,EAASC,IAEX,8BAAMC,EAAW,QEVbe,GAAa,SAAC,GAAgC,EAA9BC,UAA+B,IAApBC,EAAmB,EAAnBA,aAAmB,EACjC9e,mBAAS,MADwB,mBAClD0d,EADkD,KAC5CC,EAD4C,OAEzC3d,mBAAS,MAAlBgW,EAFkD,sBAG3ChW,mBAAS,MAAhByD,EAHkD,oBAwBzD,OACE,iCACE,kCACE,uBAAOnQ,KAAK,OAAOG,SAdJ,SAACC,GACpB,IAAI+S,EAAW/S,EAAEG,OAAOkrB,MAAM,GAExBtY,GAAUkX,EAAQlX,MAYpB,wCAEF,sBAAK9V,UAAU,SAAf,UACGqlB,GAAS,qBAAKrlB,UAAU,QAAf,SAAwBqlB,IACjC0H,GAAQ,8BAAMA,EAAKnqB,OACnBmqB,GAAQ,cAAC,GAAD,CAAaA,KAAMA,EAAMC,QAASA,EAASC,WA5BvC,SAACna,GAClBqb,GAAa,SAACE,GACZ,MAAM,GAAN,mBAAWA,GAAX,CAA2Bvb,aA4B1BA,GAAO,+BAAOA,QCjCfwb,GAAQ,CACZ,CACE5uB,GAAI,uBACJkD,KAAM,eACNkQ,IACE,wJAEJ,CACEpT,GAAI,uBACJkD,KAAM,gBACNkQ,IACE,4JAEJ,CACEpT,GAAI,cACJkD,KAAM,yBACNkQ,IACE,yKAEJ,CACEpT,GAAI,UACJkD,KAAM,aACNkQ,IACE,yJAEJ,CACEpT,GAAI,WACJkD,KAAM,mBACNkQ,IACE,gKAIOyb,GAAa,SAAC,GAAoB,EAAlBC,IAAmB,IAAdC,EAAa,EAAbA,OAAa,EACXpf,mBAAS,IADE,mBACtC6e,EADsC,KAC3BC,EAD2B,KAGvCrsB,EAAU,SAAC8e,GACf,OAAO,SAAC7d,GACN0rB,GAAO,SAACD,GACN,OAAO,OAAHA,QAAG,IAAHA,OAAA,EAAAA,EAAK9uB,OAAL,OAAYkhB,QAAZ,IAAYA,OAAZ,EAAYA,EAAMlhB,IAAW,eAAKkhB,GAC/B4N,OAIb,OACE,sBAAKxuB,UAAU,WAAf,UAEE,sBAAKA,UAAU,QAAf,UACE,cAACqO,EAAD,CAAcC,MAAM,cAAcE,UAAU,IAC5C,oBAAIxO,UAAU,MAAd,SACGsuB,GAAM5sB,KAAI,SAACkf,EAAM5Q,GAAP,OACT,cAAC,GAAD,CAAkBpN,KAAMge,EAAKhe,KAAMd,QAASA,EAAQ8e,IAArC5Q,WAIrB,gCACE,cAAC3B,EAAD,CAAcC,MAAM,mBAAmBE,UAAU,MAC9C0f,GAAaA,EAAUxsB,KAAI,SAAC8sB,EAAKxe,GAAN,OAAY,sCAAOwe,QAAP,IAAOA,OAAP,EAAOA,EAAK5rB,UACtD,cAAC,GAAD,CAAYsrB,UAAWA,EAAWC,aAAcA,WAMlD1C,GAAW,SAAC,GAA2B,IAAzB7oB,EAAwB,EAAxBA,KAAUd,GAAc,EAAlBpC,GAAkB,EAAdoC,SAC5B,OACE,qBAAI9B,UAAU,qCAAqC8B,QAASA,EAA5D,UACE,cAAC4sB,GAAA,EAAD,IADF,IACmB,+BAAO9rB,QCrE9BglB,KAAMC,oBAAoBC,UAA1B,kDAAiFF,KAAMG,QAAvF,sBAEO,IAAM4G,GAAa/qB,gBAAK,WAAmB,IAAD,yDAAP,GAAR4qB,EAAe,EAAfA,IAChC1tB,QAAQC,IAAI,mBADmC,MAITsO,mBAAS,CAAEnH,EAAG,EAAGD,EAAG,IAJX,mBAIxC2mB,EAJwC,KAI3BC,EAJ2B,OAOfxf,mBAAS,MAPM,mBAOxCyf,EAPwC,KAO9BC,EAP8B,OAQX1f,mBAAS,GARE,mBAQxC2f,EARwC,KAQ5BC,EAR4B,KAUzCC,EAAiB,SAACnsB,GACtBjC,QAAQC,IAAI,kBACZ,IAAIouB,EAAOpsB,EAAEG,OAAOksB,wBAChBlnB,EAAInF,EAAEssB,QAAUF,EAAKvmB,KACrBX,EAAIlF,EAAEusB,QAAUH,EAAK9mB,IACzBwmB,EAAe,CAAE3mB,EAAGA,EAAEqnB,QAAQ,GAAItnB,IAAKA,EAAI,KAAKsnB,QAAQ,MAa1D,SAASC,EAAT,GAA8C,IAAbV,EAAY,EAAZA,SAC/BC,EAAYD,GAKd,OACE,sBAAK9uB,UAAU,0BAAf,UACE,cAAC,KAAD,CACE+sB,MAAO,OAACyB,QAAD,IAACA,OAAD,EAACA,EAAKrmB,MAAO,CAAEA,KAAMqmB,EAAIrmB,MAA1B,OAAmCqmB,QAAnC,IAAmCA,OAAnC,EAAmCA,EAAK1b,IAC9C2c,cAAeD,EACfE,WAAW,SACX5tB,QAASotB,EAJX,SAME,cAAC,KAAD,CAAMF,WAAYA,EAAYhvB,UAAU,WAE1C,sCACQgvB,EADR,OACwBF,KAExB,wBAAQ9uB,UAAU,MAAM2vB,QAAS,kBAAMV,GAAc,SAACW,GAAD,OAAUA,QAA/D,uBAGA,wBAAQD,QAAS,kBAAMV,GAAc,SAACW,GAAD,OAAUA,QAA/C,sBACA,sDAAuBhB,EAAY1mB,EAAnC,gBAA4C0mB,EAAY3mB,EAAxD,a,+DClDA4nB,GAAW,CACf,CACEltB,KAAM,OACNitB,KAAM,EACNhd,KAAM,UACN1K,EAAG,IACHD,EAAG,IACH8X,KAAM,KAIH,SAAe+P,GAAtB,mC,8CAAO,WAAuBtB,GAAvB,6CAAAhuB,EAAA,yDAA4B2H,EAA5B,+BAAmC0nB,GACxC/uB,QAAQC,IAAI,CAAEytB,MAAKrmB,UACX2K,EAAQ0b,EAAR1b,MACK3K,EAHR,8CAGqBuB,GAHrB,uBAIsB4U,MAAMxL,GAAKyL,MAAK,SAACC,GAAD,OAASA,EAAIC,iBAJnD,cAICC,EAJD,OAKL5d,QAAQC,IAAI,CAAE2d,iBALT,UAMgBC,eAAYC,KAAKF,GANjC,eAMCG,EAND,OAQCC,EAAQD,EAAOE,WACfC,EAAOH,EAAOI,UAEd8Q,EAAe,SAAC,GAA2C,IAAzC5Q,EAAwC,EAAxCA,SAAUvM,EAA8B,EAA9BA,KAA8B,IAAxBwM,UACtC,GAAKD,GAAavM,UAD4C,UAG9D,OADInL,MAAMC,QAAQkL,KAAOA,EAAOA,EAAKyM,KAAK,OACnCL,EAAKM,aAAaH,GAAU6Q,QAAQpd,EAAKjP,aAG5C4b,EAjBD,+BAAA/e,EAAA,MAiBgB,+CAAAA,EAAA,yDAASgf,EAAT,EAASA,UAAWtX,EAApB,EAAoBA,EAAGD,EAAvB,EAAuBA,EAAvB,IAA0BD,aAA1B,MAAkC,GAAlC,MAAsCW,cAAtC,MAA+C,GAA/C,MAAmDinB,UAAnD,MAA0D,EAA1D,EACdpQ,GAActX,GAAMD,EADN,iEAECqW,MAAMkB,GAAWjB,MAAK,SAACC,GAAD,OAASA,EAAIC,iBAFpC,cAEbgB,EAFa,gBAGCZ,EAAOa,SAASD,GAHjB,cAGbE,EAHa,yBAIZb,EAAM,GAAGe,UAAUF,EAAO,CAAEzX,IAAGD,IAAGU,SAAQX,WAJ9B,4CAjBhB,sDAwBCioB,EAAe,SAAC,GAAyC,IAAvCrd,EAAsC,EAAtCA,KAAM1K,EAAgC,EAAhCA,EAAGD,EAA6B,EAA7BA,EAA6B,IAA1B8X,YAA0B,MAAnB,GAAmB,MAAf6P,YAAe,MAAR,EAAQ,EAC5D,GAAKhd,GAAS1K,GAAMD,EAEpB,OADAnH,QAAQC,IAAI,iBACL+d,EAAM8Q,GAAM5P,SAASpN,EAAM,CAAE1K,IAAGD,IAAG8X,UAG5C5X,EAAKzG,IAAL,uCAAS,WAAOkf,GAAP,SAAApgB,EAAA,yDACY,UAAX,OAAJogB,QAAI,IAAJA,OAAA,EAAAA,EAAMje,MADH,yCAC2BstB,EAAa,CAAErd,KAAI,OAAEgO,QAAF,IAAEA,OAAF,EAAEA,EAAMhO,KAAM1K,EAAC,OAAE0Y,QAAF,IAAEA,OAAF,EAAEA,EAAM1Y,EAAGD,EAAC,OAAE2Y,QAAF,IAAEA,OAAF,EAAEA,EAAM3Y,EAAG2nB,KAAI,OAAEhP,QAAF,IAAEA,OAAF,EAAEA,EAAMgP,QADhG,UAEY,eAAX,OAAJhP,QAAI,IAAJA,OAAA,EAAAA,EAAMje,MAFH,gCAGQ4c,EAAa,CAAEC,UAAS,OAAEoB,QAAF,IAAEA,OAAF,EAAEA,EAAMpB,UAAWtX,EAAC,OAAE0Y,QAAF,IAAEA,OAAF,EAAEA,EAAM1Y,EAAGD,EAAC,OAAE2Y,QAAF,IAAEA,OAAF,EAAEA,EAAM3Y,EAAG2nB,KAAI,OAAEhP,QAAF,IAAEA,OAAF,EAAEA,EAAMgP,OAHvF,kDAIY,eAAX,OAAJhP,QAAI,IAAJA,OAAA,EAAAA,EAAMje,MAJH,yCAKEotB,EAAa,CAAE5Q,SAAQ,OAAEyB,QAAF,IAAEA,OAAF,EAAEA,EAAMzB,SAAUvM,KAAI,OAAEgO,QAAF,IAAEA,OAAF,EAAEA,EAAMhO,KAAMwM,UAAS,OAAEwB,QAAF,IAAEA,OAAF,EAAEA,EAAMxB,aAL9E,2CAAT,uDAQAJ,EAAKiC,UAtCA,UAuCkBpC,EAAOqC,OAvCzB,eAuCCC,EAvCD,yBAyCEA,GAzCF,6C,sBCFP,IAAM+O,GAAS,CACbloB,MAAO,QACPW,OAAQ,SA0BGwnB,GAAY,WAAO,IAAD,EACP9gB,mBAAS,MADF,mBACtBmf,EADsB,KACjBC,EADiB,OAGHpf,mBAAS,CACjC7O,EAAG,CAAE6H,IAAK,GAAIO,KAAM,GAAI0F,MAAO,kBAC/BkB,EAAG,CAAEnH,IAAK,IAAKO,KAAM,GAAI0F,MAAO,iBALL,mBAGtB8hB,EAHsB,KAGfC,EAHe,KAiBvBC,EAAM,uCAAG,WAAOvtB,GAAP,eAAAvC,EAAA,0DACPguB,EADO,gCAEUsB,GAAQ,CAAEhd,IAAG,OAAE0b,QAAF,IAAEA,OAAF,EAAEA,EAAK1b,MAF9B,OAELyd,EAFK,OAGX9B,GAAO,SAAC1B,GAAD,mBAAC,eAAeA,GAAhB,IAAsB5kB,KAAMooB,OAHxB,2CAAH,sDAOZ,OACE,sBAAKvwB,UAAU,oCAAf,UACE,cAAC,GAAD,IACA,gCACE,cAAC,GAAD,CAAYwuB,IAAKA,EAAKC,OAAQA,IAC9B,wBAAQ3sB,QAASwuB,EAAQtwB,UAAU,0CAAnC,oBAGA,wBACE8B,QAAS,WACPhB,QAAQC,IAAIytB,IAEdxuB,UAAU,0CAJZ,oBASF,eAACwwB,GAAA,EAAD,CAAaC,QAASC,KAAc9b,QAAS+b,KAA7C,UACE,cAAC,GAAD,IAMA,cAACC,GAAD,CAAUpC,IAAKA,EAAK4B,MAAOA,EAAOC,SAAUA,WAwDpD,SAASO,GAAT,GAA6C,IAAzBpC,EAAwB,EAAxBA,IAAK4B,EAAmB,EAAnBA,MAAOC,EAAY,EAAZA,SACxBQ,EAAUvsB,uBACd,SAAC5E,EAAIkJ,EAAMP,GACTgoB,EACEvgB,KAAOsgB,EAAD,eACH1wB,EAAK,CACJoxB,OAAQ,CAAEloB,OAAMP,aAKxB,CAAC+nB,EAAOC,IAGJ5H,EAAe,SAAC/oB,GACpB,OAAO,SAACqD,GACNstB,GAAS,SAACD,GAER,OADAtvB,QAAQC,IAAIqvB,EAAM1wB,IACX0wB,OAKPhf,EAiDR,SAAsByf,EAASR,GAC7B,IAAMjf,EAAMF,mBAD2B,EAGhB6f,aAAQ,CAC7BC,OAAQ,CAAC,MAAO,SAChBC,KAF6B,SAExBrQ,EAAMuL,GAET,GADArrB,QAAQC,MACsB,UAA1BorB,EAAQ+E,cAA2B,CACrC,IAAMC,EAAShF,EAAQiF,wBACvB,GAAID,GAAU/f,EAAI+F,QAAS,CACzB,IAAMka,EAAejgB,EAAI+F,QAAQiY,wBAC3BlnB,EAAIipB,EAAOjpB,EAAImpB,EAAazoB,KAC5BX,EAAIkpB,EAAOlpB,EAAIopB,EAAahpB,IAGlC,YADAgoB,GAAS,SAAC7gB,GAAD,mBAAC,eAAYA,GAAb,kBAAiB/O,YAAO,GAAK,CAAE6N,MAAOsS,EAAKhe,KAAM0uB,QAAS1Q,EAAKlhB,GAAIkJ,KAAMV,EAAGG,IAAKJ,SAI9F,GAA8B,QAA1BkkB,EAAQ+E,mBAAZ,CACE,IAAMK,EAAQpF,EAAQqF,iCAChB5oB,EAAOvC,KAAKC,MAAMsa,EAAKhY,KAAO2oB,EAAMrpB,GACpCG,EAAMhC,KAAKC,MAAMsa,EAAKvY,IAAMkpB,EAAMtpB,GACxC4oB,EAAQjQ,EAAKlhB,GAAIkJ,EAAMP,OAnBpBopB,EAH8B,oBA4BvC,OAAO,SAACC,GACNtgB,EAAI+F,QAAUua,EACdD,EAAWrgB,IA/EDugB,CAAad,EAASR,GAClC,OACE,sBAAKjf,IAAKA,EAAKpR,UAAU,kCAAkC0kB,MAAOwL,GAAlE,UACE,cAAC,GAAD,CAAY1B,IAAKA,IAChB3V,OAAOC,KAAKsX,GAAO1uB,KAAI,SAAC2B,GAAS,IAAD,EACF+sB,EAAM/sB,GAA3BuF,EADuB,EACvBA,KAAMP,EADiB,EACjBA,IAAKiG,EADY,EACZA,MACnB,OACE,cAAC,GAAD,CAAe5O,GAAI2D,EAAKuF,KAAMA,EAAMP,IAAKA,EAAKupB,kBAAkB,EAAMnJ,aAAcA,EAApF,SACGna,GADOjL,SASpB,IAAM2oB,GAAM,SAAC,GAAwE,IAAtEtsB,EAAqE,EAArEA,GAAIkJ,EAAiE,EAAjEA,KAAMP,EAA2D,EAA3DA,IAA2D,IAAtDupB,wBAAsD,SAA7BvnB,EAA6B,EAA7BA,SAAUoe,EAAmB,EAAnBA,aAAmB,EACnDwD,cAC7B,iBAAO,CACLtpB,KAAM,MACNie,KAAM,CAAElhB,KAAIkJ,OAAMP,OAClBqkB,QAAS,SAACP,GAAD,MAAc,CACrBS,WAAYT,EAAQS,kBAGxB,CAACltB,EAAIkJ,EAAMP,IATqE,mBACzEukB,EADyE,KACzEA,WAAcC,EAD2D,KAYlF,OAAID,GAAcgF,EACT,qBAAKxgB,IAAKyb,EAAV,eAIP,yBACEzb,IAAKyb,EACL7sB,UAAU,0EACV0kB,MAAO,CAAE9b,OAAMP,OAHjB,UAME,iCACGgC,EADH,KACezB,EAAK2mB,QAAQ,GAD5B,MACmC,IAAMhrB,OAAO8D,IAAMknB,QAAQ,GAD9D,OAGA,sBAAMvvB,UAAU,0BAA0B8B,QAAS2mB,EAAa/oB,GAAhE,SACE,cAACiU,GAAA,EAAD,CAAO3T,UAAU,cAsDzB,IAAM6xB,GAAW,WAGf,OACE,gCACE,2CACA,+BACE,cAAC,GAAD,CAAU5xB,GAAG,OAAO2S,KAAK,aAEzB,cAAC,GAAD,CAAU3S,GAAG,UAAU2S,KAAK,kBAE5B,cAAC,GAAD,CAAU3S,GAAG,OAAO2S,KAAK,sBAEzB,cAAC,GAAD,CAAU3S,GAAG,WAAW2S,KAAK,aAE7B,cAAC,GAAD,CAAU3S,GAAG,SAAS2S,KAAK,uBAM7Bkf,GAAW,SAAC,GAA2B,IAAzB7xB,EAAwB,EAAxBA,GAAI2S,EAAoB,EAApBA,KAChBE,GADoC,EAAdhR,QACdiR,cAARD,KACN,OACE,oBAAI9S,UAAU,gBAAd,SACE,cAAC,IAAD,CACEA,UAAU,+FACVC,GAAE,UAAK6S,EAAL,YAAY7S,GACd+S,gBAAgB,eAHlB,SAMGJ,OCxSImf,GAAW,WACtB,OAAO,4CCDIC,GAAM,WACjB,OAAO,uCCHIC,GAAW,WACXC,GAAc,cACdC,GAAa,aCAtBC,GAAa,EC6BFC,eAAQ,KAAM,CAAEC,QD3BR,SAACC,GAAD,MAAc,CACnC5vB,KAAMsvB,GACNhoB,QAAS,CACPvK,KAAM0yB,GACNG,cCuBWF,EA3BC,SAACvuB,GAAW,IAAD,EACCuL,mBAAS,IADV,mBAClB2a,EADkB,KACXC,EADW,KAKnBuI,EAAgB,WACpB1uB,EAAMwuB,QAAQtI,GACdC,EAAS,KAGX,OACE,gCACE,uBACEnnB,SAVW,SAACC,GAAD,OAAOknB,EAASlnB,EAAEG,OAAOC,QAWpCA,MAAO6mB,EACP5mB,WAAY,SAACL,GACG,UAAVA,EAAEM,KAAiBmvB,KAEzBjvB,QAAS,SAACR,GAAD,OAAOA,EAAEG,OAAOM,YAE3B,wBAAQxD,UAAU,kDAAkD8B,QAAS0wB,EAA7E,4B,qBCTSH,eAAQ,KAAM,CAAEI,WFHL,SAAC/yB,GAAD,MAAS,CACjCiD,KAAMuvB,GACNjoB,QAAS,CAAEvK,SECE2yB,EAVF,SAAC,GAAD,IAAGK,EAAH,EAAGA,KAAMD,EAAT,EAASA,WAAT,OACX,qBAAIzyB,UAAU,YAAY8B,QAAS,kBAAM2wB,EAAWC,EAAKhzB,KAAzD,UACGgzB,GAAQA,EAAKvJ,UAAY,eAAO,eAAM,IACvC,sBAAMnpB,UAAW2yB,KAAG,kBAAmBD,GAAQA,EAAKvJ,WAAa,8BAAjE,SACGuJ,EAAKH,gBCTCK,GAAqB,CAChCC,IAAK,MACLC,UAAW,YACXC,WAAY,cCDDC,GAAgB,SAACC,GAAD,OAAWA,EAAMC,OAUjCC,GAAW,SAACF,GAAD,OARG,SAACA,GAAD,OAAYD,GAAcC,GAASD,GAAcC,GAAOG,OAAS,GAQzDC,CAAYJ,GAAOvxB,KAAI,SAAChC,GAAD,OAN/B,SAACuzB,EAAOvzB,GAAR,OAAgBszB,GAAcC,GAAd,2BAA4BD,GAAcC,GAAOK,MAAM5zB,IAAvD,IAA4DA,OAAO,GAM5C6zB,CAAYN,EAAOvzB,OC6BtE2yB,gBAfS,SAACvoB,GAGvB,MAAO,CAAEopB,MDf+B,SAACD,EAAOO,GAChD,IAAMC,EAAWN,GAASF,GAC1B,OAAQO,GACN,KAAKZ,GAAmBE,UACtB,OAAOW,EAASjyB,QAAO,SAACkxB,GAAD,OAAUA,EAAKvJ,aACxC,KAAKyJ,GAAmBG,WACtB,OAAOU,EAASjyB,QAAO,SAACkxB,GAAD,OAAWA,EAAKvJ,aACzC,KAAKyJ,GAAmBC,IACxB,QACE,OAAOY,GCKGC,CAA2B5pB,EADZA,EAArB0pB,qBAcKnB,EAlCE,SAAC,GAAD,IAAGa,EAAH,EAAGA,MAAH,OACf,oBAAIlzB,UAAU,YAAd,SACGkzB,GAASA,EAAMjsB,OACZisB,EAAMxxB,KAAI,SAACgxB,EAAMjY,GACf,OAAO,cAAC,GAAD,CAA8BiY,KAAMA,GAApC,eAAmBA,EAAKhzB,QAEjC,sBCkBO2yB,gBAJS,SAACvoB,GACvB,MAAO,CAAE6pB,aAAc7pB,EAAM0pB,oBAGS,CAAEzI,UNdjB,SAACvpB,GAAD,MAAa,CAAEmB,KAAMwvB,GAAYloB,QAAS,CAAEzI,aMctD6wB,EAzBW,SAAC,GAAiC,IAA/BsB,EAA8B,EAA9BA,aAAc5I,EAAgB,EAAhBA,UACzC,OACE,qBAAK/qB,UAAU,qBAAf,SACG6Y,OAAOC,KAAK8Z,IAAoBlxB,KAAI,SAACkyB,GACpC,IAAMC,EAAgBjB,GAAmBgB,GACzC,OACE,sBAEE5zB,UAAW2yB,KAAG,SAAUkB,IAAkBF,GAAgB,kBAC1D7xB,QAAS,WACPipB,EAAU8I,IAJd,SAOGA,GAPH,4BAC4BA,YCPvB,SAASC,KACtB,OACE,sBAAK9zB,UAAU,6CAAf,UACE,2CACA,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,OCTN,IAAM+zB,GAAQ,CACZ,CAAEzlB,MAAO,uBAAwBrK,IAAI,GAAD,OAAKW,OAAL,4BAAuDkO,IAAK,gBAChG,CAAExE,MAAO,mBAAoBwE,IAAK,kBAClC,CAAExE,MAAO,gBAAiBwE,IAAK,UAC/B,CAAExE,MAAO,OAAQwE,IAAK,WACtB,CAAExE,MAAO,YAAawE,IAAK,YAGhBkhB,GAAQ,WACnB,OACE,qBAAKh0B,UAAU,iDAAf,SACG+zB,GAAMryB,KAAI,SAACuyB,GACV,OACE,qBAAKj0B,UAAU,gGAAf,SACE,eAAC,IAAD,CAAMC,GAAIg0B,EAAKnhB,IAAf,UACKmhB,EAAKhwB,IACN,qBAAKY,IAAI,OAAOF,IAAKsvB,EAAKhwB,IAAKjE,UAAU,YAEzC,qBAAKA,UAAU,oBAEjB,sBAAMA,UAAU,2DAAhB,SAA4Ei0B,EAAK3lB,mB,UCLhF4lB,GAhBU,WAAO,IAAD,EACa7kB,mBAAS,CAAEnH,EAAG,KAAMD,EAAG,OADpC,mBACtBksB,EADsB,KACPC,EADO,KAGvBC,EAAsB,SAACpd,GAC3Bmd,EAAiB,CAAElsB,EAAG+O,EAAGoY,QAASpnB,EAAGgP,EAAGqY,WAS1C,OANAhiB,qBAAU,WAGR,OAFAjL,OAAOiyB,iBAAiB,QAASD,GAE1B,kBAAMhyB,OAAOkyB,oBAAoB,QAASF,MAChD,IAEIF,GCXIK,GAAe,WAAO,IAAD,EACRnlB,mBAAS,GADD,mBACzBugB,EADyB,KACnB6E,EADmB,OAEMplB,mBAAS,CAAEnH,EAAG,EAAGD,EAAG,IAF1B,mBAEzB2mB,EAFyB,KAEZC,EAFY,KAI1B6F,EAAYxjB,iBAAO,MAJO,EAMfgjB,KAAThsB,EANwB,EAMxBA,EAAGD,EANqB,EAMrBA,EACL0sB,EAA8B,kBAANzsB,GAA+B,kBAAND,EAE/C2sB,EAA8BC,aAAO,CAC3C9H,KAAMnoB,oBACNgrB,OACA8E,cAHME,YAcR,OACE,gCACE,6BACGD,EAAc,yBAAqB/F,EAAY1mB,EAAjC,gBAA0C0mB,EAAY3mB,EAAtD,KAA6D,iCAE5E2sB,GAAe,8CACjB,wBAAQxjB,IAAKsjB,EAAW10B,UAAU,UAAU8B,QAdzB,SAACiB,GACtB,IAAIosB,EAAOpsB,EAAEG,OAAOksB,wBAChBlnB,EAAInF,EAAEssB,QAAUF,EAAKvmB,KACrBX,EAAIlF,EAAEusB,QAAUH,EAAK9mB,IACzBwmB,EAAe,CAAE3mB,IAAGD,IAAKA,EAAI,UAW1B6sB,QAAQF,GAAeA,EAAY9F,WAClC,8BACE,qBAAI9uB,UAAU,QAAd,UACE,oBAAIA,UAAU,WAAd,SACE,wBAAQkc,SAAmB,IAAT0T,EAAY9tB,QAAS,kBAAM2yB,EAAQ7E,EAAO,IAA5D,wBAIF,oBAAI5vB,UAAU,OAAd,SACE,wBAAQkc,SAAU0T,IAASgF,EAAY9F,SAAUhtB,QAAS,kBAAM2yB,EAAQ7E,EAAO,IAA/E,6BCzCRmF,GAAmB1rB,0BACnB2rB,GAA2B3rB,0BAiB3B4rB,GAAmB,SAACnrB,EAAD,GAAiF,IAAvEC,EAAsE,EAAtEA,MAAO5G,EAA+D,EAA/DA,MAAOR,EAAwD,EAAxDA,KAAwD,IAAlDqH,iBAAkD,MAAtC,YAAsC,EAAzBC,EAAyB,EAAzBA,QAAyB,IAAhBvK,UAAgB,MAAX,KAAW,EACvG,IAAKiD,EACH,OAAO,2BACFmH,GADL,kBAEGC,EAAQ5G,IAGX,IAAMiE,EAAQ0C,EAAME,GACpB,OAAQrH,GACN,IAAK,eACH,OAAO,2BACFmH,GACAG,GAGP,IAAK,cACH,OAAO,2BACFH,GADL,kBAEGE,GAAiB,OAAL5C,QAAK,IAALA,OAAA,EAAAA,EAAO8C,MAAK,SAACtC,GAAD,OAAOA,EAAElI,KAAOA,MACrC0H,EAAM1F,KAAI,SAACkG,GAAD,OAAQlI,IAAOkI,EAAElI,GAAT,2BAAmBkI,GAAMqC,GAAYrC,KAD9C,sBAELR,GAFK,cAEI1H,MAAOuK,OAG5B,IAAK,aACH,OAAO,2BACFH,GADL,kBAEGE,EAAY,KAGjB,IAAK,cACH,OAAO,2BACFF,GADL,kBAEGE,EAAY5C,EAAM5F,QAAO,SAACoG,GAAD,OAAOA,EAAElI,KAAOA,OAG9C,QACE,OAAOoK,IAyBTorB,GAAoB,SAAC,GAAkB,IARd9qB,EAQFC,EAAe,EAAfA,SAAe,EAChBC,sBATGF,EAS8B6qB,GARpD,SAACnrB,EAAOS,GACb,IAAMC,EAAWJ,EAAQN,EAAOS,GAEhC,OADAE,aAAaC,QAAQ,YAAaC,KAAKC,UAAUJ,IAC1CA,IAhBa,WACtB,KAAI,cAAeC,cAOjB,MAAO,CAAEyB,UAAW,IANpB,IACE,OAAOvB,KAAKE,MAAMJ,aAAaK,QAAQ,cACvC,MAAOC,GACP,MAAO,IAgBmEC,IADpC,mBACnClB,EADmC,KAC5BmB,EAD4B,KAGlCiB,EAAcpC,EAAdoC,UASR,OAPAoB,qBAAU,WACRrC,EAAS,CACPlB,MAAO,iBACP5G,MAAO+I,GAAaA,EAAUgC,QAAO,SAACP,EAAD,OAAQxJ,EAAR,EAAQA,MAAOD,EAAf,EAAeA,KAAf,OAA0ByJ,EAAMpJ,OAAOJ,GAASI,OAAOL,KAAO,OAEpG,CAACgI,EAAWjB,IAGb,cAAC8pB,GAAiB/mB,SAAlB,CAA2B7K,MAAO2G,EAAlC,SACE,cAACkrB,GAAyBhnB,SAA1B,CAAmC7K,MAAO8H,EAA1C,SAAqDZ,O,iCC/E3D,IAAMD,GAAU,SAACN,EAAOS,GAGtB,OAFAzJ,QAAQC,IAAI,WAEJwJ,EAAO5H,MACb,IAAK,SACH,OAAO,2BAAKmH,GAAUS,EAAON,SAC/B,IAAK,QACH,MAAO,GAKX,OAAO,eAAKH,IAGDqrB,GAAW,WACtB,IAAIC,EAnBG,IAAIC,gBAAgBjiB,cAAc3R,QAoBnCtB,EAAYC,yBAEZk1B,EAAe,CACnBx1B,MAAOs1B,EAAMG,IAAI,MAAQH,EAAMG,IAAI,UAAY,GAC/CC,SAAUJ,EAAMG,IAAI,MAAQH,EAAMG,IAAI,SAAW,GACjDE,SAA0B,SA6HrB,IAAI7uB,MAAO6Q,YAAc,GAAK,KAAO,MA7HT,eAAiB,iBAClDie,SAAU,QACVC,QAAS,mCACTC,SAAU,aACVC,aAAc,mBACdC,IAAK,GACL5L,OAAQ,IAbkB,EAgBF5f,qBAAWF,GAASkrB,GAhBlB,mBAgBrBxrB,EAhBqB,KAgBdmB,EAhBc,KAkBpBnL,EAAsFgK,EAAtFhK,MAAO01B,EAA+E1rB,EAA/E0rB,SAAUC,EAAqE3rB,EAArE2rB,SAAUC,EAA2D5rB,EAA3D4rB,SAAUC,EAAiD7rB,EAAjD6rB,QAASC,EAAwC9rB,EAAxC8rB,SAAUC,EAA8B/rB,EAA9B+rB,aAAcC,EAAgBhsB,EAAhBgsB,IAAK5L,EAAWpgB,EAAXogB,OAE7EpnB,EAAW,SAACC,GAAD,OAAOkI,EAAS,CAAEtI,KAAM,SAAUsH,QAAQ,eAAIlH,EAAEG,OAAON,KAAOG,EAAEG,OAAOC,UAkCxF,OAbAmK,qBAAU,WAUR,OATArC,EAAS,CACPtI,KAAM,SACNsH,QAAS,CACP6rB,IAAI,GAAD,OAAKL,GAAL,OACCD,EAAW,IAAMA,EAAW,GAD7B,gCAEqBG,EAFrB,sBAE0CC,EAF1C,wCAEkFC,EAFlF,8DAMA,eACN,CAAC/1B,EAAO01B,EAAUC,EAAUC,EAAUC,EAASC,EAAUC,IAG1D,qCACE,sBAAK71B,UAAU,+BAAf,YACKkqB,GACD,qCACE,6CAAgBA,KAChB,wBAAQpoB,QAAS,kBAAMmJ,EAAS,CAAEtI,KAAM,WAAxC,kBAGJ,cAAC,GAAD,CAAOC,KAAK,QAAQ6L,KAAMuD,KAAO7O,MAAOrD,EAAOgD,SAAUA,EAAU6N,YAAY,sBAE/E,cAAC,GAAD,CAAO/N,KAAK,WAAW6L,KAAMsnB,KAAgB5yB,MAAOqyB,EAAU1yB,SAAUA,EAAU6N,YAAY,kBAC9F,cAAC,GAAD,CACE/N,KAAK,eACL6L,KAAMsnB,KACN5yB,MAAO0yB,EACP/yB,SAAUA,EACV6N,YAAY,iBAEd,qBAAK3Q,UAAU,gCAAf,SACE,cAAC,GAAD,CACE4C,KAAK,WACLO,MAAOsyB,EACP3zB,QAASgB,EACTwX,QAAS,CACP,CAAEnX,MAAO,eAAgBwN,YAAa,UAAWlC,KAAMiO,MACvD,CAAEvZ,MAAO,iBAAkBwN,YAAa,YAAalC,KAAMkO,MAC3D,CAAExZ,MAAO,QAASwN,YAAa,UAAWlC,KAAMkO,WAItD,qBAAK3c,UAAU,gCAAf,SACE,cAAC,GAAD,CACE4C,KAAK,WACLO,MAAOyyB,EACP9zB,QAASgB,EACTwX,QAAS,CACP,CAAEnX,MAAO,yBAA0BwN,YAAa,WAAYlC,KAAMiO,MAClE,CAAEvZ,MAAO,yBAA0BwN,YAAa,SAAUlC,KAAMkO,MAChE,CAAExZ,MAAO,aAAcwN,YAAa,QAASlC,KAAMkO,WAIzD,qBAAK3c,UAAU,gCAAf,SACE,cAAC,GAAD,CACE4C,KAAK,UACLO,MAAOwyB,EACP7zB,QAASgB,EACTwX,QAAS,CACP,CAAEnX,MAAO,mCAAoCwN,YAAa,YAAalC,KAAMiO,MAC7E,CAAEvZ,MAAO,sBAAuBwN,YAAa,eAAgBlC,KAAMkO,WAIzE,qBAAK3c,UAAU,eAEf,qBAAKA,UAAU,gCAAf,SAAgD81B,IAChD,sBAAK91B,UAAU,sBAAf,UACE,oBACEA,UAAU,8CACVg2B,KAAI,cAASl2B,GAAT,OAAiBsC,QAAQ,IAAM,IAA/B,gBAA0C0zB,GAC9C5yB,OAAO,SACP+yB,IAAI,aAJN,UAME,cAACC,GAAA,EAAD,CAASl2B,UAAU,SANrB,gBAQA,yBAAQA,UAAU,0BAA0B8B,QA1FpD,WACE,IAAMmI,EAAU,CAAEnK,QAAO01B,WAAUC,WAAUC,WAAUC,UAASC,WAAUC,eAAcC,OACxF,GAAM5L,EAAQ,CACZ,IAAMG,EAASH,EAGf,OAFAjf,EAAS,CAAEtI,KAAM,SAAUsH,QAAS,CAAEigB,OAAQ,MAEvC/pB,EAAUZ,WAAW,OAAOmB,IAAI2pB,GAAQva,OAAO7F,GAExD,OAAO9J,EAAUZ,WAAW,OAAO0Q,IAAIhG,IAkFjC,UACE,cAACksB,GAAA,EAAD,CAAMn2B,UAAU,SADlB,gBAMJ,cAAC,GAAD,CAASsqB,WAxGM,SAAC5qB,EAAIuK,GACtB,OAAO,SAAUlH,GACfjC,QAAQC,IAAI,CAAErB,KAAIuK,YAElBgB,EAAS,CAAEtI,KAAM,SAAUsH,QAAQ,aAAGigB,OAAQxqB,GAAOuK,aA6G3D,IAAMmsB,GAAW,CACf72B,WAAY,MACZC,QAAS,IAGL62B,GAAU,SAAC,GAAoB,IAAlB/L,EAAiB,EAAjBA,WACbjqB,EAAUC,cACRH,EAAYC,yBAClBU,QAAQC,IAAIV,EAASF,GAErBe,+BAAoB,iBAAM,CAACk1B,OAC3B,IAAMN,EAAM10B,aAAY,qBAAGjB,UAAakB,QAAwBy0B,OAGhE,OAAKx0B,mBAASw0B,GAKVv0B,kBAAQu0B,GACH,qBAIP,qBAAK91B,UAAU,8DAAf,SACG81B,EAAIp0B,KAAI,WAAkBC,GAAlB,IAAGjC,EAAH,EAAGA,GAAOkC,EAAV,6BACP,cAAC,GAAD,aAA8BlC,GAAIA,EAAI4qB,WAAYA,GAAgB1oB,GAAlE,UAAiBlC,EAAjB,YAAuBiC,SAXpB,WAiBL20B,GAAU,SAACxyB,GAAW,IAClBpE,EAA4BoE,EAA5BpE,GAAI4qB,EAAwBxmB,EAAxBwmB,WAAe1oB,EADF,YACWkC,EADX,qBAEzB,OACE,sBAAK9D,UAAU,4EAAf,UAEE,qCAAM4B,QAAN,IAAMA,OAAN,EAAMA,EAAM4zB,WACZ,qCAAM5zB,QAAN,IAAMA,OAAN,EAAMA,EAAM9B,QACZ,qCAAM8B,QAAN,IAAMA,OAAN,EAAMA,EAAMg0B,WACZ,8BAAMl2B,IACN,sBAAKM,UAAU,OAAf,UACE,qBAAKA,UAAU,sBAAsB8B,QAASwoB,EAAW5qB,EAAIkC,GAA7D,SACE,cAAC4nB,GAAA,EAAD,MAEF,qBAAKxpB,UAAU,OAAf,SACE,cAAC0E,EAAA,EAAD,aClNH,SAAe6xB,GAAtB,mC,8CAAO,WAAwBpuB,GAAxB,2DAAA3H,EAAA,4DAEO,eACN0d,EAAU7b,OAAO8b,SAASC,OAAOza,WAAvBtB,QACVgc,EAAUH,EAFJ,eAFP,SAKsBI,MAAMD,GAASE,MAAK,SAACC,GAAD,OAASA,EAAIC,iBALvD,cAKCC,EALD,gBAOgBC,eAAYC,KAAKF,GAPjC,cAOCG,EAPD,OASCC,EAAQD,EAAOE,WACfC,EAAOH,EAAOI,UAGlBuX,EAcEruB,EAdFquB,UACAC,EAaEtuB,EAbFsuB,QACA9zB,EAYEwF,EAZFxF,KACA2C,EAWE6C,EAXF7C,KACAoxB,EAUEvuB,EAVFuuB,KACAC,EASExuB,EATFwuB,MACAC,EAQEzuB,EARFyuB,OACA1K,EAOE/jB,EAPF+jB,IACA2K,EAME1uB,EANF0uB,UACA3yB,EAKEiE,EALFjE,KACAmI,EAIElE,EAJFkE,UACAjI,EAGE+D,EAHF/D,MACAoc,EAEErY,EAFFqY,cACAsW,EACE3uB,EADF2uB,gBAGI5X,EAAW,SAACC,EAAUhc,GAA8B,IAAvBic,EAAsB,wDACvD,GAAKD,GAAahc,IAASic,EAE3B,OADI3X,MAAMC,QAAQvE,KAAQA,EAAQA,EAAMkc,KAAK,OACtCL,EAAKM,aAAaH,GAAU6Q,QAAQ7sB,EAAMQ,aAG7C4b,EAnCD,+BAAA/e,EAAA,MAmCgB,WAAOgf,EAAWtX,EAAGD,GAArB,iCAAAzH,EAAA,yDAAwBwH,EAAxB,+BAAgC,GAAIW,EAApC,+BAA6C,GAC3D6W,GAActX,GAAMD,EADN,iEAECqW,MAAMkB,GAAWjB,MAAK,SAACC,GAAD,OAASA,EAAIC,iBAFpC,cAEbgB,EAFa,gBAGCZ,EAAOa,SAASD,GAHjB,cAGbE,EAHa,yBAIZb,EAAM,GAAGe,UAAUF,EAAO,CAAEzX,IAAGD,IAAGU,SAAQX,WAJ9B,4CAnChB,0DA4CLkX,EAAS,YAAasX,GACtBtX,EAAS,UAAWuX,GACpBvX,EAAS,OAAQvc,GACjBuc,EAAS,OAAQ5Z,GACjB4Z,EAAS,OAAQwX,GACjBxX,EAAS,QAASyX,GAClBzX,EAAS,SAAU0X,GACnB1X,EAAS,MAAOgN,GAChBhN,EAAS,YAAa2X,GACtB3X,EAAS,OAAQhb,GACjBgb,EAAS,YAAa7S,GACtB6S,EAAS,QAAS9a,GAvDb,UAwDCmb,EAAaiB,EAAe,IAAK,GAAI,IAAK,IAxD3C,yBAyDCjB,EAAauX,EAAiB,IAAK,GAAI,IAAK,IAzD7C,eA2DL9X,EAAKiC,UA3DA,UA4DkBpC,EAAOqC,OA5DzB,eA4DCC,EA5DD,yBA6DEA,GA7DF,6C,sBCAA,IAAM/M,GAAS,SAACtQ,GAAW,IACxB2K,EAAkE3K,EAAlE2K,KAAMmE,EAA4D9O,EAA5D8O,KADiB,EAC2C9O,EAAtDhC,eADW,MACD,GADC,EACGwS,EAAwCxQ,EAAxCwQ,MAAOtU,EAAiC8D,EAAjC9D,UAAwB4B,GAASkC,EAAtBoY,SADrB,YAC2CpY,EAD3C,2DAG/B,OACE,iDACEhC,QAASA,EACT9B,UAAS,0CAAqCA,EAArC,cAAoDsU,GAAF,aAAiBA,KACxE1S,GAHN,cAKG6M,GACC,+BACE,cAACA,EAAD,QAGDmE,GAAQ,+BAAOA,SCOlBxI,GAAU,SAACN,EAAD,GAAyB,IAAfG,EAAc,EAAdA,QACxB,OAAKA,EACE,2BAAKH,GAAUG,GADDH,GAIjBwrB,GAAe,CACnBkB,UAAW,mBACXC,QAAS,uCACT9zB,KAAM,kBACN+zB,KAAM,eACNE,OAAQ,IACR1yB,KAAM,IACNmI,UAAW,KACX/G,KAAMD,EAAiB,IAAIuB,OAGhBmwB,GAAO,WAAO,IAAD,EACEzsB,qBAAWF,GAASkrB,IADtB,mBACjBxrB,EADiB,KACVmB,EADU,OAkBpBnB,EAdF0sB,iBAJsB,MAIV,GAJU,IAkBpB1sB,EAbF2sB,eALsB,MAKZ,GALY,IAkBpB3sB,EAZFnH,YANsB,MAMf,GANe,IAkBpBmH,EAXFxE,YAPsB,MAOf,GAPe,IAkBpBwE,EAVF4sB,YARsB,MAQf,GARe,IAkBpB5sB,EATF6sB,aATsB,MASd,GATc,IAkBpB7sB,EARF8sB,cAVsB,MAUb,GAVa,IAkBpB9sB,EAPFoiB,WAXsB,MAWhB,GAXgB,IAkBpBpiB,EANF+sB,iBAZsB,MAYV,GAZU,IAkBpB/sB,EALF5F,YAbsB,MAaf,GAbe,IAkBpB4F,EAJFuC,iBAdsB,MAcV,GAdU,IAkBpBvC,EAHF1F,aAfsB,MAed,GAfc,EAoBlB4yB,EAAc,SAAC,GAAsB,IAApBjtB,EAAmB,EAAnBA,MAAO5G,EAAY,EAAZA,MAC5B8H,EAAS,CAAEhB,QAAQ,eAAIF,EAAQ5G,MAG3BL,EAAW,SAACC,GAChBkI,EAAS,CAAEhB,QAAQ,eAAIlH,EAAEG,OAAON,KAAOG,EAAEG,OAAOC,UAG5C8zB,EAAM,uCAAG,WAAOl0B,GAAP,SAAAvC,EAAA,kEACb02B,KADa,SACEX,GAASzsB,GADX,uCAC2BzE,EAAiB,IAAIuB,MADhD,2BAC+D,mBAD/D,2CAAH,sDAIZ0G,qBAAU,WACR,IAAMC,EAAQ3H,EAAc+wB,GACxBnpB,EAAS5H,EAAcsmB,GAGvB3e,EAAQC,IAAQA,GAAU,IAC9B,IAAMC,EAAKD,EAASD,GAHJ3H,EAAcgxB,IAAW,GAKzC3rB,EAAS,CACPhB,QAAS,CACP4sB,UAAW3wB,EAAcuH,GAAM,EAAIA,EAAK,QAG3C,CAACkpB,EAAOzK,EAAK0K,EAAQ3rB,IAExBqC,qBAAU,WACR,IAAInK,EAAQ,EAEZA,EAAQoB,OAAOqB,EAAcixB,IAActyB,OAAOL,GAE5CmI,IAAWlJ,GAASkJ,GAE1BpB,EAAS,CAAEhB,QAAS,CAAE7F,MAAOjB,OAC5B,CAAC0zB,EAAW3yB,EAAMmI,EAAWpB,IAIhC,OACE,sBAAKjL,UAAU,yCAAf,UACE,wBAMA,sBAAKA,UAAU,iDAAf,UACE,cAACqO,EAAD,CAAcC,MAAM,OAAOE,UAAU,IAErC,cAAC,GAAD,CAAO5L,KAAK,YAAYO,MAAOqzB,EAAW1zB,SAAUA,EAAU2L,KAAMsD,KAAaf,MAAM,cACvF,cAAC,GAAD,CAAOpO,KAAK,UAAUO,MAAOszB,EAAS3zB,SAAUA,EAAU2L,KAAM2D,KAAMpB,MAAM,YAC5E,cAAC,GAAD,CAAOpO,KAAK,OAAOO,MAAOR,EAAMG,SAAUA,EAAU2L,KAAMkT,KAAS3Q,MAAM,SACzE,cAAC,GAAD,CAAOpO,KAAK,OAAOO,MAAOmC,EAAMxC,SAAUA,EAAU2L,KAAMqa,KAAO9X,MAAM,SACvE,cAAC,GAAD,CAAOpO,KAAK,OAAOO,MAAOuzB,EAAM5zB,SAAUA,EAAU2L,KAAMqT,KAAe9Q,MAAM,SAC/E,sBAAKhR,UAAU,OAAf,UACE,cAAC,GAAD,CAAO4C,KAAK,QAAQ5C,UAAU,QAAQmD,MAAOwzB,EAAO7zB,SAAUA,EAAU2L,KAAMiL,KAAQ1I,MAAM,UAC5F,cAAC,GAAD,CAAOpO,KAAK,MAAM5C,UAAU,QAAQmD,MAAO+oB,EAAKppB,SAAUA,EAAU2L,KAAM+K,KAASxI,MAAM,WAE3F,cAAC,GAAD,CAAOpO,KAAK,SAASO,MAAOyzB,EAAQ9zB,SAAUA,EAAU2L,KAAMoL,KAAgB7I,MAAM,WACpF,cAAC,GAAD,CAAOpO,KAAK,YAAYO,MAAO0zB,EAAW/zB,SAAUA,EAAU2L,KAAMiO,KAAY1L,MAAM,eACtF,cAAC,GAAD,CAAOpO,KAAK,OAAOO,MAAOe,EAAMpB,SAAUA,EAAU2L,KAAM6K,KAAYtI,MAAM,SAC5E,cAAC,GAAD,CAAOpO,KAAK,YAAYO,MAAOkJ,EAAWvJ,SAAUA,EAAU2L,KAAM6D,KAAetB,MAAM,eACzF,cAAC,GAAD,CAAOpO,KAAK,QAAQO,MAAOiB,EAAOtB,SAAUA,EAAU2L,KAAMgb,KAAazY,MAAM,UAC/E,oDACA,cAAC,GAAD,CAAgB/F,SAAU+rB,EAAar0B,KAAK,YAAYC,KAAK,kBAC7D,oDACA,cAAC,GAAD,CAAgBqI,SAAU+rB,EAAar0B,KAAK,YAAYC,KAAK,oBAE7D,qBAAK5C,UAAU,6DAAf,SACE,cAAC,GAAD,CAAQ8B,QAASm1B,EAAQrkB,KAAK,sBC1H3BukB,GAAW,WAAO,IAAD,EACJ9nB,mBAAS,IADL,gCAEFA,mBAAS,KAFP,gCAGEA,sBAHF,gCAINA,mBAAS,IAJH,mBAIhB+nB,GAJgB,WAO5B,OACE,sBAAKp3B,UAAU,0DAAf,UACE,+CACA,uBAAOmR,QAAQ,MAAf,oBACA,uBACEvO,KAAK,MACLD,KAAK,OACLgO,YAAY,yBACZ3Q,UAAU,wBACV8C,SAVY,SAACC,GAAD,OAAOq0B,EAAOr0B,EAAEG,OAAOC,UAYrC,cAAC,KAAD,UACG,gBAAG6R,EAAH,EAAGA,KAAH,OACC,qCACE,eAAC,KAAWZ,OAAZ,qBAEE,cAACmP,GAAA,EAAD,CAAYvjB,UAAS,UAAKgV,EAAO,sBAAwB,SAM3D,cAAC,KAAD,CACEG,KAAMH,EACNqiB,MAAM,mCACNC,UAAU,+BACVC,QAAQ,kCACRjiB,MAAM,kCACNC,UAAU,kCACVC,QAAQ,+BAPV,SAYE,eAAC,KAAWgiB,MAAZ,CAAkBve,QAAM,EAAxB,UACE,uCACA,uCACA,wCACA,iDAMV,8CACA,iDClDOwe,GAAiB,WAC5B,IAAMvrB,ENLa,WACnB,IAAM1C,EAAUC,qBAAWsrB,IAC3B,QAAgBrrB,IAAZF,EACF,MAAM,IAAIG,MAAM,wDAElB,OAAOH,EMAWkuB,GACZC,ENCqB,WAC3B,IAAMnuB,EAAUC,qBAAWurB,IAC3B,QAAgBtrB,IAAZF,EACF,MAAM,IAAIG,MAAM,wEAElB,OAAOH,EMNmBouB,GAE1B,OACE,qBAAK53B,UAAU,qEAAf,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOyjB,KAAI,eAAX,SACE,cAAC,GAAD,CAAoB3Z,MAAOoC,EAAWjB,SAAU0sB,MAElD,cAAC,IAAD,CAAOlU,KAAI,iBAAX,SACE,cAAC,GAAD,MAEF,cAAC,IAAD,CAAOA,KAAI,SAAX,SACE,cAAC,GAAD,MAEF,cAAC,IAAD,CAAOA,KAAI,UAAX,SACE,cAAC,GAAD,MAEF,cAAC,IAAD,CAAOA,KAAI,UAAX,SACE,cAAC,GAAD,YAOGoU,GAAO,WAClB,OACE,cAAC,GAAD,UACE,cAAC,GAAD,OCnCOC,GAASl0B,gBAAK,SAACE,GAAW,IAAD,EACZuL,oBAAS,GADG,mBAC7B2F,EAD6B,KACvB0B,EADuB,OAERrH,oBAAS,GAFD,mBAE7B0oB,EAF6B,KAErBC,EAFqB,KAG9BllB,EAAG,UAAMlO,OAAN,gBAEHqzB,EAAa3zB,uBAAY,kBAAQyzB,EAA8B,KAArBrhB,GAAQ,SAACwhB,GAAD,OAAQA,OAAY,CAACH,IACvEI,EAAY7zB,uBAAY,kBAAM0zB,GAAU,SAACzT,GAAD,OAAQA,OAAI,IAEpD6T,EAAU,SAAC,GAAkB,IAAhBn4B,EAAe,EAAfA,GAAI2S,EAAW,EAAXA,KACrB,OACE,oBAAI5S,UAAU,gBAAd,SACE,cAAC,IAAD,CACE8B,QAASm2B,EACTj4B,UAAU,wGACVC,GAAIA,EACJwU,SAAO,EAJT,SAMG7B,OAMT,OACE,qBAAK5S,UAAU,gIAAf,SACE,sBAAKA,UAAU,qEAAf,UACE,sBAAKA,UAAU,qFAAf,UACE,cAAC,IAAD,CAAMC,GAAG,IAAT,SACE,sBAAKD,UAAU,kKAAf,UACE,qBAAKA,UAAU,uBAAuB2E,IAAKmO,EAAKjO,IAAI,KACpD,sBAAM7E,UAAU,kBAAhB,SACE,gDAIN,sBAAKA,UAAU,QAAf,UACGgV,GACC,wBACErS,KAAK,SACLb,QAASq2B,EACTn4B,UAAU,oLAHZ,SAKG+3B,EAAS,cAACjkB,GAAA,EAAD,IAAe,cAACC,GAAA,EAAD,MAI7B,wBACE/T,UAAU,yKACV2C,KAAK,SACLb,QAASm2B,EAHX,SAKGjjB,EAAO,cAACrB,GAAA,EAAD,IAAY,cAACC,GAAA,EAAD,YAI1B,qBAAK5T,UAAW,kCAAoCgV,EAAO,QAAU,WAAYtV,GAAG,wBAApF,SACE,qBAAIM,UAAU,iDAAd,UACE,cAACo4B,EAAD,CAASn4B,GAAG,SAAS2S,KAAK,UAC1B,cAACwlB,EAAD,CAASn4B,GAAG,aAAa2S,KAAK,cAC9B,cAACwlB,EAAD,CAASn4B,GAAG,aAAa2S,KAAK,cAC9B,cAACwlB,EAAD,CAASn4B,GAAG,YAAY2S,KAAK,aAC7B,cAACwlB,EAAD,CAASn4B,GAAG,aAAa2S,KAAK,cAC9B,cAACwlB,EAAD,CAASn4B,GAAG,SAAS2S,KAAK,uBCmCvBylB,OAlDf,WAGE,OACE,cAAC,IAAD,CAAQC,SAAS,IAAjB,SACE,sBAAKt4B,UAAU,qDAAf,UACE,cAAC83B,GAAD,IAUA,sBAAK93B,UAAU,sDAAf,UACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAUu4B,OAAK,EAACC,KAAK,IAAIv4B,GAAG,eAC5B,cAAC,IAAD,CAAUs4B,OAAK,EAACC,KAAK,aAAav4B,GAAG,iBACrC,cAAC,IAAD,CAAUs4B,OAAK,EAACC,KAAK,OAAOv4B,GAAG,mBAC/B,cAAC,IAAD,CAAUs4B,OAAK,EAACC,KAAK,SAASv4B,GAAG,iBAEjC,cAAC,IAAD,CAAOwjB,KAAK,SAASgV,UAAWv4B,IAChC,cAAC,IAAD,CAAOujB,KAAK,aAAagV,UAAWjV,KAEpC,cAAC,IAAD,CAAOC,KAAK,aAAagV,UAAW1O,KACpC,cAAC,IAAD,CAAOtG,KAAK,iBAAiBgV,UAAW7a,KAExC,cAAC,IAAD,CAAO6F,KAAK,aAAagV,UAAW5N,KACpC,cAAC,IAAD,CAAOpH,KAAK,UAAUgV,UAAWtI,KAEjC,cAAC,IAAD,CAAO1M,KAAK,YAAYgV,UAAW1G,KACnC,cAAC,IAAD,CAAOtO,KAAK,YAAYgV,UAAWzG,KAEnC,cAAC,IAAD,CAAOvO,KAAK,aAAagV,UAAW3E,KACpC,cAAC,IAAD,CAAOrQ,KAAK,UAAUgV,UAAWC,KAEjC,cAAC,IAAD,CAAOjV,KAAK,SAASgV,UAAWzE,KAChC,cAAC,IAAD,CAAOvQ,KAAK,aAAagV,UAAWZ,QAEtC,cAAC,IAAD,UACE,cAAC,IAAD,CAAOpU,KAAK,cAAcgV,UAAW3O,gBCjF7BgL,QACW,cAA7BzyB,OAAO8b,SAASwa,UAEe,UAA7Bt2B,OAAO8b,SAASwa,UAEhBt2B,OAAO8b,SAASwa,SAASlpB,MACvB,2D,4ECfA6lB,GAAe1C,GAAmBC,IAazBW,GAXU,WAAmC,IAAlC1pB,EAAiC,uDAAzBwrB,GAAc/qB,EAAW,uCACzD,OAAQA,EAAO5H,MACb,KAAKwvB,GACH,OAAO5nB,EAAON,QAAQzI,OAExB,QACE,OAAOsI,ICTPwrB,GAAe,CACnBlC,OAAQ,GACRE,MAAO,ICDT,IAAMgC,GAAe,CACnBppB,UAAW,GACXC,SAAU,IC+BZysB,KAASC,cC/BqB,CAC5BC,OAAQ,0CACRC,WAAY,kCACZC,UAAW,kBACXC,cAAe,8BACfC,kBAAmB,eACnBC,MAAO,8CD4BT,IAAM3L,GAAmBoL,KAASz4B,YAC5Bi5B,GAAmBR,KAASS,YAC5B/L,GAAiBsL,KAASU,UAC1Bz4B,GAAY+3B,KAASz4B,UAAUo5B,WAAWC,gBAG1CC,GAAcC,2BAAgB,CAElClG,oBACAN,MFzCa,WAA8C,IAA/BppB,EAA8B,uDAAtBwrB,GAAc/qB,EAAQ,uCAC1D,OAAQA,EAAO5H,MACb,KAAKsvB,GAAW,IAAD,EACW1nB,EAAON,QAAvBvK,EADK,EACLA,GAAI6yB,EADC,EACDA,QACZ,OAAO,2BACFzoB,GADL,IAEEspB,OAAO,GAAD,mBAAMtpB,EAAMspB,QAAZ,CAAoB1zB,IAC1B4zB,MAAM,2BACDxpB,EAAMwpB,OADN,kBAEF5zB,EAAK,CACJ6yB,UACApJ,WAAW,OAKnB,KAAK+I,GAAc,IACTxyB,EAAO6K,EAAON,QAAdvK,GACR,OAAO,2BACFoK,GADL,IAEEwpB,MAAM,2BACDxpB,EAAMwpB,OADN,kBAEF5zB,EAFE,2BAGEoK,EAAMwpB,MAAM5zB,IAHd,IAIDypB,WAAYrf,EAAMwpB,MAAM5zB,GAAIypB,gBAKpC,QACE,OAAOrf,IEYX2G,KDzCa,WAAiG,IAAnF3G,EAAkF,uDAA1EwrB,GAA0E,yCAA1DvrB,EAA0D,EAA1DA,MAA0D,IAAnD5G,aAAmD,MAA3C,GAA2C,EAAvCR,EAAuC,EAAvCA,KAAMqH,EAAiC,EAAjCA,UAAWC,EAAsB,EAAtBA,QAAsB,IAAbvK,UAAa,MAAR,KAAQ,EAC7G,IAAKiD,GAAQoH,EACX,OAAO,2BACFD,GADL,kBAEGC,EAAQ5G,IAGX,IAAMiE,EAAQ0C,EAAME,GACpB,OAAQrH,GACN,IAAK,eACH,OAAO,2BACFmH,GACAG,GAGP,IAAK,cACH,OAAKvK,GAAOsK,GAAc5C,EACnB,2BACF0C,GADL,kBAEGE,GAAiB,OAAL5C,QAAK,IAALA,OAAA,EAAAA,EAAO8C,MAAK,SAACtC,GAAD,OAAOA,EAAElI,KAAOA,MAA5B,OACT0H,QADS,IACTA,OADS,EACTA,EAAO1F,KAAI,SAACkG,GAAD,OAAQlI,IAAOkI,EAAElI,GAAT,2BAAmBkI,GAAMqC,GAAYrC,KAD/C,sBAELR,GAFK,cAEI1H,MAAOuK,OALc,eAAKH,GAQ/C,IAAK,aACH,OAAKE,EACE,2BACFF,GADL,kBAEGE,EAAY,KAHQ,eAAKF,GAM9B,IAAK,cACH,OAAKpK,GAAOsK,EACL,2BACFF,GADL,kBAEGE,EAAY5C,EAAM5F,QAAO,SAACoG,GAAD,OAAOA,EAAElI,KAAOA,OAHd,eAAKoK,GAMrC,IAAK,YACH,OAAOwrB,GAET,QACE,OAAOxrB,ICAb3J,UAAWw5B,sBAKP1G,GAAQ2G,uBAAYH,GAAaI,kCAEjCC,GAAW,CACflB,cACAmB,OA7BgB,CAChBC,YAAa,QACbC,wBAAwB,GA4BxBhvB,SAAUgoB,GAAMhoB,SAChBivB,oDAGFC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,CAAUpH,MAAOA,GAAjB,SACE,cAAC,6BAAD,2BAAgC6G,IAAhC,aACE,cAAC,GAAD,WAINjoB,SAASyoB,eAAe,SJ2DpB,kBAAmBh4B,WACrBA,UAAUi4B,cAAcC,MACrBjc,MAAK,SAAAkc,GACJA,EAAaC,gBAEdC,OAAM,SAAAtV,GACLvkB,QAAQukB,MAAMA,EAAM4B,a","file":"static/js/main.e709d88d.chunk.js","sourcesContent":["import React from \"react\";\r\nimport {\r\n  // BrowserRouter as Router,\r\n  // Switch,\r\n  // Route,\r\n  Link,\r\n  useHistory,\r\n  // useParams,\r\n  // useRouteMatch,\r\n} from \"react-router-dom\";\r\nimport { nanoid } from \"nanoid\";\r\n// import faker from \"faker\";\r\nimport { AddCircle, Filter, Search } from \"@material-ui/icons\";\r\n\r\nimport { useSelector } from \"react-redux\";\r\nimport { useFirestoreConnect, useFirestore, isLoaded, isEmpty } from \"react-redux-firebase\";\r\nimport { timestamp } from \"../..\";\r\n\r\nconst movesQuery = {\r\n  collection: \"moves\",\r\n  limitTo: 10,\r\n};\r\n\r\nconst MoveLink = ({ id = \"\", firstName, lastName, fullName = \"\", phone = \"\", email = \"\" }) => {\r\n  // let { url } = useRouteMatch();\r\n  return (\r\n    <div className=\"hover:bg-pink-500 hover:text-white cursor-pointer flex w-full justify-around\">\r\n      <div>\r\n        <Link to={`/m1/${id}`}> {id}</Link>\r\n      </div>\r\n      <div>\r\n        <Link to={`/m1/${id}`}>{fullName || (!!firstName && !!lastName) ? firstName + \" \" + lastName : \"\"}</Link>\r\n      </div>\r\n      <div>\r\n        <Link to={`/m1/${id}`}>{email}</Link>\r\n      </div>\r\n      <div>\r\n        <Link to={`/m1/${id}`}>{phone}</Link>\r\n      </div>\r\n      <div>\r\n        <Link to={`/m1/${id}`}>View</Link>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const Moves = () => {\r\n  // const [state, setstate] = useState([]);\r\n\r\n  const firestore = useFirestore();\r\n  let history = useHistory();\r\n  const newMove = async () => {\r\n    const id = nanoid(6);\r\n    try {\r\n      await firestore.collection(\"moves\").doc(id).set({ createdAt: timestamp() });\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    history.push({\r\n      pathname: `/m/${id}`,\r\n      // search: '?query=abc',\r\n      // state: { detail: 'some_value' }\r\n    });\r\n\r\n    //push to m/new id\r\n  };\r\n\r\n  useFirestoreConnect(() => [movesQuery]);\r\n  const moves = useSelector(({ firestore: { ordered } }) => ordered.moves);\r\n\r\n  // Show a message while moves are loading\r\n  if (!isLoaded(moves)) {\r\n    return \"Loading Moves...\";\r\n  }\r\n\r\n  // Show a message if there are no moves\r\n  if (isEmpty(moves)) {\r\n    return \"Move list is empty\";\r\n  }\r\n\r\n  // useEffect(() => {\r\n  //   const arr = [];\r\n  //   for (let i = 0; i < 20; i++) {\r\n  //     arr[i] = {\r\n  //       id: nanoid(6),\r\n  //       fullName: faker.name.findName(),\r\n  //       email: faker.internet.email(),\r\n  //       phone: faker.phone.phoneNumber(),\r\n  //     };\r\n  //   }\r\n  //   setstate(arr);\r\n  // }, []);\r\n  // let { path, url } = useRouteMatch();\r\n\r\n  const search = () => {\r\n    return console.log(\"search\");\r\n  };\r\n  const filter = () => {\r\n    return console.log(\"filter\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"container bg-white mx-auto  min-h-full flex flex-col items-center pb-4 mb-4\">\r\n      <Toolbar newMove={newMove} filter={filter} search={search} />\r\n      <div className=\"flex justify-between w-full\">\r\n        {/* <h1>Moves</h1> */}\r\n        <div className=\"sidebar flex flex-col w-full\">\r\n          {moves.map(({ id, ...rest }, ind) => (\r\n            <MoveLink key={`${id}-${ind}`} id={id} {...rest} />\r\n          ))}\r\n        </div>\r\n        {/* <table className=\"\">\r\n          <thead className=\"text-white bg-gray-900 text-center cursor-pointer\">\r\n            <tr>\r\n              <th>Ih</th>\r\n              <th>Name</th>\r\n              <th>Phone</th>\r\n              <th>Email</th>\r\n              <th></th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {state.map((a) => (\r\n              <MoveLink key={a.id} moveId={a.id} fullName={a.fullName} email={a.email} phone={a.phone} />\r\n            ))}\r\n          </tbody>\r\n        </table> */}\r\n      </div>\r\n      {/* <button>+ Move</button> */}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Toolbar = ({ newMove, filter, search }) => {\r\n  return (\r\n    <div className=\"w-full bg-gray-200 flex justify-between border border-gray-300 mb-2\">\r\n      <div className=\" flex items-center\">\r\n        <span className=\"py-2 px-4 \">\r\n          <span className=\"hover:underline px-2 cursor-pointer\">... /</span>\r\n          <span className=\"hover:underline  cursor-pointer\">Moves /</span>\r\n        </span>\r\n      </div>\r\n      <div className=\"rightToolbar flex\">\r\n        <button className=\" text white p-2 rounded-md  flex items-center px-4 \" onClick={search}>\r\n          <span>\r\n            <Search className=\"p-1\" />\r\n          </span>\r\n          Search\r\n        </button>\r\n        <button className=\" text white p-2 rounded-md  flex items-center px-4 \" onClick={filter}>\r\n          <span>\r\n            <Filter className=\"p-1\" />\r\n          </span>\r\n          Filter\r\n        </button>\r\n        <button className=\" text white p-2 rounded-md  flex items-center px-4 \" onClick={newMove}>\r\n          <span>\r\n            <AddCircle className=\"p-1\" />\r\n          </span>\r\n          New Move\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// const MoveItem = (props) => {\r\n//   return <div>{props?.id}</div>;\r\n// };\r\n","import { isMacOs, isIOS } from \"react-device-detect\";\r\n\r\nexport function vibrate(ms) {\r\n  if (!isMacOs && !isIOS) window.navigator.vibrate(ms);\r\n}\r\n","import React, { memo } from \"react\";\r\nimport clsx from \"clsx\";\r\nimport { vibrate } from \"../../utils/vibrate\";\r\n\r\nconst CountButton = ({ count, changeCount }) => {\r\n  const increment = () => {\r\n    changeCount(count + 1);\r\n    vibrate([50]);\r\n  };\r\n  const decrement = () => {\r\n    if (count > 0) {\r\n      changeCount(count - 1);\r\n      vibrate([50, 50, 50]);\r\n    }\r\n  };\r\n  const onChange = (e) => {\r\n    var val = parseInt(e.target.value) || 0;\r\n    return changeCount(val);\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-row w-28 h-8 mx-auto  rounded-md relative bg-purple-200 bg-opacity-50 my-1 \">\r\n      <button\r\n        onClick={decrement}\r\n        className=\" text-2xl font-thin select-none  text-gray-600 hover:text-red-700 hover:bg-red-200 w-20 rounded-l cursor-pointer\"\r\n      >\r\n        −\r\n      </button>\r\n      <input\r\n        min=\"0\"\r\n        type=\"number\"\r\n        name=\"custom-input-number\"\r\n        className={clsx(\r\n          \" bg-white bg-opacity-60  text-center w-12  font-semibold text-md hover:text-black focus:text-black  md:text-basecursor-default flex items-center text-gray-700\",\r\n          count > 0 && \"bg-yellow-200\"\r\n        )}\r\n        onChange={onChange}\r\n        onKeyPress={(e) => {\r\n          if (\r\n            e.key === \"ArrowLeft\" ||\r\n            e.key === \"ArrowRight\" ||\r\n            e.key === \"ArrowUp\" ||\r\n            e.key === \"ArrowDown\" ||\r\n            e.key === \"Delete\" ||\r\n            e.key === \"Backspace\"\r\n          ) {\r\n            return;\r\n          } else if (e.key.search(/\\d/) === -1) {\r\n            e.preventDefault();\r\n          }\r\n        }}\r\n        onFocus={(e) => e.target.select()}\r\n        onKeyDown={(e) => (e.key === \"Enter\" ? e.target.blur() : null)}\r\n        value={count.toString()}\r\n      ></input>\r\n      <button\r\n        onClick={increment}\r\n        className=\" text-2xl font-thin select-none  text-gray-600 hover:text-green-700 hover:bg-green-200 w-20 rounded-r cursor-pointer\"\r\n      >\r\n        +\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default memo(CountButton);\r\n","import { Delete } from \"@material-ui/icons\";\r\nimport React, { memo, useCallback } from \"react\";\r\n\r\nimport CountButton from \"../Inputs/CountButton\";\r\n\r\nexport const Material = memo((props) => {\r\n  const { handleChange, handleRemove, id, name, img, rate = 0, units = 0, total = 0, isCustom = false } = props;\r\n\r\n  const changeCount = useCallback(\r\n    (units) => {\r\n      handleChange(id, { units, total: Number(units) * Number(rate) });\r\n    },\r\n    [id, handleChange, rate]\r\n  );\r\n\r\n  const changeRate = useCallback(\r\n    (e) => {\r\n      handleChange(id, { rate: e.target.value, total: Number(units) * Number(e.target.value) });\r\n    },\r\n    [id, handleChange, units]\r\n  );\r\n  const changeInput = useCallback(\r\n    (e) => {\r\n      handleChange(id, { [e.target.name]: e.target.value });\r\n    },\r\n    [id, handleChange]\r\n  );\r\n\r\n  return (\r\n    <div\r\n      className={`odd:bg-gray-50 flex relative justify-between items-center  border-b ${\r\n        units > 0 ? \"bg-green-50 hover:bg-green-100\" : \"hover:bg-purple-100\"\r\n      }`}\r\n    >\r\n      <div className=\"flex items-center w-1/3 sm:w-1/2   align-middle  pl-2\">\r\n        <div className=\"pr-3\">\r\n          {isCustom ? (\r\n            <Delete onClick={() => handleRemove(id)} className=\"p-1 hover:text-red-400 cursor-pointer\" />\r\n          ) : (\r\n            <img className=\"max-h-5 w-5\" src={process.env.PUBLIC_URL + \"/\" + img} alt=\"\" />\r\n          )}\r\n        </div>\r\n        <div className=\"flex-col w-full flex-1   truncate\">\r\n          {!isCustom ? (\r\n            <span className=\"select-none text-sm truncte\">{name}</span>\r\n          ) : (\r\n            <input\r\n              name=\"name\"\r\n              value={name}\r\n              onChange={changeInput}\r\n              onFocus={(e) => e.target.select()}\r\n              onKeyPress={(e) => {\r\n                if (e.key === \"Enter\") e.target.blur();\r\n              }}\r\n              className=\"p-1 bg-transparent w-full  text-xs border-b-2 focus:border-green-700 hover:border-green-700  cursor-pointer\"\r\n            />\r\n          )}\r\n        </div>\r\n      </div>\r\n      <div className=\"w-1/4\">\r\n        <CountButton count={units} changeCount={changeCount} />\r\n      </div>\r\n\r\n      <div className=\"text-right text-xs px-3 flex items-center flex-nowrap flex-shrink-0 justify-center w-1/3 sm:w-1/4\">\r\n        <span className={units > 0 ? \"text-gray-800\" : \"text-gray-400\"}>{units > 0 ? \"× \" : \"$\"}</span>\r\n        <input\r\n          className={`p-1 w-9 bg-transparent  text-xs text-center  border-b focus:border-green-700 hover:border-green-700  cursor-pointer`}\r\n          name=\"rate\"\r\n          value={rate}\r\n          type=\"number\"\r\n          onChange={changeRate}\r\n          onFocus={(e) => e.target.select()}\r\n          onKeyPress={(e) => {\r\n            if (e.key === \"Enter\") {\r\n              e.target.blur();\r\n            }\r\n          }}\r\n        />\r\n        <span className={`truncate ${units > 0 ? \"text-gray-800\" : \"text-gray-400\"} `}>\r\n          {units > 0 ? ` = $ ${total}` : \"/ unit\"}\r\n        </span>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n","export const defaultMaterials = [\r\n  {\r\n    id: \"q3lYEM\",\r\n    name: \"Small Box\",\r\n    volume: 1.5,\r\n    w: \"16 3/8\",\r\n    d: \"12 5/8\",\r\n    h: \"12 5/8\",\r\n    units: 0,\r\n    img: \"img/small.png\",\r\n    history: {},\r\n    rate: 3,\r\n  },\r\n  {\r\n    id: \"KX1q8A\",\r\n    name: \"Medium Box\",\r\n    volume: 3.0,\r\n    w: \"18\",\r\n    d: \"18\",\r\n    h: \"16\",\r\n    units: 0,\r\n    img: \"img/medium.png\",\r\n    history: {},\r\n    rate: 4,\r\n  },\r\n  {\r\n    id: \"AT9F5y\",\r\n    name: \"Large Box\",\r\n    volume: 4.5,\r\n    w: \"18\",\r\n    d: \"18\",\r\n    h: \"24\",\r\n    units: 0,\r\n    img: \"img/large.png\",\r\n    history: {},\r\n    rate: 5,\r\n  },\r\n  {\r\n    id: \"L2NPOm\",\r\n    name: \"Mattress Bag\",\r\n    description: \"For use on mattresses & box springs\",\r\n    units: 0,\r\n    img: \"img/matbags.png\",\r\n    history: {},\r\n    rate: 5,\r\n  },\r\n  {\r\n    id: \"Zb53TO\",\r\n    name: `Wardrobe (Rent)`,\r\n    rent: true,\r\n    volume: 13,\r\n    w: \"24\",\r\n    d: \"24\",\r\n    h: \"40\",\r\n\r\n    units: 0,\r\n    img: \"img/wardrobe.png\",\r\n    history: {},\r\n    rate: 5,\r\n  },\r\n  {\r\n    id: \"jj4ghI\",\r\n    name: \"TV Box S\",\r\n    units: 0,\r\n    img: \"img/tv.png\",\r\n    //     small 46 x 6 x30\r\n    // large 56 x 6 x 36\r\n    // xl 64 x 6 x40\r\n    w: \"46\",\r\n    d: \"6\",\r\n    h: \"30\",\r\n    history: {},\r\n    rate: 25,\r\n  },\r\n\r\n  {\r\n    id: \"fjCPOT\",\r\n    name: \"Small Mirror Pak\",\r\n    volume: 13,\r\n    w: \"37 5/16\",\r\n    d: \"4 3/8\",\r\n    h: \"26 15/16\",\r\n\r\n    units: 0,\r\n    img: \"img/smirror.png\",\r\n    history: {},\r\n    rate: 5,\r\n  },\r\n  {\r\n    id: \"UmttCz\",\r\n    name: \"Large Mirror Pak\",\r\n    volume: 13,\r\n    w: \"48\",\r\n    d: \"4 1/2\",\r\n    h: \"33\",\r\n\r\n    units: 0,\r\n    img: \"img/lmirror.png\",\r\n    history: {},\r\n    rate: 10,\r\n  },\r\n  {\r\n    id: \"Aic8ie\",\r\n    name: \"Flat Wardrobe\",\r\n    volume: 13,\r\n    w: \"35\",\r\n    d: \"20\",\r\n    h: \"9\",\r\n\r\n    units: 0,\r\n    img: \"img/laydown.png\",\r\n    history: {},\r\n    rate: 5,\r\n  },\r\n  {\r\n    id: \"XjYPgM\",\r\n    name: \"Wardrobe (Buy)\",\r\n    volume: 13,\r\n    w: \"24\",\r\n    d: \"24\",\r\n    h: \"40\",\r\n\r\n    units: 0,\r\n    img: \"img/wardrobe.png\",\r\n    history: {},\r\n    rate: 15,\r\n  },\r\n  {\r\n    id: \"dW96Oj\",\r\n    name: \"Paper Pads\",\r\n    units: 0,\r\n    img: \"img/pads.png\",\r\n    history: {},\r\n    rate: 2,\r\n  },\r\n  {\r\n    id: \"K6HCr1\",\r\n    name: \"Stretch Wrap\",\r\n    units: 0,\r\n    img: \"img/wrap.png\",\r\n    history: {},\r\n    rate: 20,\r\n  },\r\n  {\r\n    id: \"s1s12u\",\r\n    name: \"Carpet Protection\",\r\n    units: 0,\r\n    img: \"img/carpet.png\",\r\n    history: {},\r\n    rate: 45,\r\n  },\r\n  {\r\n    id: \"INaIjO\",\r\n    name: \"Ropes\",\r\n    units: 0,\r\n    img: \"img/rope.png\",\r\n    history: {},\r\n    rate: 5,\r\n  },\r\n  {\r\n    id: \"s0mSbR\",\r\n    name: \"Blankets\",\r\n    units: 0,\r\n    img: \"img/blanket.png\",\r\n    history: {},\r\n    rate: 10,\r\n  },\r\n];\r\n","export function disabledEventPropagation(e) {\r\n  if (e) {\r\n    if (e.stopPropagation) {\r\n      e.stopPropagation();\r\n    } else if (window.event) {\r\n      window.event.cancelBubble = true;\r\n    }\r\n  }\r\n}\r\n\r\nexport function getFormattedDate(date) {\r\n  let year = date.getFullYear();\r\n  let month = (1 + date.getMonth()).toString().padStart(2, \"0\");\r\n  let day = date.getDate().toString().padStart(2, \"0\");\r\n\r\n  return month + \"/\" + day + \"/\" + year;\r\n}\r\n\r\n//MERGES DEFAULT STATE WITH PROVIDER STATE\r\nexport const mergeDefaultWProvider = (base, state) => {\r\n  if (!base || state === undefined) return {};\r\n  const newMerge = base.map((b) => {\r\n    const match = state?.find((s) => s.id === b.id);\r\n    if (match) {\r\n      const { Icon, Guide, ...s } = { Icon: {}, Guide: {}, ...match };\r\n      return { ...b, ...s };\r\n    } else {\r\n      return b;\r\n    }\r\n  });\r\n  return [...newMerge, ...state?.filter((s) => s.isCustom)];\r\n};\r\n\r\nexport function timeToDecimal(t) {\r\n  if (!t) return 0;\r\n  if (typeof t === \"string\") {\r\n    var arr = t.split(\":\");\r\n    var dec = parseInt((arr[1] / 6) * 10, 10);\r\n    return parseFloat(parseInt(arr[0], 10) + \".\" + (dec < 10 ? \"0\" : \"\") + dec);\r\n  }\r\n  return 0;\r\n}\r\n\r\nexport function convertToHHMM(info) {\r\n  var hrs = parseInt(Number(info));\r\n  var min = Math.round((Number(info) - hrs) * 60);\r\n  return hrs + \":\" + (min < 10 ? \"0\" : \"\") + min;\r\n}\r\n\r\n// export  function time_convert(num)\r\n//  {\r\n//   var hours = Math.floor(num / 60);\r\n//   var minutes = (num *60)  % 60;\r\n//   return hours + \":\" + minutes;\r\n// }\r\n\r\nexport function money_round(num) {\r\n  return Math.ceil(num * 100) / 100;\r\n}\r\n\r\nexport function incrementDate(dateString) {\r\n  const date = dateString ? new Date(dateString) : new Date();\r\n  date.setDate(date.getDate() + 1);\r\n  return getFormattedDate(date);\r\n}\r\nexport function decrementDate(dateString) {\r\n  const date = dateString ? new Date(dateString) : new Date();\r\n  date.setDate(date.getDate() - 1);\r\n  return getFormattedDate(date);\r\n}\r\n\r\nexport function truncateString(str, num) {\r\n  // If the length of str is less than or equal to num\r\n  // just return str--don't truncate it.\r\n  if (str.length <= num) {\r\n    return str;\r\n  }\r\n  // Return str truncated with '...' concatenated to the end of str.\r\n  return str.slice(0, num) + \"...\";\r\n}\r\n\r\nexport function filterGroup(group, showNumber = 4, defValue, defFun = (v) => v > 0) {\r\n  if (!group || !Array.isArray(group)) return [];\r\n  let remainder = showNumber - group?.filter((g) => defFun(g[defValue]) || g.isCustom).length;\r\n  return group?.filter((g) => {\r\n    if (remainder > 0 && !defFun(g[defValue]) && !g.isCustom) {\r\n      remainder--;\r\n      return true;\r\n    }\r\n    return defFun(g[defValue]) || g.isCustom;\r\n  });\r\n}\r\n\r\nexport const trimCanvas = (function () {\r\n  function rowBlank(imageData, width, y) {\r\n    for (var x = 0; x < width; ++x) {\r\n      if (imageData.data[y * width * 4 + x * 4 + 3] !== 0) return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  function columnBlank(imageData, width, x, top, bottom) {\r\n    for (var y = top; y < bottom; ++y) {\r\n      if (imageData.data[y * width * 4 + x * 4 + 3] !== 0) return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  return function (canvas) {\r\n    var ctx = canvas.getContext(\"2d\");\r\n    var width = canvas.width;\r\n    var imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\r\n    var top = 0,\r\n      bottom = imageData.height,\r\n      left = 0,\r\n      right = imageData.width;\r\n\r\n    while (top < bottom && rowBlank(imageData, width, top)) ++top;\r\n    while (bottom - 1 > top && rowBlank(imageData, width, bottom - 1)) --bottom;\r\n    while (left < right && columnBlank(imageData, width, left, top, bottom)) ++left;\r\n    while (right - 1 > left && columnBlank(imageData, width, right - 1, top, bottom)) --right;\r\n\r\n    var trimmed = ctx.getImageData(left, top, right - left, bottom - top);\r\n    var copy = canvas.ownerDocument.createElement(\"canvas\");\r\n    var copyCtx = copy.getContext(\"2d\");\r\n    copy.width = trimmed.width;\r\n    copy.height = trimmed.height;\r\n    copyCtx.putImageData(trimmed, 0, 0);\r\n\r\n    return copy;\r\n  };\r\n})();\r\n","import React, { useContext, useReducer, createContext, useEffect } from \"react\";\r\n// import { defaultMove } from \"../../utils/defaultMove\";\r\nimport { money_round, convertToHHMM, timeToDecimal } from \"../../utils/helperFunctions\";\r\n// import { useKeyPress } from \"../../utils/useKeyPress\";\r\n// const small = useKeyPress(\"q\");\r\n// console.log(small);\r\n// const medium = useKeyPress(\"w\");\r\n// const large = useKeyPress(\"e\");\r\n// const mattressbag = useKeyPress(\"r\");\r\n// const wardrobeRent = useKeyPress(\"t\");\r\n// const wardrobeBuy = useKeyPress(\"y\");\r\n// const num1 = useKeyPress(\"1\");\r\n// const num2 = useKeyPress(\"2\");q\r\n// const num3 = useKeyPress(\"3\");\r\n// const num4 = useKeyPress(\"4\");\r\n// const num5 = useKeyPress(\"5\");\r\n\r\n// useEffect(() => {\r\n//   if (small) {\r\n//     dispatch({ type: \"keyAdd\", payload: \"q3lYEM\" });\r\n//   }\r\n//   return () => {};\r\n// }, [small]);\r\n\r\nconst MoveContext = createContext();\r\nconst MoveDispatchContext = createContext();\r\n\r\nconst useMove = () => {\r\n  const context = useContext(MoveContext);\r\n  if (context === undefined) {\r\n    throw new Error(\"useMove must be used within a MoveProvider\");\r\n  }\r\n  return context;\r\n};\r\nconst useMoveDispatch = () => {\r\n  const context = useContext(MoveDispatchContext);\r\n  if (context === undefined) {\r\n    throw new Error(\"useMoveDispatch must be used within a MoveDispatchProvider\");\r\n  }\r\n  return context;\r\n};\r\n\r\nconst moveReducer = (state, { field, value = \"\", type, groupName, payload, id = null }) => {\r\n  console.log({ field, type, payload, id, value });\r\n  if (!type && field) {\r\n    return {\r\n      ...state,\r\n      [field]: value,\r\n    };\r\n  } else {\r\n    const group = state[groupName];\r\n    switch (type) {\r\n      case \"fieldsUpdate\": {\r\n        //UPDATE MULTIPLE FIELDS\r\n        return {\r\n          ...state,\r\n          ...payload,\r\n        };\r\n      }\r\n      case \"groupUpdate\": {\r\n        if (!id || !groupName || !group) return { ...state };\r\n        return {\r\n          ...state,\r\n          [groupName]: group?.find((g) => g.id === id)\r\n            ? group?.map((g) => (id === g.id ? { ...g, ...payload } : g))\r\n            : [...group, { id, ...payload }],\r\n        };\r\n      }\r\n      case \"groupClear\": {\r\n        if (!groupName) return { ...state };\r\n        return {\r\n          ...state,\r\n          [groupName]: [],\r\n        };\r\n      }\r\n      case \"groupRemove\": {\r\n        if (!id || !groupName) return { ...state };\r\n        return {\r\n          ...state,\r\n          [groupName]: group.filter((g) => g.id !== id),\r\n        };\r\n      }\r\n      case \"clearData\": {\r\n        return {};\r\n      }\r\n      default:\r\n        return state;\r\n    }\r\n  }\r\n};\r\n\r\n// const delay = ms => new Promise(resolve => setTimeout(resolve, ms));\r\n\r\n// const getDataFromAPI = async () => {\r\n//   await delay(2000);\r\n//   return {\r\n//     my: \"data\"\r\n//   };\r\n// };\r\n\r\nconst getInitialState = () => {\r\n  if (\"move\" in localStorage) {\r\n    try {\r\n      return JSON.parse(localStorage.getItem(\"move\"));\r\n    } catch (err) {\r\n      return {};\r\n    }\r\n  } else {\r\n    return {};\r\n    // return defaultMove;\r\n  }\r\n};\r\n\r\nconst withLocalStorageCache = (reducer) => {\r\n  return (state, action) => {\r\n    const newState = reducer(state, action);\r\n    localStorage.setItem(\"move\", JSON.stringify(newState));\r\n    return newState;\r\n  };\r\n};\r\n\r\nconst MoveProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(withLocalStorageCache(moveReducer), getInitialState());\r\n\r\n  const {\r\n    valuation,\r\n    valuationCost,\r\n    valuationCostWithDeductible,\r\n    shipmentValue,\r\n    valuationRate,\r\n    valuationRateWithDeductible,\r\n    estimatedWeight,\r\n    hourlyRate,\r\n    travelTime,\r\n    totalHours,\r\n    startTime,\r\n    endTime,\r\n    arriveTime,\r\n    departTime,\r\n    breakTime,\r\n    subtotal,\r\n    materials = [],\r\n    miscFees = [],\r\n    isTravelFeeFixed,\r\n    travelFee,\r\n    totalValuation,\r\n    cubicWeight,\r\n    // adjustment,\r\n    netWeight,\r\n    grossWeight,\r\n    tareWeight,\r\n    weightType,\r\n    mileageRate,\r\n    totalMovingCharges,\r\n    totalAmountPaid,\r\n    flatIsMaterialsIncluded,\r\n    // remainingBalance,\r\n    paymentOption,\r\n    totalTransportation,\r\n    jobType,\r\n    flatAmount,\r\n    totalMaterials,\r\n    totalMiscFees,\r\n  } = state;\r\n\r\n  /*########## INITIAL VALUES ##########*/\r\n  // useEffect(() => {\r\n  //   if (state === {}) dispatch({\r\n  //     type: \"fieldsUpdate\",\r\n  //     payload: baseValues\r\n  //   }))\r\n  //   return () => {\r\n  //     cleanup\r\n  //   }\r\n  // }, [state])\r\n\r\n  /*########## TOTAL VALUATION ##########*/\r\n\r\n  useEffect(() => {\r\n    dispatch({\r\n      field: \"totalValuation\",\r\n      value: valuation === \"basic\" ? 0 : valuation === \"replacement\" ? valuationCost : valuationCostWithDeductible,\r\n    });\r\n  }, [valuation, valuationCost, valuationCostWithDeductible, dispatch]);\r\n\r\n  /*########## VALUATION COSTS ##########*/\r\n  useEffect(() => {\r\n    // if (shipmentValue < estimatedWeight * 5) {\r\n    //   dispatch({\r\n    //     field: \"shipmentValue\",\r\n    //     value: estimatedWeight * 5,\r\n    //   });\r\n    // }\r\n    dispatch({\r\n      type: \"fieldsUpdate\",\r\n      payload: {\r\n        valuationCost: Math.ceil((Number(shipmentValue) / 100) * Number(valuationRate) * 100) / 100,\r\n        valuationCostWithDeductible:\r\n          Math.ceil((Number(shipmentValue) / 100) * Number(valuationRateWithDeductible) * 100) / 100,\r\n      },\r\n    });\r\n  }, [shipmentValue, valuationRate, valuationRateWithDeductible, dispatch]);\r\n\r\n  /*########## SHIPMENT VALUE ##########*/\r\n  useEffect(() => {\r\n    // if (shipmentValue < estimatedWeight * 5) {\r\n    dispatch({\r\n      field: \"shipmentValue\",\r\n      value: Number(estimatedWeight) * 5,\r\n    });\r\n    // }\r\n  }, [estimatedWeight, dispatch]);\r\n\r\n  /*########## TOTAL MATERIALS ##########*/\r\n  useEffect(() => {\r\n    // let value = 0;\r\n    // if (!!jobType && jobType === \"flatRate\" && !!flatIsMaterialsIncluded && flatIsMaterialsIncluded === true) {\r\n    //   value = 0\r\n    // }\r\n    // if (!!materials) {\r\n    // dispatch({\r\n    //   field: \"totalMaterials\",\r\n    //   value:\r\n    //     jobType === \"flatRate\" && flatIsMaterialsIncluded === true\r\n    //       ? \"0\"\r\n    //       : materials.reduce((sum, { units = 0, rate = 0 }) => sum + Number(units) * Number(rate), 0),\r\n    // });\r\n    // }\r\n  }, [materials, jobType, flatIsMaterialsIncluded, dispatch]);\r\n\r\n  /*########## TOTAL MISC FEES ##########*/\r\n  useEffect(() => {\r\n    // dispatch({\r\n    //   field: \"totalMiscFees\",\r\n    //   value: miscFees.reduce((sum, { value = 0, selected = false }) => sum + (selected ? Number(value) : 0), 0),\r\n    // });\r\n  }, [miscFees, flatIsMaterialsIncluded, dispatch]);\r\n\r\n  /*########## TOTAL HOURS ##########*/\r\n  useEffect(() => {\r\n    const begin = timeToDecimal(isTravelFeeFixed ? arriveTime : startTime);\r\n    let finish = timeToDecimal(isTravelFeeFixed ? departTime : endTime);\r\n    //TODO add break to total time calculation\r\n    // const breaks = timeToDecimal(breakTime);\r\n\r\n    if (begin > finish) finish += 12;\r\n    const th = finish - begin; //- breaks;\r\n\r\n    dispatch({\r\n      field: \"totalHours\",\r\n      value: convertToHHMM(th >= 0 ? th : 0),\r\n    });\r\n  }, [totalHours, startTime, endTime, arriveTime, departTime, breakTime, isTravelFeeFixed, dispatch]);\r\n\r\n  /*########## TRAVEL FEE ##########*/\r\n  useEffect(() => {\r\n    let value = \"0\";\r\n    const field = \"travelfee\";\r\n\r\n    if (!!hourlyRate && !!travelTime) value = (Number(hourlyRate) * Number(travelTime)).toString();\r\n\r\n    dispatch({ field, value });\r\n  }, [travelTime, hourlyRate, dispatch]);\r\n  useEffect(() => {\r\n    let value = 0;\r\n    const field = \"netWeight\";\r\n\r\n    if (!!weightType && !!cubicWeight && weightType === \"cubicWeight\") {\r\n      value = cubicWeight;\r\n    }\r\n\r\n    if (!!weightType && weightType === \"weightTicket\") {\r\n      const diff = Number(!!grossWeight ? grossWeight : 0) - Number(!!tareWeight ? tareWeight : 0);\r\n      value = diff > 0 ? diff : 0;\r\n    }\r\n    dispatch({ field, value });\r\n  }, [weightType, cubicWeight, netWeight, grossWeight, tareWeight, dispatch]);\r\n\r\n  /*########## TOTAL TRANSPORTATION ##########*/\r\n  useEffect(() => {\r\n    let value = 0;\r\n    const field = \"totalTransportation\";\r\n\r\n    if (jobType === \"flatRate\" && !!flatAmount) value = Number(flatAmount);\r\n    if (jobType === \"local\" && !!hourlyRate && !!totalHours) {\r\n      console.log({ hourlyRate, totalHours, isTravelFeeFixed, travelFee });\r\n      value = Number(timeToDecimal(totalHours)) * Number(hourlyRate);\r\n      if (!!isTravelFeeFixed && !!travelFee) value += Number(travelFee);\r\n    }\r\n    if (jobType === \"longDistance\" && !!netWeight && !!mileageRate) value = Number(netWeight) * Number(mileageRate);\r\n    value.toString();\r\n\r\n    dispatch({ field, value });\r\n  }, [jobType, flatAmount, totalHours, hourlyRate, netWeight, mileageRate, travelFee, isTravelFeeFixed, dispatch]);\r\n\r\n  /*########## SUBTOTAL ##########*/\r\n  useEffect(() => {\r\n    dispatch({\r\n      field: \"subtotal\",\r\n      value: sum([totalTransportation, totalMiscFees, totalMaterials, totalValuation]).toString(),\r\n    });\r\n  }, [\r\n    totalTransportation,\r\n    totalMiscFees,\r\n    totalMaterials,\r\n    totalValuation,\r\n    // adjustment,\r\n    // totalMovingCharges,\r\n    // totalAmountPaid,\r\n    // remainingBalance,\r\n  ]);\r\n\r\n  // //TODO totalMiscFees\r\n\r\n  /*########## ADJUSTMENT & TOTAL MOVINGCHARGES ##########*/\r\n  useEffect(() => {\r\n    let adjustment = 0;\r\n\r\n    switch (paymentOption) {\r\n      case \"cash\":\r\n        adjustment = -5 / 100;\r\n        break;\r\n      case \"card\":\r\n        adjustment = 3 / 100;\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n\r\n    const adjustmentNumber = Number(subtotal) * adjustment;\r\n    const totalMovingChargesNumber = Number(subtotal) * (1 + Number(adjustment));\r\n\r\n    dispatch({\r\n      type: \"fieldsUpdate\",\r\n      payload: {\r\n        adjustment: money_round(adjustmentNumber).toString(),\r\n        totalMovingCharges: money_round(totalMovingChargesNumber).toString(),\r\n      },\r\n    });\r\n\r\n    return () => {};\r\n  }, [paymentOption, subtotal]);\r\n\r\n  /*########## REMAINING BALANCE ##########*/\r\n  useEffect(() => {\r\n    const remainingBalanceNumber = Number(totalMovingCharges) - Number(totalAmountPaid);\r\n\r\n    dispatch({\r\n      field: \"remainingBalance\",\r\n      value: money_round(remainingBalanceNumber).toString(),\r\n    });\r\n  }, [totalAmountPaid, totalMovingCharges]);\r\n  //TODO totalAmountPaid\r\n\r\n  //TODO remianing balance\r\n\r\n  return (\r\n    <MoveContext.Provider value={state}>\r\n      <MoveDispatchContext.Provider value={dispatch}>{children}</MoveDispatchContext.Provider>\r\n    </MoveContext.Provider>\r\n  );\r\n};\r\n\r\nexport { MoveProvider, useMove, useMoveDispatch };\r\n\r\nfunction sum(arr) {\r\n  if (!!arr) return 0;\r\n  const reducer = (accumulator, currentValue) => (!!currentValue ? accumulator + Number(currentValue) : accumulator);\r\n  const sumIs = arr.reduce(reducer);\r\n  console.log({ sumIs });\r\n  return sumIs;\r\n}\r\n","import { memo } from \"react\";\r\n\r\nexport const SectionTitle = memo(\r\n  ({ title, plus = true, hidePlus = false, Icon = undefined, Icon2 = undefined, onClick, onClick2 }) => {\r\n    return (\r\n      <div className=\"flex justify-between rounded-t-lg text-purple-600 border-b  mt-2 mb-2 bg-gray-200 border-purple-500\">\r\n        <h2 className=\"text-lg  px-4 py-2   font-medium \"> {title}</h2>\r\n        {!hidePlus && (\r\n          <div className=\"text-gray-600 cursor-pointer select-none font-thin flex items-center \">\r\n            {onClick2 && Icon2 && (\r\n              <span onClick={onClick2} className=\"hover:text-purple-500  px-3 rounded-lg  \">\r\n                {Icon2 ? <Icon2 className=\"p-1\" /> : plus ? \"+\" : \"×\"}\r\n              </span>\r\n            )}\r\n            <span onClick={onClick} className=\"  hover:text-purple-500  px-3 rounded-lg   \">\r\n              {Icon ? <Icon className=\"p-1\" /> : plus ? \"+\" : \"×\"}\r\n            </span>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n);\r\n","import React, { memo } from \"react\";\r\nimport { AddCircle, ArrowDropDown, ArrowDropUp } from \"@material-ui/icons\";\r\n\r\nexport const TableFooter = memo(({ showMore, setShowMore, total, handleAdd }) => {\r\n  return (\r\n    <div className=\"text-gray-500  text-xs flex justify-between w-full mx-auto   rounded-b-lg\">\r\n      <div\r\n        onClick={() => handleAdd()}\r\n        className=\"select-none truncate w-1/3 md:w-1/4 flex justify-center items-center shadow-sm bg-white p-2 py-2 rounded-b-md cursor-pointer hover:text-green-800   mr-1\"\r\n      >\r\n        <AddCircle className=\"p-1 mx-2 \" /> Add Custom\r\n      </div>\r\n      <div\r\n        className=\"truncate shadow-sm w-1/3 md:w-1/4 text-xs flex justify-evenly hover:text-gray-800   bg-white  p-2 py-2 rounded-b-md cursor-pointer \"\r\n        onClick={() => setShowMore(!showMore)}\r\n      >\r\n        {showMore ? (\r\n          <span className=\"truncate\">\r\n            Show Less <ArrowDropUp />\r\n          </span>\r\n        ) : (\r\n          <span>\r\n            Show More <ArrowDropDown />\r\n          </span>\r\n        )}\r\n      </div>\r\n      <div className=\"truncate w-1/3 md:w-1/4 shadow-sm flex justify-center bg-white p-2 py-2 rounded-b-md ml-1\">\r\n        Total: <span className=\"px-2\">${total}</span>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n","// import React, { useEffect } from \"react\";\r\nimport { nanoid } from \"nanoid\";\r\nimport { useCallback, useState } from \"react\";\r\nimport { mergeDefaultWProvider } from \"./helperFunctions\";\r\nimport { vibrate } from \"./vibrate\";\r\n\r\nexport const useGroup = (groupName, defaultState, providerState, dispatch) => {\r\n  const [group, setGroup] = useState(mergeDefaultWProvider(defaultState, providerState));\r\n\r\n  const update = useCallback(\r\n    (id, data = {}) => {\r\n      if (!providerState.find((g) => g.id === id)) {\r\n        data = { ...defaultState.find((g) => g.id === id), ...data };\r\n        [\"Icon\", \"Guide\"].forEach((e) => delete data[e]);\r\n      }\r\n      dispatch({ groupName, type: \"groupUpdate\", id, payload: data });\r\n      setGroup((g) => g.map((i) => (id === i.id ? { ...i, ...data } : i)));\r\n    },\r\n    [dispatch, groupName, providerState, defaultState]\r\n  );\r\n  const add = useCallback(\r\n    (propsObj = {}) => {\r\n      const id = nanoid(6);\r\n      const data = { name: `Custom - ${id}`, ...propsObj, isCustom: true };\r\n      dispatch({ groupName, type: \"groupUpdate\", id, payload: data });\r\n      setGroup((g) => [...g, { id, ...data }]);\r\n    },\r\n    [dispatch, groupName]\r\n  );\r\n  const remove = useCallback(\r\n    (id) => {\r\n      dispatch({ groupName, type: \"groupRemove\", id });\r\n      setGroup((g) => g.filter((i) => i.id !== id));\r\n    },\r\n    [dispatch, groupName]\r\n  );\r\n\r\n  const clear = useCallback(() => {\r\n    dispatch({ groupName, type: \"groupClear\" });\r\n    setGroup(defaultState);\r\n    vibrate(500);\r\n  }, [groupName, dispatch, defaultState]);\r\n\r\n  return [group, setGroup, update, add, remove, clear];\r\n};\r\n","import { useState } from \"react\";\r\nimport { Material } from \"./Material\";\r\nimport { defaultMaterials } from \"../../utils/defaultMaterials\";\r\nimport { useMove, useMoveDispatch } from \"../Providers/MoveProvider\";\r\n\r\nimport { SectionTitle } from \"../Layout/SectionTitle\";\r\nimport { TableFooter } from \"../Layout/TableFooter\";\r\nimport { Delete } from \"@material-ui/icons\";\r\nimport { useGroup } from \"../../utils/useGroup\";\r\nimport { filterGroup } from \"../../utils/helperFunctions\";\r\n\r\nexport const MaterialsWProvider = ({ groupName = \"materials\", showMoreDefault = true, state, dispatch, ...rest }) => {\r\n  const { totalMaterials = 0, materials: materialsState = [] } = state;\r\n  const [materials, , update, add, remove, clear] = useGroup(groupName, defaultMaterials, materialsState, dispatch, [\r\n    \"units\",\r\n    \"rate\",\r\n    \"total\",\r\n  ]);\r\n  const [showMore, setShowMore] = useState(showMoreDefault);\r\n  return (\r\n    <>\r\n      <SectionTitle title=\"Materials Used\" Icon={Delete} onClick={clear} />\r\n      <div className=\"flex flex-col mt-2 w-full  mx-auto shadow-sm bg-white rounded-md\">\r\n        {(showMore ? materials : filterGroup(materials, 8, \"units\", (v) => v > 0)).map((m, i) => {\r\n          return <Material key={m.id} handleRemove={remove} handleChange={update} {...m} />;\r\n        })}\r\n      </div>\r\n      <TableFooter showMore={showMore} setShowMore={setShowMore} total={totalMaterials} handleAdd={add} />\r\n    </>\r\n  );\r\n};\r\n\r\nexport const Materials = (props) => {\r\n  const dispatch = useMoveDispatch();\r\n  const move = useMove();\r\n  return <MaterialsWProvider state={move} dispatch={dispatch} {...props} />;\r\n};\r\n","import React, { useRef } from \"react\";\r\n\r\n// import { Clear, Restore } from \"@material-ui/icons/\";\r\n// import useLongPress from \"../../utils/useLongPress\";\r\n\r\nexport const Input = (props) => {\r\n  const {\r\n    name,\r\n    placeholder,\r\n    Icon = undefined,\r\n    type = \"text\",\r\n    inputMode,\r\n    step,\r\n    value,\r\n    onChange,\r\n    readOnly = false,\r\n    // clear = true,\r\n    units = \"\",\r\n    align = \"left\",\r\n    label = \"\",\r\n    min = 0,\r\n  } = props;\r\n\r\n  // const [deletedValue, setDeletedValue] = useState(\"\");\r\n  // const [showLabel, setShowLabel] = useState(false);\r\n\r\n  const inputRef = useRef();\r\n\r\n  // const onClick = () => {\r\n  //   setDeletedValue(\"\");\r\n  //   onChange({ target: { name, value: deletedValue } });\r\n  // };\r\n\r\n  // const onLongPress = () => setDeletedValue(\"\");\r\n\r\n  // const defaultOptions = {\r\n  //   shouldPreventDefault: true,\r\n  //   delay: 1000,\r\n  // };\r\n\r\n  // const longPressEvent = useLongPress(onLongPress, onClick, defaultOptions);\r\n\r\n  return (\r\n    <div className=\"w-full text-sm text-gray-500 focus-within:text-purple-600 max-w-md mx-auto \">\r\n      {!!label && (\r\n        <label htmlFor={name} className=\"text-xs my-1 text-justify pl-2\">\r\n          {label}\r\n        </label>\r\n      )}\r\n      <div className=\"w-full flex justify-between items-center  bg-white rounded-md  border-b-2 focus-within:border-purple-500 \">\r\n        {!!Icon && <Icon className=\"mx-2 \" />}\r\n        <input\r\n          ref={inputRef}\r\n          type={type}\r\n          name={name}\r\n          className={` w-full px-4 py-3 flex-grow focus:text-gray-900 text-${align} bg-transparent`}\r\n          placeholder={placeholder}\r\n          autoComplete=\"off\"\r\n          value={value}\r\n          onChange={onChange}\r\n          onFocus={(e) => e.target.select()}\r\n          step={step}\r\n          readOnly={readOnly}\r\n          inputMode={inputMode}\r\n          min={min}\r\n        />\r\n        <span className=\"  flex items-center pr-2  cursor-pointer opacity-20 focus:opacity-100 hover:opacity-100\">\r\n          {units}\r\n        </span>\r\n      </div>\r\n\r\n      {/* {clear && (value?.length > 0 || (type === \"number\" && value > 0)) ? (\r\n          <span\r\n            className=\"absolute inset-y-0 right-0 flex items-center px-2 cursor-pointer opacity-20 focus:opacity-100 hover:opacity-100\"\r\n            onClick={() => {\r\n              setDeletedValue(value);\r\n              onChange({ target: { name, value: \"\" } });\r\n              inputRef.current.focus();\r\n            }}\r\n          >\r\n            <Clear />\r\n          </span>\r\n        ) : deletedValue ? (\r\n          <span\r\n            className=\"absolute inset-y-0 right-0 flex items-center px-2 cursor-pointer opacity-20 focus:opacity-100 hover:opacity-100\"\r\n            {...longPressEvent}\r\n          >\r\n            <Restore />\r\n          </span>\r\n        ) : null} */}\r\n    </div>\r\n  );\r\n};\r\n","import React, { useEffect } from \"react\";\r\nimport { Input } from \"../Inputs/Input\";\r\nimport { EmojiPeople, Email, Phone, Home, LocalShipping, AddLocation, Remove, Add } from \"@material-ui/icons/\";\r\n\r\nimport { useMove, useMoveDispatch } from \"../Providers/MoveProvider\";\r\nimport { SectionTitle } from \"../Layout/SectionTitle\";\r\n\r\nexport const Client = () => {\r\n  const client = useMove();\r\n  const dispatch = useMoveDispatch();\r\n  const {\r\n    fullName,\r\n    phoneNumber,\r\n    email,\r\n    originAddress,\r\n    destinationAddress,\r\n    additionalStops,\r\n    anyAdditionalStops,\r\n  } = client;\r\n\r\n  const onChange = (e) => dispatch({ field: e.target.name, value: e.target.value });\r\n\r\n  useEffect(() => {\r\n    document.title = fullName ? `${fullName} - move` : \"Bill of Lading\";\r\n  }, [fullName]);\r\n\r\n  // TODO when address autocomplete is done, if address not found\r\n  // (most likely case of newly built house) allow entry of coordinates\r\n\r\n  // TODO autocomplete address\r\n\r\n  // TODO name parse field\r\n\r\n  // TODO phone number field show\r\n\r\n  // TODO phone number mask\r\n\r\n  // TODO add 2nd contact\r\n\r\n  // TODO add autocomplete @ email\r\n\r\n  // TODO calculate distance as the crow flies\r\n\r\n  return (\r\n    <form action=\"\" method=\"post\">\r\n      <SectionTitle title=\"Contact Info\" hidePlus={true} />\r\n      <Input name=\"fullName\" value={fullName} onChange={onChange} Icon={EmojiPeople} placeholder=\"Full Name\" />\r\n      <Input\r\n        name=\"phoneNumber\"\r\n        value={phoneNumber}\r\n        onChange={onChange}\r\n        Icon={Phone}\r\n        placeholder=\"Phone Number\"\r\n        inputMode=\"numeric\"\r\n        // pattern=\"[0-9]{3}-[0-9]{3}-[0-9]{4}\"\r\n        type=\"tel\"\r\n      />\r\n      <Input name=\"email\" value={email} onChange={onChange} Icon={Email} placeholder=\"Email\" type=\"email\" />\r\n      <SectionTitle\r\n        title=\"Locations\"\r\n        onClick={() =>\r\n          dispatch({\r\n            field: \"anyAdditionalStops\",\r\n            value: !anyAdditionalStops,\r\n          })\r\n        }\r\n        Icon={anyAdditionalStops ? Remove : Add}\r\n      />\r\n      <Input\r\n        name=\"originAddress\"\r\n        value={originAddress}\r\n        onChange={onChange}\r\n        Icon={Home}\r\n        placeholder=\"Starting Point (Origin)\"\r\n      />\r\n      {anyAdditionalStops && (\r\n        <Input\r\n          name=\"additionalStops\"\r\n          value={additionalStops}\r\n          onChange={onChange}\r\n          Icon={AddLocation}\r\n          placeholder=\"Other Stops\"\r\n        />\r\n      )}\r\n      <Input\r\n        name=\"destinationAddress\"\r\n        value={destinationAddress}\r\n        onChange={onChange}\r\n        Icon={LocalShipping}\r\n        placeholder=\"End Point (Destination)\"\r\n      />\r\n    </form>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { NavLink, useRouteMatch } from \"react-router-dom\";\r\n\r\nexport const MoveMenu = ({ showSideMenu, setshowSideMenu, navbarPinned }) => {\r\n  const sideMenuStatus = showSideMenu ? \"\" : \"hidden\";\r\n\r\n  const onClick = () => {\r\n    if (!navbarPinned) setshowSideMenu(false);\r\n  };\r\n  return (\r\n    <div className={`  bg-white ${sideMenuStatus}   lg:rounded-b-lg w-full `}>\r\n      <ul className=\"flex flex-col  list-none lg:ml-auto m-4\">\r\n        <MenuLink to=\"client\" text=\"Client\" onClick={onClick} />\r\n        <MenuLink to=\"rates\" text=\"rates\" onClick={onClick} />\r\n        {/* <MenuLink to=\"inventory\" text=\"inventory\" onClick={onClick} /> */}\r\n        <MenuLink to=\"estimate\" text=\"estimate\" onClick={onClick} />\r\n        <MenuLink to=\"materials\" text=\"materials\" onClick={onClick} />\r\n        <MenuLink to=\"overview\" text=\"overview\" onClick={onClick} />\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst MenuLink = ({ to, text, onClick }) => {\r\n  let { url } = useRouteMatch();\r\n  return (\r\n    <li className=\"px-2 nav-item\">\r\n      <NavLink\r\n        className=\"px-3 py-2 flex items-center text-xs uppercase font-bold leading-snug  hover:opacity-75 ml-2 \"\r\n        to={`${url}/${to}`}\r\n        activeClassName=\"text-red-500\"\r\n        onClick={onClick}\r\n        // replace\r\n      >\r\n        {text}\r\n      </NavLink>\r\n    </li>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { NavigateNext, NavigateBefore, NoteAdd, Menu, TurnedIn, TurnedInNot, Clear } from \"@material-ui/icons\";\r\nimport { useLocation, useHistory, useRouteMatch } from \"react-router-dom\";\r\nimport { MoveMenu } from \"./MoveMenu\";\r\n\r\nimport { isMobile } from \"react-device-detect\";\r\n\r\nexport const MoveBottomBar = () => {\r\n  const [showSideMenu, setshowSideMenu] = React.useState(false);\r\n\r\n  const [navbarPinned, setNavbarPinned] = React.useState(false);\r\n\r\n  let { pathname } = useLocation();\r\n  let { url } = useRouteMatch();\r\n\r\n  const newp = pathname.split(\"/\");\r\n\r\n  let history = useHistory();\r\n\r\n  const steps = [\"client\", \"rates\", \"estimate\", \"materials\", \"overview\"];\r\n  const currentIndex = steps.indexOf(newp[newp.length - 1]);\r\n\r\n  const nextStep = () => {\r\n    if (steps.length - 1 > currentIndex) history.push(`${url}/${steps[currentIndex + 1]}`);\r\n  };\r\n\r\n  const previousStep = () => {\r\n    if (0 < currentIndex) history.push(`${url}/${steps[currentIndex - 1]}`);\r\n  };\r\n\r\n  const note = () => {\r\n    return;\r\n  };\r\n\r\n  const menuToggle = () => {\r\n    return setshowSideMenu(!showSideMenu);\r\n  };\r\n\r\n  const isLastStep = currentIndex === steps.length - 1;\r\n\r\n  return (\r\n    <div\r\n      className={\r\n        isMobile\r\n          ? \"fixed bg-white z-10 bottom-0 left-0  w-full border-t\"\r\n          : \" bg-white rounded-lg w-full mt-0 shadow-xs \"\r\n      }\r\n    >\r\n      {isMobile && (\r\n        <MoveMenu showSideMenu={showSideMenu} setshowSideMenu={setshowSideMenu} navbarPinned={navbarPinned} />\r\n      )}\r\n      <div className=\"w-full justify-between flex\">\r\n        <div className=\"flex\">\r\n          <Button onClick={menuToggle} text=\"Menu\" Icon={showSideMenu ? Clear : Menu} iconPosition=\"left\" />\r\n          {showSideMenu && (\r\n            <Button\r\n              onClick={() => {\r\n                setNavbarPinned(!navbarPinned);\r\n              }}\r\n              text=\"Pin Menu\"\r\n              Icon={navbarPinned ? TurnedIn : TurnedInNot}\r\n              iconPosition=\"left\"\r\n              inactive={true}\r\n            />\r\n          )}\r\n        </div>\r\n        <div className=\"flex\">\r\n          <Button onClick={note} text=\"Note\" Icon={NoteAdd} iconPosition=\"left\" />\r\n          <Button\r\n            onClick={previousStep}\r\n            text=\"Previous\"\r\n            Icon={NavigateBefore}\r\n            iconPosition=\"left\"\r\n            inactive={currentIndex === 0}\r\n          />\r\n          <Button onClick={nextStep} text=\"Next\" Icon={NavigateNext} iconPosition=\"right\" inactive={isLastStep} />\r\n        </div>\r\n      </div>\r\n      {!isMobile && (\r\n        <MoveMenu showSideMenu={showSideMenu} setshowSideMenu={setshowSideMenu} navbarPinned={navbarPinned} />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Button = ({ onClick, text, Icon, iconPosition, inactive = false }) => {\r\n  return (\r\n    <button\r\n      className={`flex px-2   text-xs leading-none  py-4 mx-1 border border-solid border-transparent rounded outline-none focus:outline-none `}\r\n      type=\"button\"\r\n      onClick={onClick}\r\n    >\r\n      {iconPosition === \"left\" ? <Icon fontSize=\"small\" color={inactive ? \"disabled\" : \"inherit\"} /> : null}\r\n      {/* <span className=\"hidden md:block\">{text}</span> */}\r\n      {iconPosition === \"right\" ? <Icon fontSize=\"small\" color={inactive ? \"disabled\" : \"inherit\"} /> : null}\r\n    </button>\r\n  );\r\n};\r\n","import { LinkOff } from \"@material-ui/icons\";\r\nimport React from \"react\";\r\nimport { money_round } from \"../../utils/helperFunctions\";\r\n\r\nexport const NoInput = ({ value, label, Icon, unit = \"\", type = \"number\" }) => {\r\n  return (\r\n    <div className=\"flex justify-center w-full  \">\r\n      <div className=\"relative text-gray-600 focus-within:text-red-400 w-full   m-2\">\r\n        <span className=\"absolute text-yellow-800 inset-y-0 left-0 flex items-center pl-2 cursor-pointer\">\r\n          <Icon />\r\n        </span>\r\n        <div className=\"flex justify-evenly items-center w-full   py-3 pr-10 text-sm text-black bg-yellow-50 rounded-md border-b-2 pl-10 focus:outline-none focus:bg-white focus:text-gray-900 text-center font-bold cursor-pointer\">\r\n          <span className=\" w-3/5 font-thin text-xs px-2 truncate\">{label}</span>\r\n          <span className=\"w-1/5\">\r\n            {unit === \"$\" && unit + \" \"}\r\n            {type === \"number\"\r\n              ? money_round(value)\r\n                  ?.toString()\r\n                  .replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")\r\n              : value?.toString()}\r\n          </span>\r\n\r\n          <span className=\"font-thin text-xs px-2 truncate w-1/5\">{unit !== \"$\" && unit}</span>\r\n        </div>\r\n\r\n        <span className=\"absolute inset-y-0 right-0 flex items-center px-2 cursor-pointer opacity-20 focus:opacity-100 hover:opacity-100\">\r\n          <LinkOff />\r\n        </span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import { Fragment, useEffect } from \"react\";\r\nimport { Listbox, Transition } from \"@headlessui/react\";\r\nimport { Check, UnfoldMore } from \"@material-ui/icons\";\r\n\r\nexport default function Select({\r\n  name,\r\n  label = \"Travel Fee\",\r\n  options = [],\r\n  value,\r\n  dispatch,\r\n  defaultValueIndex = undefined,\r\n}) {\r\n  const onChange = (v) => {\r\n    if (v === value) return;\r\n    if (value?.onDeselect) value.onDeselect();\r\n    if (v?.onSelect) v.onSelect();\r\n    dispatch({ field: name, value: v });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!value && !!options && !!defaultValueIndex)\r\n      dispatch({\r\n        type: \"fieldsUpdate\",\r\n        payload: { [name]: options[defaultValueIndex], isTravelFeeFixed: true },\r\n      });\r\n  }, [value]);\r\n\r\n  return (\r\n    <div className=\"flex flex-col justify-start  w-full text-sm text-gray-500 focus-within:text-purple-600 max-w-md mx-auto \">\r\n      {!!label && (\r\n        <label htmlFor={name} className=\"text-xs mt-1 text-justify pl-2\">\r\n          {label}\r\n        </label>\r\n      )}\r\n      <Listbox value={value} onChange={onChange}>\r\n        {({ open }) => (\r\n          <>\r\n            <div className=\"relative \">\r\n              <Listbox.Button className=\"min-h-[20px] border-b-2 focus-within:border-purple-500 px-4 py-3 relative w-full pr-10 text-right bg-white rounded-lg focus:outline-none focus-visible:ring-2 focus-visible:ring-opacity-75 focus-visible:ring-white focus-visible:ring-offset-orange-300 focus-visible:ring-offset-2 focus-visible:border-indigo-500 sm:text-sm\">\r\n                <span className=\"block truncate\">{value?.label}</span>\r\n                <span className=\"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none\">\r\n                  <UnfoldMore className=\"w-5 h-5 text-gray-400\" aria-hidden=\"true\" />\r\n                </span>\r\n              </Listbox.Button>\r\n              <Transition\r\n                show={open}\r\n                as={Fragment}\r\n                leave=\"transition ease-in duration-100\"\r\n                leaveFrom=\"opacity-100\"\r\n                leaveTo=\"opacity-0\"\r\n              >\r\n                <Listbox.Options className=\"absolute w-full py-1 mt-1 overflow-auto text-base bg-white rounded-md shadow-lg max-h-60 ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm z-20\">\r\n                  {options.map((option, optionIdx) => (\r\n                    <Listbox.Option\r\n                      key={optionIdx}\r\n                      className={({ active }) =>\r\n                        `${active ? \"text-amber-900 bg-amber-100\" : \"text-gray-900\"}\r\n                          cursor-default select-none relative py-2 pl-10 pr-4`\r\n                      }\r\n                      value={option}\r\n                    >\r\n                      {({ selected, active }) => (\r\n                        <>\r\n                          <span className={`${selected ? \"font-medium\" : \"font-normal\"} block truncate`}>\r\n                            {option.label}\r\n                          </span>\r\n                          {selected ? (\r\n                            <span\r\n                              className={`${active ? \"text-amber-600\" : \"text-amber-600\"}\r\n                                absolute inset-y-0 left-0 flex items-center pl-3`}\r\n                            >\r\n                              <Check className=\"w-5 h-5\" aria-hidden=\"true\" />\r\n                            </span>\r\n                          ) : (\r\n                            option?.Icon && (\r\n                              <span className=\"absolute inset-y-0 left-0 flex items-center pl-3\">\r\n                                <option.Icon className=\"w-5 h-5\" aria-hidden=\"true\" />\r\n                              </span>\r\n                            )\r\n                          )}\r\n                        </>\r\n                      )}\r\n                    </Listbox.Option>\r\n                  ))}\r\n                </Listbox.Options>\r\n              </Transition>\r\n            </div>\r\n          </>\r\n        )}\r\n      </Listbox>\r\n    </div>\r\n  );\r\n}\r\n","import { ArrowDropDown, Check, UnfoldMore } from \"@material-ui/icons\";\r\nimport React, { useState, useEffect, useRef, Fragment } from \"react\";\r\nimport { Scrollbars } from \"react-custom-scrollbars-2\";\r\nimport { Listbox, Transition } from \"@headlessui/react\";\r\nimport { useLayer, Arrow } from \"react-laag\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\n\r\nlet hrs = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24];\r\nlet mins = [\"00\", 15, 30, 45];\r\n\r\nconst scrollToRef = (ref) => window.scrollTo(0, ref.current.offsetTop);\r\n\r\nconst scrollTo = (ref) => {\r\n  if (ref /* + other conditions */) {\r\n    ref.scrollIntoView({ behavior: \"smooth\", block: \"start\" });\r\n  }\r\n};\r\n\r\nexport const TimeInput = (props) => {\r\n  const { name, label = \"\", value, dispatch, defaultValueIndex = undefined, Icon } = props;\r\n\r\n  const refs = hrs.reduce((acc, value) => {\r\n    acc[value] = React.createRef();\r\n    return acc;\r\n  }, {});\r\n\r\n  const handleClick = (id) => {\r\n    if (refs[id])\r\n      refs[id].current.scrollIntoView({\r\n        behavior: \"smooth\",\r\n        block: \"start\",\r\n      });\r\n  };\r\n\r\n  const [time, setTime] = useState({ hours: \"\", minutes: \"\" });\r\n  const [isOpen, setOpen] = useState(false);\r\n  const [wasHoursSelected, setHoursSelected] = useState(false);\r\n\r\n  const minuteRef = useRef(null);\r\n  const selectedHourRef = useRef(null);\r\n  const executeScroll = () => scrollTo(selectedHourRef);\r\n\r\n  const KEYBAORD_EVENTS = [\"Enter\", \"Tab\", \",\", \".\", \":\", \" \", \"-\"];\r\n  //TODO fix on mobile\r\n  const handleKeyDownHours = (ev) => {\r\n    if (KEYBAORD_EVENTS.includes(ev.key)) {\r\n      ev.preventDefault();\r\n      minuteRef && minuteRef.current.focus();\r\n    }\r\n  };\r\n\r\n  const onChange = (v) => {\r\n    setTime((t) => ({ ...t, ...v }));\r\n    const key = Object.keys(v)[0];\r\n    handleClick(v[key]);\r\n    if (key === \"hours\") setHoursSelected(true);\r\n    if (wasHoursSelected && key !== \"hours\") close();\r\n  };\r\n\r\n  const onInputHoursChange = (e) => {\r\n    setTime((t) => ({ ...t, hours: e.target.value }));\r\n  };\r\n  const onInputMinutesChange = (e) => {\r\n    setTime((t) => ({ ...t, minutes: e.target.value }));\r\n  };\r\n\r\n  const setCurrentTime = (e) => {\r\n    e.preventDefault();\r\n    const now = new Date();\r\n    setTime({ hours: now.getHours(), minutes: now.getMinutes() });\r\n  };\r\n\r\n  function close() {\r\n    setOpen(false);\r\n    setHoursSelected(false);\r\n  }\r\n\r\n  function open() {\r\n    setOpen(true);\r\n    executeScroll();\r\n  }\r\n\r\n  const { renderLayer, triggerProps, layerProps, arrowProps } = useLayer({\r\n    isOpen,\r\n    onOutsideClick: close, // close the menu when the user clicks outside\r\n    onDisappear: close, // close the menu when the menu gets scrolled out of sight\r\n    overflowContainer: false, // keep the menu positioned inside the container\r\n    auto: true, // automatically find the best placement\r\n    placement: \"bottom-end\", // we prefer to place the menu \"top-end\"\r\n    triggerOffset: 0, // keep some distance to the trigger\r\n    containerOffset: 0, // give the menu some room to breath relative to the container\r\n    arrowOffset: 0, // let the arrow have some room to breath also\r\n  });\r\n\r\n  return (\r\n    <div className=\"flex  justify-between   text-sm text-gray-500 focus-within:text-purple-600\">\r\n      {!!label && (\r\n        <label htmlFor={name} className=\"text-xs mt-1 \" onClick={() => (isOpen ? open() : close())}>\r\n          {!!Icon && <Icon className=\" mr-2\" />}\r\n          {label} {isOpen}\r\n        </label>\r\n      )}\r\n\r\n      <Listbox value={time} onChange={onChange}>\r\n        {({ open }) => (\r\n          <>\r\n            <div className=\"relative flex  items-center  focus-within:border-purple-500  text-right text-xs w-max\">\r\n              <input\r\n                name=\"hoursInput\"\r\n                type=\"number\"\r\n                className=\"p-1 w-6 text-right border-b bg-transparent\"\r\n                onFocus={(e) => e.target.select()}\r\n                min=\"0\"\r\n                max=\"24\"\r\n                step=\"1\"\r\n                placeholder=\"hh\"\r\n                onKeyDown={handleKeyDownHours}\r\n                onChange={onInputHoursChange}\r\n                value={time.hours || \"\"}\r\n              />\r\n              <span className=\"px-1 \">:</span>\r\n              <input\r\n                name=\"minutesInput\"\r\n                type=\"number\"\r\n                ref={minuteRef}\r\n                className=\"p-1 w-6 text-left border-b  bg-transparent\"\r\n                onFocus={(e) => e.target.select()}\r\n                min=\"0\"\r\n                max=\"59\"\r\n                step=\"1\"\r\n                placeholder=\"mm\"\r\n                onChange={onInputMinutesChange}\r\n                value={time.minutes || \"\"}\r\n              />\r\n              <div\r\n                className=\"ml-2  focus:outline-none focus-visible:ring-2 focus-visible:ring-opacity-75 focus-visible:ring-white focus-visible:ring-offset-orange-300 focus-visible:ring-offset-2 focus-visible:border-indigo-500 \"\r\n                {...triggerProps}\r\n                onClick={() => setOpen(!isOpen)}\r\n              >\r\n                <UnfoldMore className=\"p-1\" aria-hidden=\"true\" />\r\n              </div>\r\n              {renderLayer(\r\n                <AnimatePresence>\r\n                  {isOpen && (\r\n                    <Listbox.Options\r\n                      {...layerProps}\r\n                      static={true}\r\n                      className=\"w-40 py-1  h-64 overflow-hidden  flex text-base bg-white rounded-md shadow-lg max-h-60 ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm z-20\"\r\n                    >\r\n                      <div name=\"other\" className=\"absolute bottom-2 right-2 text-xs\">\r\n                        <button className=\"bg-blue-400 py-1 px-2 rounded-md text-white\" onClick={setCurrentTime}>\r\n                          Now\r\n                        </button>\r\n                      </div>\r\n                      <div className=\"absolute left-2 text-xs text-gray-500 mx-auto text-center \">Hours</div>\r\n                      <Scrollbars name=\"hours\" className=\"w-full mt-4\">\r\n                        {hrs.map((h, hid) => (\r\n                          <Listbox.Option\r\n                            key={hid}\r\n                            className={({ active }) =>\r\n                              `${active ? \"text-amber-900 bg-amber-100\" : \"text-gray-900\"}\r\n                      cursor-default select-none pb-1 px-4`\r\n                            }\r\n                            value={{ hours: h }}\r\n                          >\r\n                            {({ active }) => {\r\n                              const selected = time?.hours === h;\r\n                              return (\r\n                                <div\r\n                                  className={`w-full cursor-pointer hover:bg-pink-50 pr-2  ${\r\n                                    selected ? \"font-medium bg-pink-300\" : \"font-normal \"\r\n                                  }`}\r\n                                  ref={refs[h]}\r\n                                >\r\n                                  {h}\r\n                                </div>\r\n                              );\r\n                            }}\r\n                          </Listbox.Option>\r\n                        ))}\r\n                      </Scrollbars>\r\n                      <div name=\"minutes\" className=\"w-full px-2\">\r\n                        <div className=\"text-xs text-gray-500 mx-auto text-center pb-2\">Minutes</div>\r\n                        {mins.map((m, mid) => (\r\n                          <Listbox.Option\r\n                            key={mid}\r\n                            className={({ active }) =>\r\n                              `${active ? \"text-amber-900 bg-amber-100\" : \"text-gray-900\"}\r\n                          cursor-default select-none relative  `\r\n                            }\r\n                            value={{ minutes: m }}\r\n                          >\r\n                            {({ selected, active }) => (\r\n                              <div\r\n                                // onClick={() => {\r\n                                //   setTime((t) => ({ ...t, minutes: m }));\r\n                                //   if (wasHoursSelected) close();\r\n                                // }}\r\n                                className={`w-full cursor-pointer hover:bg-pink-50 pr-2  ${\r\n                                  selected ? \"font-medium\" : \"font-normal\"\r\n                                }`}\r\n                              >\r\n                                {m}\r\n                              </div>\r\n                            )}\r\n                          </Listbox.Option>\r\n                        ))}\r\n                      </div>\r\n                      <Arrow {...arrowProps} />\r\n                    </Listbox.Options>\r\n                  )}\r\n                </AnimatePresence>\r\n              )}\r\n            </div>\r\n          </>\r\n        )}\r\n      </Listbox>\r\n    </div>\r\n  );\r\n\r\n  //   return (\r\n  //     <div\r\n  //       className=\"flex justify-center w-28 relative max-w-md mx-auto my-2\"\r\n  //       onClick={() => setShowDropdown(!showDropdown)}\r\n  //     >\r\n  //       <DropDown showDropdown={showDropdown} hour={hour} setHour={setHour} minutes={minutes} setMinutes={setMinutes} />\r\n  //       <div className=\"relative text-gray-600 focus-within:text-red-400 w-full \">\r\n  //         <span className=\"absolute  inset-y-0 left-0 flex items-center pl-2 cursor-pointer\">\r\n  //           <Icon />\r\n  //         </span>\r\n  //         <div className=\"flex justify-evenly items-center w-full   py-3 pr-10 text-sm text-black bg-yellow-50 rounded-md border-b-2 pl-10 focus:outline-none focus:bg-white focus:text-gray-900 text-center font-bold cursor-pointer\">\r\n  //           <span className=\"w-3/5\">{hour.toString() + \":\" + minutes.toString()}</span>\r\n  //         </div>\r\n\r\n  //         <span className=\"absolute inset-y-0 right-0 flex items-center px-2 cursor-pointer opacity-20 focus:opacity-100 hover:opacity-100\">\r\n  //           <ArrowDropDown />\r\n  //         </span>\r\n  //       </div>\r\n  //     </div>\r\n  //   );\r\n  // };\r\n\r\n  // const DropDown = ({ showDropdown, setHour, setMinutes, hour, minutes }) => {\r\n  //   let hrs = [];\r\n  //   for (let i = 1; i < 24; i++) {\r\n  //     hrs[i] = i;\r\n  //   }\r\n\r\n  //   return (\r\n  //     showDropdown && (\r\n  //       <div className=\"absolute bg-white rounded-md z-10 top-10 w-full m-2 flex shadow-xl \">\r\n  //         <Scrollbars style={{ height: \"100%\", minHeight: \"30vh\", width: \"66%\" }} className=\"w-1/2\">\r\n  //           <ul className=\"mr-3\">\r\n  //             {hrs.map((hr, i) => (\r\n  //               <li\r\n  //                 key={i}\r\n  //                 onClick={() => setHour(hr)}\r\n  //                 className=\"text-right pb-1 pr-2 hover:bg-yellow-300 cursor-pointer\"\r\n  //               >\r\n  //                 {hr}\r\n  //               </li>\r\n  //             ))}\r\n  //           </ul>\r\n  //         </Scrollbars>\r\n  //         <ul className=\"w-3/7\">\r\n  //           {[\"00\", \"15\", \"30\", \"45\"].map((min, i) => (\r\n  //             <li key={i} onClick={() => setMinutes(min)} className=\"p-4 hover:bg-yellow-300 cursor-pointer\">\r\n  //               {min}\r\n  //             </li>\r\n  //           ))}\r\n\r\n  //           <li\r\n  //             onClick={() => setMinutes(\"current minutes\")}\r\n  //             className=\"m-2 p-2 rounded-md  bg-blue-600 hover:bg-blue-800 cursor-pointer text-white\"\r\n  //           >\r\n  //             Now\r\n  //           </li>\r\n  //         </ul>\r\n  //       </div>\r\n  //     )\r\n  //   );\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Input } from \"../Inputs/Input\";\r\n\r\nimport {\r\n  Timelapse,\r\n  HourglassEmpty,\r\n  Restore,\r\n  Update,\r\n  Timer,\r\n  AlarmOn,\r\n  LocalOffer,\r\n  Clear,\r\n  LinkOff,\r\n} from \"@material-ui/icons/\";\r\n\r\nimport { useMove, useMoveDispatch } from \"../Providers/MoveProvider\";\r\n\r\nimport { NoInput } from \"../Inputs/NoInput\";\r\nimport Select from \"../Inputs/Select\";\r\nimport { money_round } from \"../../utils/helperFunctions\";\r\nimport { nanoid } from \"nanoid\";\r\nimport { TimeInput } from \"../Inputs/TimeInput\";\r\n\r\n// import { TimeInput } from \"../Inputs/TimeInput\";\r\n\r\nexport const Local = () => {\r\n  const client = useMove();\r\n  const dispatch = useMoveDispatch();\r\n  const onChange = (e) => dispatch({ field: e.target.name, value: e.target.value });\r\n\r\n  const addBreak = (e) => {\r\n    e.preventDefault();\r\n    dispatch({ field: \"breakTime\", value: [...(breakTime || []), { id: nanoid(4) }] });\r\n  };\r\n  const removeBreak = (id) => {\r\n    return (e) => {\r\n      e.preventDefault();\r\n      dispatch({\r\n        field: \"breakTime\",\r\n        value: breakTime.filter((b) => {\r\n          return b.id !== id;\r\n        }),\r\n      });\r\n    };\r\n  };\r\n\r\n  const { isTravelFeeFixed, hourlyRate, totalHours, startTime, endTime, arriveTime, departTime, breakTime } = client;\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"flex max-w-md mx-auto space-x-2\">\r\n        <Input\r\n          name=\"hourlyRate\"\r\n          value={hourlyRate}\r\n          onChange={onChange}\r\n          placeholder=\"Hourly Rate\"\r\n          Icon={LocalOffer}\r\n          label=\"Hourly Rate\"\r\n          type=\"number\"\r\n          units=\"$/hr\"\r\n          align=\"right\"\r\n          min=\"0\"\r\n        />\r\n        <TravelTime />\r\n      </div>\r\n\r\n      {!isTravelFeeFixed && (\r\n        <div className=\"flex space-x-2 max-w-md w-full mx-auto\">\r\n          <Input\r\n            name=\"startTime\"\r\n            value={startTime}\r\n            onChange={onChange}\r\n            Icon={Timer}\r\n            placeholder=\"Start\"\r\n            label=\"Start\"\r\n            type=\"time\"\r\n            align=\"left\"\r\n          />\r\n          <Input\r\n            name=\"endTime\"\r\n            value={endTime}\r\n            onChange={onChange}\r\n            Icon={AlarmOn}\r\n            placeholder=\"End\"\r\n            label=\"End\"\r\n            type=\"time\"\r\n            align=\"left\"\r\n          />\r\n        </div>\r\n      )}\r\n      <div className=\"flex max-w-md m-2 space-x-2 bg-white py-2 px-4 rounded-md border-b-2 mx-auto\">\r\n        <div className=\"w-full\">\r\n          <TimeInput\r\n            name=\"arriveTime\"\r\n            value={arriveTime}\r\n            field=\"arriveTime\"\r\n            onChange={onChange}\r\n            label=\"Arrive\"\r\n            Icon={Restore}\r\n          />\r\n        </div>\r\n        <div className=\"w-full\">\r\n          <TimeInput\r\n            name=\"departTime\"\r\n            value={departTime}\r\n            field=\"departTime\"\r\n            onChange={onChange}\r\n            label=\"Depart\"\r\n            Icon={Update}\r\n          />\r\n        </div>\r\n      </div>\r\n      {/* <h2>Time</h2> */}\r\n      {/* <div className=\"flex\">\r\n          <div className=\"flex-row\">\r\n            <label htmlFor=\"arriveTime\" className=\" px-2\">\r\n              Arrive\r\n            </label>\r\n            <TimeInput\r\n              name=\"arriveTime\"\r\n              value={arriveTime}\r\n              field=\"arriveTime\"\r\n              onChange={onChange}\r\n              placeholder=\"Arrive\"\r\n              Icon={Restore}\r\n            />\r\n          </div>\r\n          <div className=\"flex-row\">\r\n            <label htmlFor=\"departTime\" className=\" px-2\">\r\n              Depart\r\n            </label>\r\n            <TimeInput name=\"departTime\" value={departTime} onChange={onChange} placeholder=\"Depart\" Icon={Update} />\r\n          </div>\r\n        </div> */}\r\n      {/* <div className=\"flex space-x-2 max-w-md w-full mx-auto\">\r\n        <Input\r\n          name=\"arriveTime\"\r\n          value={arriveTime}\r\n          onChange={onChange}\r\n          Icon={Restore}\r\n          placeholder=\"Arrive\"\r\n          label=\"Arrive\"\r\n          type=\"time\"\r\n          align=\"left\"\r\n        />\r\n        <Input\r\n          name=\"departTime\"\r\n          value={departTime}\r\n          onChange={onChange}\r\n          Icon={Update}\r\n          placeholder=\"Depart\"\r\n          label=\"Depart\"\r\n          type=\"time\"\r\n          align=\"left\"\r\n        />\r\n      </div> */}\r\n      {!!breakTime && breakTime.map((b, idx) => <BreakTime removeBreak={removeBreak} breakId={b?.id} idx={idx} />)}\r\n      <div className=\"text-xs my-2 flex  \">\r\n        <button className=\"mx-auto   rounded-md flex items-center text-gray-700\" onClick={addBreak}>\r\n          <HourglassEmpty className=\"p-1\" />\r\n          <span className=\"pr-2\">Add a Break</span>\r\n        </button>\r\n      </div>\r\n\r\n      <NoInput value={totalHours?.toString()} Icon={Timelapse} type=\"time\" unit=\"Hrs\" label=\"Total Time\" />\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nconst TravelTime = (props) => {\r\n  const client = useMove();\r\n  const dispatch = useMoveDispatch();\r\n\r\n  const { isTravelFeeFixed, hourlyRate, travelTime } = client;\r\n  console.log(\"travel time render\", travelTime);\r\n\r\n  const times = [\r\n    {\r\n      label: \"Not Fixed\",\r\n      isCustom: true,\r\n      Icon: Clear,\r\n      onSelect: () => {\r\n        dispatch({ field: \"isTravelFeeFixed\", value: false });\r\n      },\r\n      onDeselect: () => {\r\n        dispatch({ field: \"isTravelFeeFixed\", value: true });\r\n      },\r\n    },\r\n    { label: \"0:00 \", value: 0 },\r\n    { label: \"0:15\", value: 0.25 },\r\n    { label: \"0:30 \", value: 0.5 },\r\n    { label: \"0:45 \", value: 0.75 },\r\n    { label: \"1:00 \", value: 1 },\r\n    { label: \"1:15 \", value: 1.25 },\r\n    { label: \"1:30 \", value: 1.5 },\r\n    { label: \"1:45 \", value: 1.75 },\r\n    { label: \"2:00 \", value: 2 },\r\n    { label: \"More... \", isCustom: true },\r\n  ];\r\n\r\n  if (hourlyRate)\r\n    times.map((t) => {\r\n      if (!t?.isCustom) t.label += ` ($${money_round(Number(hourlyRate) * t.value)})`;\r\n      return t;\r\n    });\r\n  useEffect(() => {\r\n    if (!!isTravelFeeFixed && !!hourlyRate)\r\n      dispatch({\r\n        field: \"travelTime\",\r\n        value: {\r\n          ...travelTime,\r\n          label: travelTime.label.split(\" \")[0] + ` ($${money_round(Number(hourlyRate) * travelTime.value)})`,\r\n        },\r\n      });\r\n  }, [hourlyRate]);\r\n\r\n  return <Select name=\"travelTime\" value={travelTime} dispatch={dispatch} options={times} defaultValueIndex=\"5\" />;\r\n};\r\n\r\nconst BreakTime = ({ removeBreak, breakId, idx }) => {\r\n  const [timeType, setTimeType] = useState(\"duration\");\r\n\r\n  const onChange = (e) => setTimeType(e.target.value);\r\n  //TODO break cannot be before or after start times\r\n  return (\r\n    <div className=\"flex flex-col justify-start  w-full text-sm text-gray-500 focus-within:text-purple-600 max-w-md mx-auto \">\r\n      <label htmlFor={breakId} className=\"text-xs mt-1 text-justify pl-2\">\r\n        {`Break #${idx + 1}`}\r\n      </label>\r\n      <div className=\"flex justify-between space-x-1 py-1  w-full max-w-md mx-auto bg-white rounded-md mt-1 border-b-2  text-gray-600 text-xs items-center px-4 \">\r\n        <select name=\"\" id=\"\" className=\"border px-1 py-1  rounded-md\" onChange={onChange} value={timeType}>\r\n          <option value=\"duration\">Total</option>\r\n          <option value=\"interval\">Start/End</option>\r\n        </select>\r\n        {timeType === \"duration\" && (\r\n          <select className=\"border text-center px-1 py-1  rounded-md\">\r\n            <option>15 min</option>\r\n            <option>30 min</option>\r\n            <option>45 min</option>\r\n            <option>1 hr</option>\r\n            <option>1 hr 15 min</option>\r\n            <option>1 hr 30 min</option>\r\n          </select>\r\n        )}\r\n        {timeType === \"interval\" && (\r\n          <div className=\"flex items-center\">\r\n            <span>from</span> <input className=\"border rounded-md py-1 px-1 w-16 mx-1 text-center\" />\r\n            <span>to</span> <input className=\"border rounded-md py-1 px-1 w-16 mx-1 text-center\" />\r\n            <span>is</span>{\" \"}\r\n            <div className=\"border cursor-pointer border-yellow-400 bg-yellow-50 rounded-md py-1 px-1 w-16 mx-1 text-center\">\r\n              1:00\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        <button className=\"p-1 \" onClick={removeBreak(breakId)}>\r\n          <Clear className=\"p-1\" />\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\n//   const buttons = [\r\n//     { value: \"local\", placeholder: \"Local (Hourly)\", Icon: AccessTime },\r\n//     { value: \"flatRate\", placeholder: \"Flat Rate\", Icon: CreditCard },\r\n//     { value: \"longDistance\", placeholder: \"Long Distance\", Icon: LocalShipping },\r\n//   ];\r\n\r\nexport const ButtonSelect = ({\r\n  onClick,\r\n  name,\r\n  defaultValue,\r\n  buttons,\r\n  value = defaultValue || buttons[0].value,\r\n  vertical = false,\r\n} = {}) => {\r\n  if (!buttons) return null;\r\n  const handleChange = (value) => onClick({ target: { name, value } });\r\n\r\n  return (\r\n    <div\r\n      className={`flex text-gray-600  ${\r\n        vertical ? \"flex-col\" : \"justify-around\"\r\n      } w-full flex-wrap px-2 my-4 select-none `}\r\n    >\r\n      {buttons.map((button, index) => (\r\n        <Button key={index} onClick={handleChange} selected={value} {...button} />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Button = ({ value, placeholder, onClick, selected, Icon, isDisabled = false }) => {\r\n  const isSelected = selected === value;\r\n  return (\r\n    <div\r\n      className={`rounded-md focus:outline-none truncate flex-grow  flex flex-col md:flex-row items-center  flex-wrap  text-xs sm:text-sm px-2    cursor-pointer  ${\r\n        isSelected ? \"text-gray-800  border-2 border-gray-600  font-semibold  \" : \"\"\r\n      } `}\r\n      onClick={() => !isDisabled && !isSelected && onClick(value)}\r\n    >\r\n      <Icon fontSize=\"small\" color={isDisabled ? \"disabled\" : \"inherit\"} className=\"md:m-1\" />\r\n      <span className={isDisabled ? \"text-gray-400\" : \"\"}> {placeholder}</span>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useEffect } from \"react\";\r\nimport { Input } from \"../Inputs/Input\";\r\nimport {\r\n  SettingsEthernet,\r\n  LocalShippingOutlined,\r\n  LocalShippingTwoTone,\r\n  FitnessCenter,\r\n  LocalOffer,\r\n  SettingsOverscan,\r\n  Receipt,\r\n} from \"@material-ui/icons/\";\r\n\r\nimport { useMove, useMoveDispatch } from \"../Providers/MoveProvider\";\r\n\r\n// import { ChipsInput } from \"../Inputs/ChipsInput\";\r\nimport { ButtonSelect } from \"../Inputs/ButtonSelect\";\r\nimport { NoInput } from \"../Inputs/NoInput\";\r\n// import { TimeInput } from \"../Inputs/TimeInput\";\r\n\r\nexport const LongDistance = () => {\r\n  const client = useMove();\r\n  const dispatch = useMoveDispatch();\r\n\r\n  const onChange = (e) => dispatch({ field: e.target.name, value: e.target.value });\r\n\r\n  const { distance, grossWeight, tareWeight, netWeight, mileageRate, cubicWeight, weightType } = client;\r\n\r\n  useEffect(() => {\r\n    if (!weightType)\r\n      dispatch({\r\n        field: \"weightType\",\r\n        value: \"cubicWeight\",\r\n      });\r\n    return () => {};\r\n  }, [weightType, dispatch]);\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"flex\">\r\n        <div className=\"flex flex-col justify-center   w-1/2\">\r\n          <label htmlFor=\"distance\" className=\"text-xs text-center\">\r\n            Distance\r\n          </label>\r\n\r\n          <Input\r\n            units=\"miles\"\r\n            name=\"distance\"\r\n            value={distance}\r\n            onChange={onChange}\r\n            placeholder=\"Distance\"\r\n            Icon={SettingsEthernet}\r\n          />\r\n        </div>\r\n        <div className=\"flex flex-col justify-center   w-1/2\">\r\n          <label htmlFor=\"mileageRate\" className=\"text-xs text-center\">\r\n            Mileage Rate\r\n          </label>\r\n          <Input\r\n            name=\"mileageRate\"\r\n            value={mileageRate}\r\n            onChange={onChange}\r\n            placeholder=\"Mileage Rate\"\r\n            Icon={LocalOffer}\r\n            units=\"$/lbs.\"\r\n          />\r\n        </div>\r\n      </div>\r\n      <WeightType onClick={onChange} value={weightType} />\r\n      {weightType === \"weightTicket\" && (\r\n        <React.Fragment>\r\n          <div className=\"flex\">\r\n            <div className=\"flex flex-col justify-center  w-1/2\">\r\n              {/* <label htmlFor=\"grossWeight\" className=\"text-xs text-center\">\r\n                  Gross Weight (lbs.)\r\n                </label> */}\r\n              <Input\r\n                name=\"grossWeight\"\r\n                value={grossWeight}\r\n                onChange={onChange}\r\n                placeholder=\"Gross Weight\"\r\n                Icon={LocalShippingTwoTone}\r\n                units=\"lbs.\"\r\n              />\r\n            </div>\r\n            <div className=\"flex flex-col justify-center   w-1/2\">\r\n              {/* <label htmlFor=\"tareWeight\" className=\"text-xs text-center\">\r\n                  Tare Weight (lbs.)\r\n                </label> */}\r\n              <Input\r\n                name=\"tareWeight\"\r\n                value={tareWeight}\r\n                onChange={onChange}\r\n                placeholder=\"Tare Weight\"\r\n                Icon={LocalShippingOutlined}\r\n                units=\"lbs.\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <NoInput value={netWeight} Icon={FitnessCenter} unit=\"lbs.\" label=\"Net Weight\" />\r\n        </React.Fragment>\r\n      )}\r\n      {weightType === \"cubicWeight\" && (\r\n        // <label htmlFor=\"netWeight\" className=\"text-xs text-center\">\r\n        //   Net Weight (lbs.)\r\n        // </label>\r\n        <Input\r\n          name=\"cubicWeight\"\r\n          value={cubicWeight}\r\n          onChange={onChange}\r\n          placeholder=\"Cubic Weight\"\r\n          units=\"lbs.\"\r\n          Icon={FitnessCenter}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst WeightType = (props) => {\r\n  const dateTypes = [\r\n    { value: \"cubicWeight\", placeholder: \"Cubic Weight\", Icon: SettingsOverscan },\r\n    { value: \"weightTicket\", placeholder: \"Weight Ticket\", Icon: Receipt },\r\n  ];\r\n  return <ButtonSelect name=\"weightType\" buttons={dateTypes} {...props} />;\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { Input } from \"../Inputs/Input\";\r\n\r\nimport { useMove, useMoveDispatch } from \"../Providers/MoveProvider\";\r\n\r\nexport const FlatRate = () => {\r\n  const [showHelp, setshowHelp] = useState(false);\r\n  const client = useMove();\r\n  const dispatch = useMoveDispatch();\r\n\r\n  const { flatIsMaterialsIncluded } = client;\r\n\r\n  const onChange = (e) => dispatch({ field: e.target.name, value: e.target.value });\r\n\r\n  const { flatAmount } = client;\r\n\r\n  const explanation =\r\n    \"Is this flat amount just for the transportation/labor, or are all the materials included in price?\";\r\n\r\n  return (\r\n    <div>\r\n      <Input\r\n        name=\"flatAmount\"\r\n        value={flatAmount}\r\n        onChange={onChange}\r\n        placeholder=\"Flat Amount\"\r\n        Icon={() => <span>$</span>}\r\n      />\r\n      <input\r\n        name=\"flatIsMaterialsIncluded\"\r\n        className=\"mr-5 ml-3\"\r\n        checked={flatIsMaterialsIncluded}\r\n        onChange={() => {\r\n          dispatch({\r\n            field: \"flatIsMaterialsIncluded\",\r\n            value: !flatIsMaterialsIncluded,\r\n          });\r\n        }}\r\n        placeholder=\"Total Valuation Cost\"\r\n        type=\"checkbox\"\r\n      />\r\n      <label htmlFor=\"flatIsMaterialsIncluded\">\r\n        Materials included?\r\n        <span className=\"text-xs  cursor-pointer select-none pl-4\" onClick={() => setshowHelp(!showHelp)}>\r\n          {!showHelp ? \"> \" : \"x \"} Help\r\n        </span>\r\n      </label>\r\n      {showHelp && <span className=\"block\">{explanation}</span>}\r\n    </div>\r\n  );\r\n};\r\n","import { RadioGroup } from \"@headlessui/react\";\r\nimport { Check, Warning } from \"@material-ui/icons\";\r\n\r\nfunction isObjempty(obj) {\r\n  for (var i in obj) return false;\r\n  return true;\r\n}\r\n\r\nexport function Radio(props) {\r\n  const {\r\n    showPrice = false,\r\n    options = [],\r\n    groupName = \"\",\r\n    row = false,\r\n    dense = false,\r\n    name = \"\",\r\n    value = \"\",\r\n    dispatch = () => {},\r\n  } = props;\r\n\r\n  const onChange = (option) => {\r\n    console.log(option);\r\n    dispatch({ field: name, value: option });\r\n  };\r\n\r\n  if (isObjempty(options))\r\n    return (\r\n      <div className=\"bg-yellow-500 p-4 rounded-md text-yellow-800 text-center bg-opacity-70\">\r\n        <Warning className=\"p-1\" /> No options provided\r\n      </div>\r\n    );\r\n\r\n  return (\r\n    <RadioGroup value={value} onChange={onChange} className=\"w-full  mx-auto py-2 text-xs text-gray-900 select-none\">\r\n      {groupName && (\r\n        <RadioGroup.Label className=\"text-black mx-auto w-full flex justify-center my-1\">{groupName}</RadioGroup.Label>\r\n      )}\r\n      <div className={` flex ${row ? \"flex-row justify-around space-x-2\" : \"flex-col space-y-2 max-w-md mx-auto\"}`}>\r\n        {options.map((option) => (\r\n          <RadioGroup.Option\r\n            key={option.name}\r\n            value={option.value}\r\n            disabled={option.disabled}\r\n            className={({ active, checked, disabled }) =>\r\n              `w-full  border-b-2 rounded-lg bg-white  cursor-pointer focus:outline-none flex items-center justify-between hover:bg-purple-100 bg-opacity-75 overflow-hidden\r\n                    ${active && \"ring-2 ring-offset-2 ring-offset-purple-300 ring-white ring-opacity-60 \"}\r\n                    ${checked && \"bg-purple-900 border-purple-700   text-white shadow-md hover:bg-purple-800\"}\r\n                    ${disabled && \"text-gray-400 \"}\r\n                    ${dense ? \"px-1 py-1 \" : \"px-4 py-3 \"}`\r\n            }\r\n          >\r\n            {({ active, checked, disabled }) => (\r\n              <>\r\n                {option.Icon && <option.Icon className={`${dense ? \"mr-1 p-1\" : \"mr-2\"}`} />}\r\n                <RadioGroup.Label as=\"p\" className=\"font-medium truncate flex-grow\">\r\n                  {option.name}\r\n                </RadioGroup.Label>\r\n                <div className=\"flex items-center flex-shrink-0 ml-1\">\r\n                  {showPrice ? (\r\n                    <>\r\n                      <RadioGroup.Description\r\n                        as=\"span\"\r\n                        className={`whitespace-nowrap ${!!checked ? \"text-purple-100\" : \"text-gray-500\"}`}\r\n                      >\r\n                        {option && option.price && isNaN(option.price) ? option.price : `$ ${option?.price}`}\r\n                      </RadioGroup.Description>\r\n                      <div className=\"flex-shrink-0 flex items-center text-white w-4 h-4 mx-2\">\r\n                        {checked && <Check className=\"p-1\" />}\r\n                      </div>\r\n                    </>\r\n                  ) : (\r\n                    checked && <Check className=\"p-1\" />\r\n                  )}\r\n                </div>\r\n              </>\r\n            )}\r\n          </RadioGroup.Option>\r\n        ))}\r\n      </div>\r\n    </RadioGroup>\r\n  );\r\n}\r\n","import React, { useEffect } from \"react\";\r\nimport { AccessTime, LocalShipping, CreditCard, LocalOfferTwoTone } from \"@material-ui/icons/\";\r\nimport { SectionTitle } from \"../Layout/SectionTitle\";\r\n\r\nimport { useMove, useMoveDispatch } from \"../Providers/MoveProvider\";\r\n\r\n// import { ChipsInput } from \"../Inputs/ChipsInput\";\r\n// import { ButtonSelect } from \"../Inputs/ButtonSelect\";\r\nimport { NoInput } from \"../Inputs/NoInput\";\r\nimport { Local } from \"./Local\";\r\nimport { LongDistance } from \"./LongDistance\";\r\nimport { FlatRate } from \"./FlatRate\";\r\nimport { Radio } from \"../Inputs/Radio\";\r\n// import { TimeInput } from \"../Inputs/TimeInput\";\r\n\r\nexport const Rates = () => {\r\n  const client = useMove();\r\n  const dispatch = useMoveDispatch();\r\n\r\n  const onChange = (e) => dispatch({ field: e.target.name, value: e.target.value });\r\n\r\n  const { totalTransportation, jobType } = client;\r\n\r\n  useEffect(() => {\r\n    if (!jobType)\r\n      dispatch({\r\n        field: \"jobType\",\r\n        value: \"local\",\r\n      });\r\n    return () => {};\r\n  }, [jobType, dispatch]);\r\n\r\n  return (\r\n    <form method=\"post\">\r\n      <SectionTitle title=\"Job Type\" hidePlus={true} />\r\n      <JobType onClick={onChange} value={jobType} />\r\n\r\n      {/* <SectionTitle title=\"Crew\" hidePlus={true} /> */}\r\n      {/* <ChipsInput name=\"personnel\" chips={personnel} /> */}\r\n      {/* <DropDown /> */}\r\n\r\n      {jobType === \"flatRate\" && <FlatRate />}\r\n      {jobType === \"longDistance\" && <LongDistance />}\r\n      {jobType === \"local\" && <Local />}\r\n      <NoInput value={totalTransportation} Icon={LocalOfferTwoTone} unit=\"$\" label=\"Total Transportation\" />\r\n    </form>\r\n  );\r\n};\r\n\r\n// function timeToDecimal(t) {\r\n//   var arr = t.split(\":\");\r\n//   var dec = parseInt((arr[1] / 6) * 10, 10);\r\n\r\n//   return parseFloat(parseInt(arr[0], 10) + \".\" + (dec < 10 ? \"0\" : \"\") + dec);\r\n// }\r\n\r\nconst JobType = (props) => {\r\n  const client = useMove();\r\n  const dispatch = useMoveDispatch();\r\n\r\n  const { jobType } = client;\r\n\r\n  const jobTypes = [\r\n    { value: \"local\", name: \"Local (Hourly)\", Icon: AccessTime },\r\n    { value: \"flatRate\", name: \"Flat Rate\", Icon: CreditCard },\r\n    { value: \"longDistance\", name: \"Long Distance\", Icon: LocalShipping },\r\n  ];\r\n\r\n  return (\r\n    <Radio name=\"jobType\" value={jobType} dispatch={dispatch} options={jobTypes} row=\"true\" dense=\"true\" {...props} />\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Input } from \"../Inputs/Input\";\r\nimport { FitnessCenter } from \"@material-ui/icons/\";\r\n\r\nimport { useMove, useMoveDispatch } from \"../Providers/MoveProvider\";\r\n\r\nexport const Inventory = () => {\r\n  const client = useMove();\r\n  const dispatch = useMoveDispatch();\r\n  const { estimatedWeight } = client;\r\n\r\n  const onChange = (e) => dispatch({ field: e.target.name, value: e.target.value });\r\n\r\n  return (\r\n    <div>\r\n      Inventory\r\n      <Input\r\n        name=\"estimatedWeight\"\r\n        value={estimatedWeight}\r\n        onChange={onChange}\r\n        Icon={FitnessCenter}\r\n        placeholder=\"Estimated Weight\"\r\n        type=\"number\"\r\n      />\r\n      <div className=\"bg-red-500\"></div>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useRef } from \"react\";\r\nimport { trimCanvas } from \"../../utils/helperFunctions\";\r\n// import trimCanvas from \"trim-canvas\";\r\n// import SignatureCanvas from \"react-signature-canvas\";\r\nimport SignaturePad from \"react-signature-pad-wrapper\";\r\n\r\nexport const SignatureBlock = ({ type = \"Initial\", name, width = 500, height = 200, dispatch = () => {} }) => {\r\n  // const [imageURL, setImageURL] = useState(null);\r\n\r\n  const sigCanvas = useRef({});\r\n\r\n  const clear = () => {\r\n    sigCanvas.current.clear();\r\n    dispatch({ field: name, value: \"\" });\r\n  };\r\n\r\n  const save = (e) => {\r\n    const url = trimCanvas(sigCanvas.current._canvas).toDataURL(\"image/png\");\r\n    // setImageURL(url);\r\n    dispatch({ field: name, value: url });\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-col pt-2\">\r\n      {/* <h2>{name}</h2> */}\r\n      <div className=\" w-full relative\">\r\n        <div className=\"rounded-lg p-1 bg-gray-300 bg-opacity-50 relative \">\r\n          <div className=\"w-4/5 mx-auto border-t-2 absolute bottom-6 z-0 left-0 right-0 text-center text-gray-400 select-none\">\r\n            {type}\r\n          </div>\r\n          <SignaturePad\r\n            // penColor=\"blue\"\r\n            options={{ onEnd: save, penColor: \"rgb(66, 133, 244)\", minWidth: 3, maxWidth: 5 }}\r\n            canvasProps={{\r\n              width,\r\n              height,\r\n              className: \"bg-white bg-opacity-50 rounded-lg z-10\",\r\n            }}\r\n            // onEnd={save}\r\n            ref={sigCanvas}\r\n          />\r\n        </div>\r\n        <button\r\n          className=\"bg-gray-400 bg-opacity-50 no select-none hover:bg-opacity-100 text-xs p-2 m-2 text-white absolute top-0 right-0 rounded-lg\"\r\n          onClick={clear}\r\n        >\r\n          Reset\r\n        </button>\r\n        {/* {imageURL ? (\r\n          <img\r\n            src={imageURL}\r\n            alt=\"my signature\"\r\n            style={{\r\n              display: \"block\",\r\n              margin: \"0 auto\",\r\n              border: \"1px solid black\",\r\n              width: \"500px\",\r\n            }}\r\n          />\r\n        ) : null} */}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import { Gesture, LockOpen, Clear } from \"@material-ui/icons\";\r\nimport React, { useState } from \"react\";\r\nimport { SignatureBlock } from \"../Inputs/SignatureBlock\";\r\n\r\nexport const SignButton = ({ label = \"Sign\", dispatch, name, type }) => {\r\n  const [showSignBlock, setShowSignBlock] = useState(false);\r\n\r\n  const toggleShowBlock = () => setShowSignBlock(!showSignBlock);\r\n\r\n  return (\r\n    <>\r\n      <div className=\"flex flex-col justify-center items-center w-full max-w-md mx-auto \">\r\n        {showSignBlock ? (\r\n          <div className=\"mt-1 flex flex-col justify-center items-center w-full mb-6\">\r\n            <SignatureBlock dispatch={dispatch} name={name} type={type} />\r\n            <div className=\"flex space-x-4\">\r\n              <button\r\n                className=\"hover:bg-gray-300 text-gray-500 px-6 uppercase py-2 my-4 rounded-md\"\r\n                onClick={toggleShowBlock}\r\n              >\r\n                <Clear className=\"mr-2\" />\r\n                Cancel\r\n              </button>\r\n              <button\r\n                className=\"bg-green-500 hover:bg-green-800 text-white px-6 uppercase py-2 my-4 rounded-md\"\r\n                onClick={toggleShowBlock}\r\n              >\r\n                <LockOpen className=\"mr-2\" />\r\n                Complete\r\n              </button>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <button\r\n            className=\"text-blue-500  hover:bg-gray-300 px-6 uppercase py-2 mt-2 rounded-md w-full font-bold\"\r\n            onClick={toggleShowBlock}\r\n          >\r\n            <Gesture className=\"mr-2\" />\r\n            {label}\r\n          </button>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n","import React, { useEffect } from \"react\";\r\nimport { Lock, LockOpen } from \"@material-ui/icons/\";\r\n\r\nimport { useMove, useMoveDispatch } from \"../Providers/MoveProvider\";\r\nimport { SectionTitle } from \"../Layout/SectionTitle\";\r\n// import { ButtonSelect } from \"../Inputs/ButtonSelect\";\r\nimport { SignButton } from \"./SignButton\";\r\nimport { Radio } from \"../Inputs/Radio\";\r\n\r\nexport const Estimate = () => {\r\n  // const [hasSigned, setHasSigned] = useState(false);\r\n  const client = useMove();\r\n  const dispatch = useMoveDispatch();\r\n  const {\r\n    estimateIsBinding,\r\n    /*agreedToEstimate, estimateAgreedDate,*/ bindingEstimateExists = true,\r\n    estimateInitial,\r\n  } = client;\r\n\r\n  const onChange = (e) => dispatch({ field: e.target.name, value: e.target.value });\r\n\r\n  const buttons = [\r\n    {\r\n      value: false,\r\n      name: \"Non Binding\",\r\n      Icon: LockOpen,\r\n    },\r\n    { value: true, name: \"Binding\", Icon: Lock, isDisabled: !bindingEstimateExists },\r\n  ];\r\n\r\n  useEffect(() => {\r\n    if (estimateIsBinding === undefined)\r\n      dispatch({\r\n        field: \"estimateIsBinding\",\r\n        value: false,\r\n      });\r\n  }, [estimateIsBinding, dispatch]);\r\n\r\n  return (\r\n    <>\r\n      <SectionTitle title=\"Estimate\" hidePlus={true} />\r\n      <Radio\r\n        onClick={onChange}\r\n        name=\"estimateIsBinding\"\r\n        value={estimateIsBinding}\r\n        dispatch={dispatch}\r\n        options={buttons}\r\n        row={true}\r\n      />\r\n      <SignButton label=\"initial\" dispatch={dispatch} name=\"estimateInitial\" value={estimateInitial} />\r\n      {/* <div>\r\n        <input\r\n          name=\"agreedToEstimate\"\r\n          className=\"mr-5 ml-3\"\r\n          checked={agreedToEstimate}\r\n          onChange={() => {\r\n            dispatch({\r\n              field: \"agreedToEstimate\",\r\n              value: !agreedToEstimate,\r\n            });\r\n          }}\r\n          placeholder=\"Total Valuation Cost\"\r\n          type=\"checkbox\"\r\n        />\r\n        <label htmlFor=\"agreedToEstimate\">Agreed to estimate?</label>\r\n        {agreedToEstimate && (\r\n          <Input\r\n            name=\"estimateAgreedDate\"\r\n            value={estimateAgreedDate}\r\n            onChange={onChange}\r\n            Icon={EventAvailable}\r\n            placeholder=\"Agreed Date\"\r\n          />\r\n        )}\r\n      </div> */}\r\n    </>\r\n  );\r\n};\r\n\r\n/* <pre>{JSON.stringify(client, 0, 2)}</pre> */\r\n","import { PDFDocument } from \"pdf-lib\";\r\nimport { truncateString } from \"./helperFunctions\";\r\n\r\nexport async function fillBOLForm(client) {\r\n  //const pdf =  http://localhost:3000/material-calculator/pdf/bol.pdf\r\n  const pdf = \"pdf/bol-sfm-fonts.pdf\";\r\n  const baseUrl = window.location.origin.toString() + process.env.PUBLIC_URL + \"/\";\r\n  const formUrl = baseUrl + pdf;\r\n  const formPdfBytes = await fetch(formUrl).then((res) => res.arrayBuffer());\r\n\r\n  const pdfDoc = await PDFDocument.load(formPdfBytes);\r\n\r\n  const pages = pdfDoc.getPages();\r\n  const form = pdfDoc.getForm();\r\n\r\n  const setField = (pdfField, value, condition = false) => {\r\n    if (!pdfField || !value || condition) return;\r\n    if (Array.isArray(value)) value = value.join(\", \");\r\n    return form.getTextField(pdfField);\r\n  };\r\n\r\n  const setSignature = async (signature, x, y, width = 25, height = 12) => {\r\n    if (!signature || !x || !y) return;\r\n    const bytes = await fetch(signature).then((res) => res.arrayBuffer());\r\n    const image = await pdfDoc.embedPng(bytes);\r\n    console.log(image.height, image.width);\r\n    const ratio = image.width / image.height;\r\n    return pages[0].drawImage(image, { x, y, height, width: ratio * height });\r\n  };\r\n\r\n  const setDateField = (date, x, y, size = 10) => {\r\n    if (!date || !x || !y) return;\r\n    return pages[0].drawText(date, { x, y, size });\r\n  };\r\n\r\n  //A. CUSTOMER INFORMATION\r\n  setField(\"Name\", client.fullName);\r\n  setField(\"EMAIL\", client.email);\r\n  setField(\"PHONE\", client.phoneNumber);\r\n  setField(\"Origin\", client.originAddress);\r\n  if (client.anyAdditionalStops === true) setField(\"Other Stops\", client.additionalStops);\r\n  setField(\"Destination\", client.destinationAddress);\r\n  setField(\"Notes\", client.notes);\r\n\r\n  //B. ESTIMATE TYPE\r\n  client.estimateIsBinding\r\n    ? await setSignature(client.estimateInitial, 24, 373)\r\n    : await setSignature(client.estimateInitial, 24, 462);\r\n\r\n  //C. VALUATION\r\n  if (client.valuation === \"basic\") await setSignature(client.valuationInitials, 24, 323);\r\n  if (client.valuation === \"replacementWithDeductible\") await setSignature(client.valuationInitials, 24, 275);\r\n  setField(\"valuation with deductible\", client.valuationCostWithDeductible);\r\n  if (client.valuation === \"replacement\") await setSignature(client.valuationInitials, 24, 222);\r\n  setField(\"valuation no deductible\", client.valuationCost);\r\n  setField(\"Shipment Value\", client.shipmentValue);\r\n  setField(\"Selected Valuation\", client.totalValuation);\r\n\r\n  // AGREE TO CONTRACT - CREW & CUSTOMER SIGNATURES\r\n  await setSignature(client.agreeToMoveSignature, 24, 95, 150, 35);\r\n  if (client.agreedToEstimate) {\r\n    setDateField(client.estimateAgreedDate || client.dates[0], 238, 103);\r\n  }\r\n  if (client.crewLeadAssigned) {\r\n    await setSignature(client.crewSignature, 24, 65, 150, 35);\r\n    setDateField(client.dates[0], 238, 73);\r\n  }\r\n\r\n  //APPENDIX INITIALS\r\n  if (client.appendixExists) await setSignature(client.initials, 29, 39, 20, 8);\r\n\r\n  //D.TIME, MILES, MATERIALS, RATES\r\n  setField(\"PERSONNEL\", client.personnel);\r\n\r\n  if (client.jobType === \"local\") {\r\n    if (client.isTravelFeeFixed) {\r\n      setField(\"Travel Fee\", client.travelFee);\r\n    } else {\r\n      setField(\"Hourly Time Start\", client.startTime);\r\n      setField(\"Hourly Time End\", client.endTime);\r\n    }\r\n    setField(\"Hourly Time Arrive\", client.arriveTime);\r\n    setField(\"Hourly Time Depart\", client.departTime);\r\n    setField(\"Hourly Time Breaks\", client.breakTime);\r\n    setField(\"Hourly Time TOTAL\", client.totalHours);\r\n    setField(\"Hourly Rate\", client.hourlyRate);\r\n  }\r\n  if (client.jobType === \"longDistance\") {\r\n    setField(\"Mileage Miles\", client.distance);\r\n    if (client.weightType === \"weightTicket\") {\r\n      setField(\"Mileage Weight Gross\", client.grossWeight);\r\n      setField(\"Mileage Weight Tare\", client.tareWeight);\r\n    }\r\n    setField(\"Mileage Weight Net\", client.netWeight);\r\n    setField(\"Mileage Rate\", client.mileageRate);\r\n  }\r\n  setField(\"Total Transportation\", client.totalTransportation);\r\n\r\n  //PACKING & MATERIAL\r\n  client?.materials\r\n    ?.filter((m) => m.units > 0)\r\n    .forEach((item, index) => {\r\n      const i = index + 1;\r\n      if (index < 9) {\r\n        //TODO remainder send to appendix\r\n        setField(`C${i}`, item.name);\r\n        setField(`QTY C${i}`, item.units);\r\n        setField(`RATE C${i}`, item.rate);\r\n        setField(`TOTAL C${i}`, item.total);\r\n      }\r\n    });\r\n  setField(\"TOTAL PACKING  MATERIAL\", client.totalMaterials);\r\n\r\n  //MISC FEES\r\n  client?.miscFees\r\n    ?.filter((m) => m.value > 0 && m.selected)\r\n    .forEach((item, i) => {\r\n      if (i < 8) {\r\n        //TODO remainder send to appendix\r\n        setField(`M${i + 1}`, truncateString(item.name, 9));\r\n        setField(`AMOUNT M${i + 1}`, item.value);\r\n      }\r\n    });\r\n  setField(\"TOTAL OTHER\", client.totalMiscFees);\r\n\r\n  //E. TOTAL CHARGES\r\n  setField(\"SUBTOTAL 1234\", client.subtotal);\r\n  setField(\"AdjustmentText\", client.adjustmentText);\r\n  setField(\"Adjustment\", client.adjustment);\r\n  setField(\"TOTAL MOVING CHARGES\", client.totalMovingCharges);\r\n  setField(\"TOTAL AMOUNT PAID\", client.totalAmountPaid);\r\n  setField(\"BalanceDueText\", client.balanceDueText);\r\n  setField(\"TIPS  BALANCE DUE\", client.remainingBalance);\r\n\r\n  if (client.jobComplete) {\r\n    await setSignature(client.signature, 320, 32, 150, 35);\r\n    setDateField(client.dates[0], 530, 40);\r\n  }\r\n\r\n  form.flatten();\r\n  const pdfBytes = await pdfDoc.save();\r\n  return pdfBytes;\r\n\r\n  // ;\r\n}\r\n","import { fillBOLForm } from \"../../utils/fillBOLForm\";\r\nimport { useMove } from \"../Providers/MoveProvider\";\r\n\r\nexport const Overview = () => {\r\n  const client = useMove();\r\n\r\n  return (\r\n    <div className=\"w-full\">\r\n      <br></br>\r\n      <button className=\"bg-gray-700 p-2 m-2 text-white\" onClick={() => fillBOLForm(client)}>\r\n        Get bill of lading\r\n      </button>\r\n\r\n      {/* <PreviewPDF client={client} /> */}\r\n    </div>\r\n  );\r\n};\r\n","import {\r\n  DeleteSweep,\r\n  DirectionsBoat,\r\n  DirectionsRun,\r\n  HotTub,\r\n  LocalParking,\r\n  Straighten,\r\n  TwoWheeler,\r\n  Weekend,\r\n  Widgets,\r\n} from \"@material-ui/icons\";\r\n\r\nconst Piano = ({ setValue } = {}) => {\r\n  const value = \"33\";\r\n\r\n  return (\r\n    <div className=\"flex flex-col  justify-between items-center  rounded-md border-b bg-white m-1 p-2\">\r\n      <span>Piano Guide</span>\r\n      <span className=\"text-xs text-gray-400\">\r\n        This guide should show how to set price when item was unexpected and management is unavailable\r\n      </span>\r\n      <div>\r\n        <button\r\n          className=\"text-xs bg-blue-800 rounded-md text-white p-2 m-2\"\r\n          onClick={() => setValue && setValue(value)}\r\n        >\r\n          Set value to ${value}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const defaultMiscFees = [\r\n  {\r\n    id: \"IRmJsc\",\r\n    name: \"Piano\",\r\n    defaultAmount: \"125\",\r\n    Icon: Straighten,\r\n    Guide: Piano,\r\n  },\r\n  {\r\n    id: \"zz7cX7\",\r\n    name: \"Removal (Dump/Donate)\",\r\n    defaultAmount: \"50\",\r\n    pre: \"starts at\",\r\n    Icon: DeleteSweep,\r\n  },\r\n  {\r\n    id: \"KD83m2\",\r\n    name: \"Hoist\",\r\n    defaultAmount: \"350\",\r\n    Icon: Weekend,\r\n  },\r\n  {\r\n    id: \"RtoY57\",\r\n    name: \"Tolls/Ferry\",\r\n    defaultAmount: \"185\",\r\n    Icon: DirectionsBoat,\r\n  },\r\n  {\r\n    id: \"PobHV7\",\r\n    name: \"Storage\",\r\n    defaultAmount: \"100\",\r\n    Icon: Widgets,\r\n  },\r\n  {\r\n    id: \"odrUhV\",\r\n    name: \"Storage Labor\",\r\n    defaultAmount: \"2\",\r\n    Icon: DirectionsRun,\r\n  },\r\n  {\r\n    id: \"3qgVEX\",\r\n    name: \"Bulky\",\r\n    defaultAmount: \"1\",\r\n    Icon: TwoWheeler,\r\n  },\r\n  {\r\n    id: \"gs7eW8\",\r\n    name: \"Hot tub\",\r\n    defaultAmount: \"2\",\r\n    Icon: HotTub,\r\n  },\r\n  {\r\n    id: \"cZYuHW\",\r\n    name: \"Permits\",\r\n    defaultAmount: \"2\",\r\n    Icon: LocalParking,\r\n  },\r\n];\r\n","import { ArrowDropDown, ArrowRight, CheckBoxOutlineBlank, CheckBoxTwoTone, Delete } from \"@material-ui/icons\";\r\nimport React from \"react\";\r\nimport { defaultMiscFees } from \"../../utils/defaultMiscFees\";\r\nimport { SectionTitle } from \"../Layout/SectionTitle\";\r\nimport { TableFooter } from \"../Layout/TableFooter\";\r\nimport { useMove, useMoveDispatch } from \"../Providers/MoveProvider\";\r\nimport { useGroup } from \"../../utils/useGroup\";\r\nimport { filterGroup } from \"../../utils/helperFunctions\";\r\n\r\nexport const MiscFees = ({ groupName = \"miscFees\", showMoreDefault = true }) => {\r\n  const move = useMove();\r\n  const dispatch = useMoveDispatch();\r\n\r\n  const { totalMiscFees = 0, miscFees = [] } = move;\r\n  const [fees, , update, add, remove, clear] = useGroup(groupName, defaultMiscFees, miscFees, dispatch);\r\n\r\n  const [showMore, setShowOnlySelected] = React.useState(showMoreDefault);\r\n  const [justAdded, setJustAdded] = React.useState(false);\r\n  const feeRefs = React.useRef([]);\r\n\r\n  const feesFilter = filterGroup(fees, 4, \"selected\", (v) => v);\r\n\r\n  feeRefs.current = (showMore ? fees : feesFilter).map((f, i) => (feeRefs.current[i] = React.createRef()));\r\n\r\n  React.useEffect(() => {\r\n    if (justAdded) {\r\n      feeRefs.current[\r\n        feeRefs.current.length - 1\r\n      ]?.current?.parentNode?.parentNode?.parentNode?.firstChild?.lastChild?.firstChild?.focus();\r\n      setJustAdded(false);\r\n    }\r\n  }, [justAdded, setJustAdded]);\r\n\r\n  return (\r\n    <>\r\n      <SectionTitle title=\"Misc Fees\" onClick={clear} hidePlus={!!miscFees && miscFees.length === 0} Icon={Delete} />\r\n      <div className=\"mt-2 bg-white rounded-t-md w-full mx-auto\">\r\n        {(showMore ? fees : feesFilter).map((fee, i) => {\r\n          return <Fee key={i} update={update} inputref={feeRefs.current[i]} remove={remove} {...fee} />;\r\n        })}\r\n      </div>\r\n      <TableFooter\r\n        showMore={showMore}\r\n        setShowMore={setShowOnlySelected}\r\n        total={totalMiscFees}\r\n        handleAdd={() => {\r\n          add({ selected: true });\r\n          setJustAdded(true);\r\n        }}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nconst Fee = ({\r\n  name = \"\",\r\n  defaultAmount = 0,\r\n  value = \"\",\r\n  update,\r\n  inputref = null,\r\n  selected = false,\r\n  Icon = undefined,\r\n  Guide = undefined,\r\n  pre = \"\",\r\n  isCustom = false,\r\n  id,\r\n  remove,\r\n  ...rest\r\n}) => {\r\n  const [showGuide, setShowGuide] = React.useState(false);\r\n\r\n  const toggleShowGuide = () => setShowGuide((s) => !s);\r\n\r\n  const setFromGuide = (value) => {\r\n    update(id, { value, selected: true });\r\n  };\r\n\r\n  const toggleSelected = (e = null) => {\r\n    if (e?.target?.name !== \"nameInput\") update(id, { selected: !selected, value: value ? value : defaultAmount });\r\n  };\r\n  return (\r\n    <>\r\n      <div\r\n        data-id={`fee-${id}`}\r\n        className=\"flex flex-col text-gray-800 text-sm cursor-pointer bg-white odd:bg-gray-50\"\r\n        {...rest}\r\n      >\r\n        <div\r\n          className={`flex  justify-between items-center    border-b ${\r\n            selected === true ? \" bg-green-50 hover:bg-green-100\" : `  hover:bg-purple-100`\r\n          }`}\r\n        >\r\n          <div className=\"flex flex-grow p-2 w-3/5\" onClick={toggleSelected}>\r\n            <span>{selected ? <CheckBoxTwoTone className=\"text-green-800\" /> : <CheckBoxOutlineBlank />}</span>\r\n            <span className=\"px-2\">\r\n              {Icon ? (\r\n                <Icon />\r\n              ) : (\r\n                <span className=\"bg-gray-800 text-white px-2 py-1 text-xs uppercase rounded-md\">\r\n                  {(name && name[0]) || \"C\"}\r\n                </span>\r\n              )}\r\n            </span>\r\n            <span className=\" px-2 truncate \">\r\n              {isCustom ? (\r\n                <input\r\n                  name=\"nameInput\"\r\n                  value={name}\r\n                  onFocus={(e) => e.target.select()}\r\n                  onKeyPress={(e) => {\r\n                    if (e.key === \"Enter\") inputref.current.focus();\r\n                  }}\r\n                  onChange={(e) => update(id, { name: e.target.value })}\r\n                  className=\"`w-full  p-1 bg-transparent  text-md border-b-2 focus:border-green-700 hover:border-green-700  cursor-pointer             \"\r\n                />\r\n              ) : (\r\n                `${name}`\r\n              )}\r\n            </span>\r\n          </div>\r\n          <div>\r\n            <div className=\"pr-3 relative\">\r\n              {selected && <span className=\"absolute top-1 select-none text-gray-500\">$</span>}\r\n              <input\r\n                name=\"amountInput\"\r\n                value={value}\r\n                type=\"number\"\r\n                ref={inputref}\r\n                min=\"0\"\r\n                onChange={(e) => update(id, { value: e.target.value })}\r\n                onKeyPress={(e) => {\r\n                  if (e.key === \"Enter\") e.target.blur();\r\n                }}\r\n                onFocus={(e) => e.target.select()}\r\n                className={`w-20 text-right p-1 bg-transparent  text-md border-b-2 focus:border-green-700 hover:border-green-700  cursor-pointer ${\r\n                  selected || isCustom ? \"\" : \"hidden\"\r\n                }`}\r\n              />\r\n              <span\r\n                name=\"usualPrice\"\r\n                onClick={toggleSelected}\r\n                className={`font-thin text-xs px-2 nowrap w-2/5 ${selected || isCustom ? \"hidden\" : \"\"}`}\r\n              >{`${pre ? pre : \"usually \"} $${defaultAmount}`}</span>\r\n            </div>\r\n          </div>\r\n\r\n          <span className=\"px-2  opacity-20 focus:opacity-100 hover:opacity-100\">\r\n            {isCustom ? (\r\n              <Delete className=\"p-1\" onClick={() => remove(id)} />\r\n            ) : Guide ? (\r\n              showGuide ? (\r\n                <ArrowDropDown onClick={toggleShowGuide} />\r\n              ) : (\r\n                <ArrowRight onClick={toggleShowGuide} />\r\n              )\r\n            ) : (\r\n              <div className=\"w-6\"></div>\r\n            )}\r\n          </span>\r\n        </div>\r\n      </div>\r\n      {showGuide && Guide && <Guide setValue={setFromGuide} />}\r\n    </>\r\n  );\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { Route, Switch, useRouteMatch, useParams } from \"react-router-dom\";\r\nimport { Materials } from \"./Materials\";\r\nimport { Client } from \"./Client\";\r\nimport { MoveBottomBar } from \"./MoveBottomBar\";\r\nimport { Rates } from \"./Rates\";\r\nimport { Inventory } from \"./Inventory\";\r\nimport { Estimate } from \"./Estimate\";\r\nimport { Overview } from \"./Overview\";\r\nimport { MoveProvider } from \"../Providers/MoveProvider\";\r\nimport { MiscFees } from \"./MiscFees\";\r\nimport { useSelector } from \"react-redux\";\r\n// import { useFirestore } from \"react-redux-firebase\";\r\n\r\nconst urls = ({ path, url }) => ({\r\n  current: path,\r\n  redirect: `${url}/client`,\r\n\r\n  ...Object.fromEntries(\r\n    [\"materials\", \"client\", \"rates\", \"estimates\", \"inventory\", \"overview\"].map((u) => [u, `${path}/${u}`])\r\n  ),\r\n});\r\n\r\nexport const Move = () => {\r\n  const [links] = useState(urls(useRouteMatch()));\r\n  let { moveId } = useParams();\r\n\r\n  const move = useSelector(({ firestore: { data } }) => data.moves && data.moves[moveId]);\r\n  // const firestore = useFirestore();\r\n\r\n  // function toggleDone() {\r\n  //   firestore.update(`moves/${moveId}`, { done: !move.done });\r\n  // }\r\n\r\n  // function deleteTodo() {\r\n  //   return firestore.delete(`moves/${moveId}`);\r\n  // }\r\n\r\n  return (\r\n    <>\r\n      <button onClick={() => console.log(move)}>log it</button>\r\n      <MoveBottomBar />\r\n      <div className=\"flex flex-col items-stretch w-full sm:w-3/4 mx-auto lg:w-1/2 pb-10\">\r\n        <MoveProvider>\r\n          <Switch>\r\n            {/* <Route exact path={links.current} render={() => <Redirect to={links.redirect} />} /> */}\r\n\r\n            <Route path={links.overview}>\r\n              <Overview />\r\n            </Route>\r\n            <Route path={links.materials}>\r\n              <Materials />\r\n              <br></br>\r\n              <MiscFees />\r\n            </Route>\r\n            <Route path={links.client}>\r\n              <Client />\r\n            </Route>\r\n\r\n            <Route path={links.rates}>\r\n              <Rates />\r\n            </Route>\r\n\r\n            <Route path={links.inventory}>\r\n              <Inventory />\r\n            </Route>\r\n            <Route path={links.estimate}>\r\n              <Estimate />\r\n            </Route>\r\n          </Switch>\r\n        </MoveProvider>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n","export const PaymentType = ({ onChange, value }) => {\r\n  const paymentOptions = [\r\n    { label: \"Cash \", value: \"cash\", adjustmentRate: \"-5%\" },\r\n    { label: \"Check\", value: \"check\", adjustmentRate: \"0\" },\r\n    { label: \"Card \", value: \"card\", adjustmentRate: \"3%\" },\r\n    { label: \"Billed Later \", value: \"billLater\" },\r\n  ];\r\n\r\n  return (\r\n    <select\r\n      name=\"paymentOption\"\r\n      value={value}\r\n      onChange={onChange}\r\n      className=\"m-2 w-full  py-2 pr-6 text-sm text-black bg-white rounded-md pl-2 focus:outline-none focus:bg-white focus:text-gray-900\"\r\n    >\r\n      {paymentOptions.map((p) => (\r\n        <option key={p.label} value={p.value}>\r\n          {p.label.toString()}\r\n        </option>\r\n      ))}\r\n      <option onSelect={() => console.log(\"more\")}>More...</option>\r\n    </select>\r\n  );\r\n};\r\n","// This example shows you how to set up React Stripe.js and use Elements.\r\n// Learn how to accept a payment using the official Stripe docs.\r\n// https://www.stripe.com/docs/payments/integration-builder\r\n\r\nimport React, { useState } from \"react\";\r\nimport { loadStripe } from \"@stripe/stripe-js\";\r\nimport { CardElement, Elements, useElements, useStripe } from \"@stripe/react-stripe-js\";\r\n// import \"./card.css\";\r\n\r\nconst CARD_OPTIONS = {\r\n  iconStyle: \"solid\",\r\n  style: {\r\n    base: {\r\n      iconColor: \"#c4f0ff\",\r\n      color: \"#fff\",\r\n      fontWeight: 500,\r\n      fontFamily: \"Roboto, Open Sans, Segoe UI, sans-serif\",\r\n      fontSize: \"16px\",\r\n      fontSmoothing: \"antialiased\",\r\n      \":-webkit-autofill\": {\r\n        color: \"#fce883\",\r\n      },\r\n      \"::placeholder\": {\r\n        color: \"#87bbfd\",\r\n      },\r\n    },\r\n    invalid: {\r\n      iconColor: \"#ffc7ee\",\r\n      color: \"#ffc7ee\",\r\n    },\r\n  },\r\n};\r\n\r\nconst CardField = ({ onChange }) => (\r\n  <div className=\"FormRow\">\r\n    <CardElement options={CARD_OPTIONS} onChange={onChange} />\r\n  </div>\r\n);\r\n\r\nconst Field = ({ label, id, type, placeholder, required, autoComplete, value, onChange }) => (\r\n  <div className=\"FormRow flex items-center  border border-purple-500 my-2 rounded-md\">\r\n    <label htmlFor={id} className=\"FormRowLabel w-1/5 min-w-max px-3  \">\r\n      {label}\r\n    </label>\r\n    <input\r\n      className=\"FormRowInput w-full py-3  pr-4\"\r\n      id={id}\r\n      type={type}\r\n      placeholder={placeholder}\r\n      required={required}\r\n      autoComplete={autoComplete}\r\n      value={value}\r\n      onChange={onChange}\r\n    />\r\n  </div>\r\n);\r\n\r\nconst SubmitButton = ({ processing, error, children, disabled }) => (\r\n  <button\r\n    className={`SubmitButton px-4 py-2 bg-green-500 text-gray-200 rounded-md   ${error ? \"SubmitButton--error\" : \"\"}`}\r\n    type=\"submit\"\r\n    disabled={processing || disabled}\r\n  >\r\n    {processing ? \"Processing...\" : children}\r\n  </button>\r\n);\r\n\r\nconst ErrorMessage = ({ children }) => (\r\n  <div className=\"ErrorMessage\" role=\"alert\">\r\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 17 17\">\r\n      <path\r\n        fill=\"#FFF\"\r\n        d=\"M8.5,17 C3.80557963,17 0,13.1944204 0,8.5 C0,3.80557963 3.80557963,0 8.5,0 C13.1944204,0 17,3.80557963 17,8.5 C17,13.1944204 13.1944204,17 8.5,17 Z\"\r\n      />\r\n      <path\r\n        fill=\"#6772e5\"\r\n        d=\"M8.5,7.29791847 L6.12604076,4.92395924 C5.79409512,4.59201359 5.25590488,4.59201359 4.92395924,4.92395924 C4.59201359,5.25590488 4.59201359,5.79409512 4.92395924,6.12604076 L7.29791847,8.5 L4.92395924,10.8739592 C4.59201359,11.2059049 4.59201359,11.7440951 4.92395924,12.0760408 C5.25590488,12.4079864 5.79409512,12.4079864 6.12604076,12.0760408 L8.5,9.70208153 L10.8739592,12.0760408 C11.2059049,12.4079864 11.7440951,12.4079864 12.0760408,12.0760408 C12.4079864,11.7440951 12.4079864,11.2059049 12.0760408,10.8739592 L9.70208153,8.5 L12.0760408,6.12604076 C12.4079864,5.79409512 12.4079864,5.25590488 12.0760408,4.92395924 C11.7440951,4.59201359 11.2059049,4.59201359 10.8739592,4.92395924 L8.5,7.29791847 L8.5,7.29791847 Z\"\r\n      />\r\n    </svg>\r\n    {children}\r\n  </div>\r\n);\r\n\r\nconst ResetButton = ({ onClick }) => (\r\n  <button type=\"button\" className=\"ResetButton\" onClick={onClick}>\r\n    <svg width=\"32px\" height=\"32px\" viewBox=\"0 0 32 32\">\r\n      <path\r\n        fill=\"#FFF\"\r\n        d=\"M15,7.05492878 C10.5000495,7.55237307 7,11.3674463 7,16 C7,20.9705627 11.0294373,25 16,25 C20.9705627,25 25,20.9705627 25,16 C25,15.3627484 24.4834055,14.8461538 23.8461538,14.8461538 C23.2089022,14.8461538 22.6923077,15.3627484 22.6923077,16 C22.6923077,19.6960595 19.6960595,22.6923077 16,22.6923077 C12.3039405,22.6923077 9.30769231,19.6960595 9.30769231,16 C9.30769231,12.3039405 12.3039405,9.30769231 16,9.30769231 L16,12.0841673 C16,12.1800431 16.0275652,12.2738974 16.0794108,12.354546 C16.2287368,12.5868311 16.5380938,12.6540826 16.7703788,12.5047565 L22.3457501,8.92058924 L22.3457501,8.92058924 C22.4060014,8.88185624 22.4572275,8.83063012 22.4959605,8.7703788 C22.6452866,8.53809377 22.5780351,8.22873685 22.3457501,8.07941076 L22.3457501,8.07941076 L16.7703788,4.49524351 C16.6897301,4.44339794 16.5958758,4.41583275 16.5,4.41583275 C16.2238576,4.41583275 16,4.63969037 16,4.91583275 L16,7 L15,7 L15,7.05492878 Z M16,32 C7.163444,32 0,24.836556 0,16 C0,7.163444 7.163444,0 16,0 C24.836556,0 32,7.163444 32,16 C32,24.836556 24.836556,32 16,32 Z\"\r\n      />\r\n    </svg>\r\n  </button>\r\n);\r\n\r\nconst CheckoutForm = () => {\r\n  const stripe = useStripe();\r\n  const elements = useElements();\r\n  const [error, setError] = useState(null);\r\n  const [cardComplete, setCardComplete] = useState(false);\r\n  const [processing, setProcessing] = useState(false);\r\n  const [paymentMethod, setPaymentMethod] = useState(null);\r\n  const [billingDetails, setBillingDetails] = useState({\r\n    email: \"\",\r\n    phone: \"\",\r\n    name: \"\",\r\n  });\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n\r\n    if (!stripe || !elements) {\r\n      // Stripe.js has not loaded yet. Make sure to disable\r\n      // form submission until Stripe.js has loaded.\r\n      return;\r\n    }\r\n\r\n    if (error) {\r\n      elements.getElement(\"card\").focus();\r\n      return;\r\n    }\r\n\r\n    if (cardComplete) {\r\n      setProcessing(true);\r\n    }\r\n\r\n    const payload = await stripe.createPaymentMethod({\r\n      type: \"card\",\r\n      card: elements.getElement(CardElement),\r\n      billing_details: billingDetails,\r\n    });\r\n\r\n    setProcessing(false);\r\n\r\n    if (payload.error) {\r\n      setError(payload.error);\r\n    } else {\r\n      setPaymentMethod(payload.paymentMethod);\r\n    }\r\n  };\r\n\r\n  const reset = () => {\r\n    setError(null);\r\n    setProcessing(false);\r\n    setPaymentMethod(null);\r\n    setBillingDetails({\r\n      email: \"\",\r\n      phone: \"\",\r\n      name: \"\",\r\n    });\r\n  };\r\n\r\n  return paymentMethod ? (\r\n    <div className=\"Result\">\r\n      <div className=\"ResultTitle\" role=\"alert\">\r\n        Payment successful\r\n      </div>\r\n      <div className=\"ResultMessage\">\r\n        Thanks for trying Stripe Elements. No money was charged, but we generated a PaymentMethod: {paymentMethod.id}\r\n      </div>\r\n      <ResetButton onClick={reset} />\r\n    </div>\r\n  ) : (\r\n    <form className=\"Form\" onSubmit={handleSubmit}>\r\n      <fieldset className=\"FormGroup\">\r\n        <Field\r\n          label=\"Name\"\r\n          id=\"name\"\r\n          type=\"text\"\r\n          placeholder=\"Jane Doe\"\r\n          required\r\n          autoComplete=\"name\"\r\n          value={billingDetails.name}\r\n          onChange={(e) => {\r\n            setBillingDetails({ ...billingDetails, name: e.target.value });\r\n          }}\r\n        />\r\n        <Field\r\n          label=\"Email\"\r\n          id=\"email\"\r\n          type=\"email\"\r\n          placeholder=\"janedoe@gmail.com\"\r\n          required\r\n          autoComplete=\"email\"\r\n          value={billingDetails.email}\r\n          onChange={(e) => {\r\n            setBillingDetails({ ...billingDetails, email: e.target.value });\r\n          }}\r\n        />\r\n        <Field\r\n          label=\"Phone\"\r\n          id=\"phone\"\r\n          type=\"tel\"\r\n          placeholder=\"(941) 555-0123\"\r\n          required\r\n          autoComplete=\"tel\"\r\n          value={billingDetails.phone}\r\n          onChange={(e) => {\r\n            setBillingDetails({ ...billingDetails, phone: e.target.value });\r\n          }}\r\n        />\r\n      </fieldset>\r\n      <fieldset className=\"FormGroup\">\r\n        <CardField\r\n          onChange={(e) => {\r\n            setError(e.error);\r\n            setCardComplete(e.complete);\r\n          }}\r\n        />\r\n      </fieldset>\r\n      {error && <ErrorMessage>{error.message}</ErrorMessage>}\r\n      <SubmitButton processing={processing} error={error} disabled={!stripe}>\r\n        Pay $25\r\n      </SubmitButton>\r\n    </form>\r\n  );\r\n};\r\n\r\nconst ELEMENTS_OPTIONS = {\r\n  fonts: [\r\n    {\r\n      cssSrc: \"https://fonts.googleapis.com/css?family=Roboto\",\r\n    },\r\n  ],\r\n};\r\n\r\n// Make sure to call `loadStripe` outside of a component’s render to avoid\r\n// recreating the `Stripe` object on every render.\r\nconst stripePromise = loadStripe(\"pk_test_6pRNASCoBOKtIshFeQd4XMUh\");\r\n\r\nexport const Card = () => {\r\n  return (\r\n    <div className=\"AppWrapper\">\r\n      <h1>CARD PAYMENT</h1>\r\n      <Elements stripe={stripePromise} options={ELEMENTS_OPTIONS}>\r\n        <CheckoutForm />\r\n      </Elements>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { PaymentType } from \"./PaymentType\";\r\nimport { useMove, useMoveDispatch } from \"../Providers/MoveProvider\";\r\nimport { Card } from \"./Card\";\r\n\r\nimport { Input } from \"../Inputs/Input\";\r\n\r\nexport const Payment = () => {\r\n  const client = useMove();\r\n  const { totalAmountPaid, paymentOption } = client;\r\n  const dispatch = useMoveDispatch();\r\n\r\n  const onChange = (e) => dispatch({ field: e.target.name, value: e.target.value });\r\n\r\n  return (\r\n    <div>\r\n      <h2>Payment Type</h2>\r\n      <PaymentType value={paymentOption} onChange={onChange} />\r\n\r\n      <h2>Total Amount Paid</h2>\r\n      <Input\r\n        name=\"totalAmountPaid\"\r\n        value={totalAmountPaid}\r\n        onChange={onChange}\r\n        Icon={() => {\r\n          return <span>$</span>;\r\n        }}\r\n        placeholder=\"Total Amount Paid\"\r\n      />\r\n      {paymentOption && paymentOption === \"card\" && <Card />}\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { SignatureBlock } from \"../Inputs/SignatureBlock\";\r\nimport { useMoveDispatch } from \"../Providers/MoveProvider\";\r\n\r\nexport const Signatures = () => {\r\n  const dispatch = useMoveDispatch();\r\n\r\n  return (\r\n    <>\r\n      <div className=\"flex w-full justify-center\">\r\n        <SignatureBlock dispatch={dispatch} type=\"signature\" name=\"Customer Signature\" width=\"300\" />\r\n      </div>\r\n      {/* <div className=\"flex w-full\">\r\n        <SignatureBlock dispatch={dispatch} type=\"initials\" name=\"Customer Initials\" width=\"200\" />\r\n      </div> */}\r\n      {/* <div className=\"flex\">\r\n        <SignatureBlock dispatch={dispatch} type=\"crewSignature\" name=\"Signature of Carrier\" width=\"300\" />\r\n      </div> */}\r\n    </>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { SectionTitle } from \"../Layout/SectionTitle\";\r\nimport { useMove } from \"../Providers/MoveProvider\";\r\n\r\nconst spanClass = \"\";\r\n\r\nexport const Totals = () => {\r\n  const move = useMove();\r\n  const { subtotal, totalValuation, totalTransportation, totalMaterials, totalMiscFees } = move;\r\n  return (\r\n    <>\r\n      <SectionTitle title=\"Totals\" hidePlus={true} />\r\n      <div className=\"flex justify-between mx-auto w-1/2 p-1\">\r\n        <span className={spanClass}>Valuation</span>\r\n        <span className={spanClass}>{totalValuation}</span>\r\n      </div>\r\n      <div className=\"flex justify-between mx-auto w-1/2 p-1\">\r\n        <span className={spanClass}>Transportation</span>\r\n        <span className={spanClass}>{totalTransportation}</span>\r\n      </div>\r\n      <div className=\"flex justify-between mx-auto w-1/2 p-1\">\r\n        <span className={spanClass}>Materials</span>\r\n        <span className={spanClass}>{totalMaterials}</span>\r\n      </div>\r\n      <div className=\"flex justify-between mx-auto w-1/2 p-1\">\r\n        <span className={spanClass}>Specialty Fees</span>\r\n        <span className={spanClass}>{totalMiscFees}</span>\r\n      </div>\r\n      <div className=\"flex justify-between mx-auto w-1/2 p-1 border-t-2 border-double font-bold\">\r\n        <span className={spanClass}>Subtotal</span>\r\n        <span className={spanClass}>{subtotal}</span>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n","import React, { useState, useRef, memo, useEffect } from \"react\";\r\nimport { getFormattedDate } from \"../../utils/helperFunctions\";\r\nimport download from \"downloadjs\";\r\nimport { Document, Page, pdfjs } from \"react-pdf\";\r\nimport { fillBOLForm } from \"../../utils/fillBOLForm\";\r\nimport { useMove } from \"../Providers/MoveProvider\";\r\nimport { AddCircleOutlined, FilterCenterFocusOutlined, RemoveCircleOutlined } from \"@material-ui/icons\";\r\nimport { TransformWrapper, TransformComponent } from \"react-zoom-pan-pinch\";\r\n\r\npdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.min.js`;\r\n\r\nexport const PreviewPDF = memo((props) => {\r\n  const client = useMove();\r\n\r\n  const [data, setData] = useState(null);\r\n\r\n  const [, /*numPages*/ setNumPages] = useState(null);\r\n  const [pageNumber /*setPageNumber*/] = useState(1);\r\n\r\n  const [isFullscreen, setIsFS] = useState(false);\r\n  const [scale, setScale] = useState(1.0);\r\n  const [sidebar, setSidebar] = useState(true);\r\n\r\n  const toggleSidebar = (value) => setSidebar(value);\r\n\r\n  const pdfWrapperRef = useRef();\r\n\r\n  const getPreview = async () => {\r\n    const newData = await fillBOLForm(client);\r\n    return setData(newData);\r\n  };\r\n\r\n  useEffect(() => {\r\n    getPreview();\r\n  }, [client]);\r\n\r\n  const downloadNow = async () => {\r\n    download(\r\n      await fillBOLForm(client),\r\n      `${client.fullName} BOL ${getFormattedDate(new Date())}.pdf`,\r\n      \"application/pdf\"\r\n    );\r\n  };\r\n\r\n  function onDocumentLoadSuccess({ numPages }) {\r\n    setNumPages(numPages);\r\n  }\r\n\r\n  return (\r\n    <div className=\" w-full flex-col flex justify-around items-center relative h-full max-h-screen overflow-hidden min-w-full bg-gray-200 \">\r\n      <div\r\n        className={data ? \"\" : \"w-full h-full bg-black bg-opacity-75 absolute z-20 flex justify-center items-center\"}\r\n      >\r\n        <button onClick={getPreview} className=\"bg-purple-600 p-4 rounded-lg text-white\">\r\n          {data ? \"Update\" : \"Preview\"}\r\n        </button>\r\n        <button onClick={downloadNow} className=\"bg-gray-600 p-4 rounded-lg text-white ml-10 \">\r\n          Download\r\n        </button>\r\n      </div>\r\n\r\n      {/* <Document\r\n        file={data ? { data } : process.env.PUBLIC_URL + \"/pdf/bol-sfm-fonts.pdf\"}\r\n        onLoadSuccess={onDocumentLoadSuccess}\r\n        renderMode=\"canvas\"\r\n      >\r\n        <Page pageNumber={pageNumber} className=\"flex\" />\r\n      </Document> */}\r\n      <div className=\"flex w-full justify-around absolute top-5 z-10 bg-green-400\">\r\n        <Tooltip placement=\"left\" title=\"Zoom Out\">\r\n          <ToolbarButton\r\n            type=\"primary\"\r\n            icon={<RemoveCircleOutlined />}\r\n            // disabled={scale <= 0.4}\r\n            onClick={() => setScale(scale - 0.2)}\r\n          />\r\n        </Tooltip>\r\n        <div>{scale}</div>\r\n        <Tooltip placement=\"left\" title=\"Zoom In\">\r\n          <ToolbarButton\r\n            type=\"primary\"\r\n            icon={<AddCircleOutlined />}\r\n            // disabled={scale >= 1}\r\n            onClick={() => setScale(scale + 0.2)}\r\n          />\r\n        </Tooltip>\r\n        <Tooltip placement=\"left\" title={sidebar ? \"Activate Focus Mode\" : \"De-activate Focus Mode\"}>\r\n          <ToolbarButton\r\n            type=\"primary\"\r\n            icon={<FilterCenterFocusOutlined />}\r\n            style={{\r\n              background: sidebar ? \"#fff\" : \"#0190be\",\r\n              color: sidebar ? \"#0190be\" : \"#fff\",\r\n            }}\r\n            onClick={() => {\r\n              if (!sidebar) {\r\n                setScale(0.8);\r\n              }\r\n              toggleSidebar(!sidebar);\r\n            }}\r\n          />\r\n        </Tooltip>\r\n      </div>\r\n      <div ref={pdfWrapperRef}>\r\n        <PDF\r\n          pdf={data ? { data } : process.env.PUBLIC_URL + \"/pdf/bol-sfm-fonts.pdf\"}\r\n          scale={scale}\r\n          page={pageNumber}\r\n          pdfWrapperRef={pdfWrapperRef}\r\n          onSuccess={onDocumentLoadSuccess}\r\n        />\r\n      </div>\r\n      <div>\r\n        <button>Update</button>\r\n        <button>Download</button>\r\n        <button>Prev</button>\r\n        <button>Next</button>\r\n      </div>\r\n      {/* <p>\r\n          Page {pageNumber} of {numPages}\r\n        </p> */}\r\n    </div>\r\n  );\r\n});\r\n\r\nconst Tooltip = ({ placement, title, children }) => {\r\n  return (\r\n    <div>\r\n      {/* <span>{title}</span> */}\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ToolbarButton = ({ icon, type, disabled, onClick }) => {\r\n  return <button onClick={onClick}>{icon}</button>;\r\n};\r\n\r\nconst PDF = ({ pdf, scale, page, pdfWrapperRef, onSuccess }) => {\r\n  useEffect(() => {\r\n    console.log({ name: \"new pdf\", pdf });\r\n    return () => {\r\n      console.log({ name: \"old pdf\", pdf });\r\n    };\r\n  }, [pdf]);\r\n\r\n  return (\r\n    <Document\r\n      file={pdf}\r\n      renderMode=\"canvas\"\r\n      // loading={<div>Loading...</div>}\r\n      onLoadSuccess={onSuccess}\r\n      onLoadError={console.error}\r\n      error={\"Unable to load the library article. Please reach out to the support for further assistance.\"}\r\n    >\r\n      <TransformWrapper options={{ limitToBounds: false, minScale: 0.5 }}>\r\n        <TransformComponent>\r\n          <div className=\"flex flex-col items-center justify-center w-full \">\r\n            <Page\r\n              scale={scale}\r\n              // width={pdfWrapperRef.current?.getBoundingClientRect().width * 0.95 || undefined}\r\n              pageNumber={page}\r\n            />\r\n            <Page\r\n              scale={scale}\r\n              // width={pdfWrapperRef.current?.getBoundingClientRect().width * 0.95 || undefined}\r\n              pageNumber={page + 1}\r\n            />\r\n          </div>\r\n        </TransformComponent>\r\n      </TransformWrapper>\r\n    </Document>\r\n  );\r\n};\r\n","import { Input } from \"../Inputs/Input\";\r\nimport { EmojiPeople, Email, Phone } from \"@material-ui/icons/\";\r\n\r\nimport { useMove, useMoveDispatch } from \"../Providers/MoveProvider\";\r\nimport { SectionTitle } from \"../Layout/SectionTitle\";\r\n\r\nexport const ContactInfo = (props) => {\r\n  const move = useMove();\r\n  const dispatch = useMoveDispatch();\r\n  const { fullName, phoneNumber, email } = move;\r\n\r\n  const onChange = (e) => dispatch({ field: e.target.name, value: e.target.value });\r\n  return (\r\n    <>\r\n      <SectionTitle title=\"Contact Info\" hidePlus={true} />\r\n      <Input\r\n        name=\"fullName\"\r\n        value={fullName}\r\n        onChange={onChange}\r\n        Icon={EmojiPeople}\r\n        placeholder=\"Full Name\"\r\n        label=\"Full Name\"\r\n      />\r\n      <Input\r\n        name=\"phoneNumber\"\r\n        value={phoneNumber}\r\n        onChange={onChange}\r\n        Icon={Phone}\r\n        placeholder=\"Phone Number\"\r\n        inputMode=\"numeric\"\r\n        type=\"tel\"\r\n        label=\"Phone Number\"\r\n      />\r\n      <Input\r\n        name=\"email\"\r\n        value={email}\r\n        onChange={onChange}\r\n        Icon={Email}\r\n        placeholder=\"Email\"\r\n        type=\"email\"\r\n        label=\"Email\"\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\n// TODO name parse field\r\n// TODO phone number field show\r\n// TODO phone number mask\r\n// TODO add 2nd contact\r\n// TODO add autocomplete @ email\r\n","import React from \"react\";\r\nimport { Input } from \"../Inputs/Input\";\r\nimport { Home, LocalShipping, AddLocation, Remove, Add } from \"@material-ui/icons/\";\r\n\r\nimport { useMove, useMoveDispatch } from \"../Providers/MoveProvider\";\r\nimport { SectionTitle } from \"../Layout/SectionTitle\";\r\n\r\nexport const Locations = () => {\r\n  const client = useMove();\r\n  const dispatch = useMoveDispatch();\r\n  const { originAddress, destinationAddress, additionalStops, anyAdditionalStops } = client;\r\n\r\n  const onChange = (e) => dispatch({ field: e.target.name, value: e.target.value });\r\n\r\n  // TODO when address autocomplete is done, if address not found\r\n  // (most likely case of newly built house) allow entry of coordinates\r\n\r\n  // TODO autocomplete address\r\n\r\n  // TODO calculate distance as the crow flies\r\n\r\n  return (\r\n    <>\r\n      <SectionTitle\r\n        title=\"Locations\"\r\n        onClick={() =>\r\n          dispatch({\r\n            field: \"anyAdditionalStops\",\r\n            value: !anyAdditionalStops,\r\n          })\r\n        }\r\n        Icon={anyAdditionalStops ? Remove : Add}\r\n      />\r\n      <Input\r\n        name=\"originAddress\"\r\n        value={originAddress}\r\n        onChange={onChange}\r\n        Icon={Home}\r\n        placeholder=\"Starting Point (Origin)\"\r\n        label=\"Starting Point (Origin)\"\r\n      />\r\n      {anyAdditionalStops && (\r\n        <Input\r\n          name=\"additionalStops\"\r\n          value={additionalStops}\r\n          onChange={onChange}\r\n          Icon={AddLocation}\r\n          placeholder=\"Other Stops\"\r\n          label=\"Other Stops\"\r\n        />\r\n      )}\r\n      <Input\r\n        name=\"destinationAddress\"\r\n        value={destinationAddress}\r\n        onChange={onChange}\r\n        Icon={LocalShipping}\r\n        placeholder=\"End Point (Destination)\"\r\n        label=\"End Point (Destination)\"\r\n      />\r\n    </>\r\n  );\r\n};\r\n","import React, { useEffect } from \"react\";\r\nimport { Input } from \"../Inputs/Input\";\r\nimport { CalendarToday, EventBusy, Today, Add, Remove, EventAvailable, DateRange } from \"@material-ui/icons/\";\r\n\r\nimport { useMove, useMoveDispatch } from \"../Providers/MoveProvider\";\r\nimport { decrementDate, getFormattedDate, incrementDate } from \"../../utils/helperFunctions\";\r\nimport { SectionTitle } from \"../Layout/SectionTitle\";\r\n// import { ButtonSelect } from \"../Inputs/ButtonSelect\";\r\nimport { Radio } from \"../Inputs/Radio\";\r\n\r\nexport const Dates = () => {\r\n  const client = useMove();\r\n  const dispatch = useMoveDispatch();\r\n\r\n  const onChange = (e) => dispatch({ field: e.target.name, value: e.target.value });\r\n\r\n  const { /*dates,*/ dateType } = client;\r\n\r\n  // const addDate = () => {\r\n  //   dispatch({ field: \"dates\", value: [...dates, \"\"] });\r\n  // };\r\n\r\n  //if value in provider doesn't exist - provide default\r\n  useEffect(() => {\r\n    if (!dateType)\r\n      dispatch({\r\n        field: \"dateType\",\r\n        value: \"today\",\r\n      });\r\n    return () => {};\r\n  }, [dateType, dispatch]);\r\n\r\n  return (\r\n    <>\r\n      <SectionTitle title=\"Dates\" hidePlus={true} />\r\n      <DateType onClick={onChange} value={dateType} />\r\n      {dateType === \"other\" && <DatesList />}\r\n    </>\r\n  );\r\n};\r\n\r\nconst DateType = (props) => {\r\n  const client = useMove();\r\n  const dispatch = useMoveDispatch();\r\n\r\n  const { /*dates,*/ dateType } = client;\r\n\r\n  const dateTypes = [\r\n    { value: \"today\", name: \"Today\", Icon: EventAvailable },\r\n    { value: \"other\", name: \"Multi-Day/Other\", Icon: DateRange, disabled: true },\r\n    // { value: \"other\", placeholder: \"Other\", Icon: EventNote },\r\n  ];\r\n  return <Radio name=\"dateType\" dispatch={dispatch} value={dateType} options={dateTypes} {...props} row=\"true\" />;\r\n};\r\n\r\nconst DatesList = () => {\r\n  const dispatch = useMoveDispatch();\r\n  const client = useMove();\r\n\r\n  const { dates } = client;\r\n\r\n  const handleChange = (e, index) => {\r\n    const newArray = dates;\r\n    newArray[index] = e.target.value;\r\n    dispatch({ field: \"dates\", value: [...newArray] });\r\n  };\r\n\r\n  const handleDelete = (index) => {\r\n    if (dates.length > 1) {\r\n      const newArray = dates;\r\n      newArray.splice(index, 1);\r\n      dispatch({ field: \"dates\", value: [...newArray] });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {dates &&\r\n        dates.map((d, i) => {\r\n          return (\r\n            <Day\r\n              key={i}\r\n              index={i}\r\n              value={d}\r\n              handleChange={handleChange}\r\n              handleDelete={handleDelete}\r\n              canDelete={dates.length > 1}\r\n            />\r\n          );\r\n        })}\r\n    </>\r\n  );\r\n};\r\n\r\nconst Day = ({ index = 1, value, handleChange, handleDelete, canDelete }) => {\r\n  return (\r\n    <div className=\"flex items-center justify-between rounded-md  m-1\">\r\n      <Input\r\n        name={\"date-\" + (index + 1)}\r\n        value={value}\r\n        onChange={(e) => handleChange(e, index)}\r\n        Icon={CalendarToday}\r\n        placeholder={\"Day \" + (index + 1)}\r\n        type=\"text\"\r\n        className=\"flex-grow w-full\"\r\n      />\r\n      <div className=\"flex\">\r\n        <span className=\" flex-shrink hover:text-red-500 cursor-pointer m-2\">\r\n          <Remove onClick={() => handleChange({ target: { value: decrementDate(value) } }, index)} />\r\n        </span>\r\n        <span className=\" flex-shrink hover:text-blue-500 cursor-pointer m-2\">\r\n          <Today onClick={() => handleChange({ target: { value: getFormattedDate(new Date()) } }, index)} />\r\n        </span>\r\n        <span className=\" flex-shrink hover:text-green-500 cursor-pointer m-2\">\r\n          <Add onClick={() => handleChange({ target: { value: incrementDate(value) } }, index)} />\r\n        </span>\r\n      </div>\r\n      {canDelete && (\r\n        <span className=\" flex-shrink hover:text-red-500 cursor-pointer m-2\">\r\n          <EventBusy onClick={() => handleDelete(index)} />\r\n        </span>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Input } from \"../Inputs/Input\";\r\nimport { FitnessCenter, AttachMoney, Star, StarHalf, StarOutline, Edit, Clear } from \"@material-ui/icons/\";\r\nimport { SectionTitle } from \"../Layout/SectionTitle\";\r\nimport { useMove, useMoveDispatch } from \"../Providers/MoveProvider\";\r\n// import { ButtonSelect } from \"../Inputs/ButtonSelect\";\r\nimport { Radio } from \"../Inputs/Radio\";\r\nimport { SignButton } from \"./SignButton\";\r\n\r\nexport const Valuation = () => {\r\n  const client = useMove();\r\n  const dispatch = useMoveDispatch();\r\n  const {\r\n    valuation,\r\n    valuationCost,\r\n    valuationCostWithDeductible,\r\n    shipmentValue,\r\n    estimatedWeight,\r\n    valuationRate,\r\n    valuationRateWithDeductible,\r\n  } = client;\r\n\r\n  const [showChangeRates, setShowChangeRates] = useState(false);\r\n  const [completed, setCompleted] = useState(false);\r\n\r\n  const toggleShowChangeRate = () => setShowChangeRates((show) => !show);\r\n\r\n  const onChange = (e) => dispatch({ field: e.target.name, value: e.target.value });\r\n\r\n  const options = [\r\n    { value: \"basic\", name: \"Basic\", Icon: StarOutline, price: \"Free\" },\r\n    {\r\n      value: \"replacementWithDeductible\",\r\n      name: `Replacement (w/$300 Ded)`,\r\n      Icon: StarHalf,\r\n      price: valuationCostWithDeductible,\r\n    },\r\n    { value: \"replacement\", name: `Full Replacement`, Icon: Star, price: valuationCost },\r\n  ];\r\n\r\n  /*########## DEFAULT VALUES ##########*/\r\n  /*########## DEFAULT VALUES ##########*/\r\n  /*########## DEFAULT VALUES ##########*/\r\n  useEffect(() => {\r\n    const payload = {};\r\n    if (valuationRate === undefined) payload.valuationRate = 1.4;\r\n    if (valuationRateWithDeductible === undefined) payload.valuationRateWithDeductible = 1.15;\r\n    if (valuation === undefined) payload.valuation = \"basic\";\r\n    if (valuationCost === undefined) payload.valuationCost = 0;\r\n    if (valuationCostWithDeductible === undefined) payload.valuationCostWithDeductible = 0;\r\n    if (shipmentValue === undefined) payload.shipmentValue = 0;\r\n    if (estimatedWeight === undefined) payload.estimatedWeight = 0;\r\n    if (Object.keys(payload).length !== 0) dispatch({ type: \"fieldsUpdate\", payload });\r\n  }, [\r\n    valuation,\r\n    valuationCost,\r\n    valuationCostWithDeductible,\r\n    shipmentValue,\r\n    estimatedWeight,\r\n    valuationRate,\r\n    valuationRateWithDeductible,\r\n    dispatch,\r\n  ]);\r\n\r\n  const toggleComplete = () => setCompleted(!completed);\r\n\r\n  if (!!completed) return <button onClick={toggleComplete}>Completed</button>;\r\n\r\n  return (\r\n    <>\r\n      <SectionTitle title=\"Valuation\" onClick={toggleShowChangeRate} Icon={showChangeRates ? Clear : Edit} />\r\n      <div className=\"flex max-w-md mx-auto space-x-2\">\r\n        <div className=\"text-center\">\r\n          <Input\r\n            name=\"estimatedWeight\"\r\n            value={estimatedWeight}\r\n            onChange={onChange}\r\n            Icon={FitnessCenter}\r\n            placeholder=\"Estimated Weight\"\r\n            label=\"Estimated Weight\"\r\n            type=\"number\"\r\n            units=\"lbs.\"\r\n            align=\"right\"\r\n            min=\"0\"\r\n          />\r\n        </div>\r\n        <div className=\"relative\">\r\n          <Input\r\n            name=\"shipmentValue\"\r\n            value={shipmentValue}\r\n            onChange={onChange}\r\n            Icon={AttachMoney}\r\n            placeholder=\"Shipment Value\"\r\n            label=\"Shipment Value\"\r\n            type=\"number\"\r\n            align=\"right\"\r\n            min=\"0\"\r\n            // TODO VALIDATE NEGATIVE VALUES ON BLUR\r\n            // TODO add LINK and UNLINK value to automatically update shipment value\r\n          />\r\n          {/* https://www.utc.wa.gov/regulatedIndustries/transportation/TransportationDocuments/Tariff%2015-C.PDF */}\r\n          {/* Shipment value is at least $5 per lbs., (val > weight * 5) */}\r\n          {/* //TODO when value 0 - shows 0 and not text  */}\r\n          {!!estimatedWeight && Number(estimatedWeight) * 5 > Number(shipmentValue) && (\r\n            <span className=\"text-xs text-red-500 flex justify-center \">\r\n              Min Shimpent Value ${Math.ceil((estimatedWeight * 5) / 100) * 100}\r\n            </span>\r\n          )}\r\n        </div>\r\n      </div>\r\n      {/*   Valuation can be charged at $0.66 <= v <= $1.40 */}\r\n      {/*   Valuation w300ded can be charged at $0.55 <= v <= $1.15 */}\r\n\r\n      {showChangeRates && (\r\n        <div className=\"flex justify-around bg-white bg-opacity-50 p-5 rounded-md\">\r\n          <ValuationRates\r\n            name=\"valuationRateWithDeductible\"\r\n            rate={valuationRateWithDeductible}\r\n            placeholder=\"Replacement w/ deductible\"\r\n            onChange={onChange}\r\n            min=\"0.55\"\r\n            max=\"1.15\"\r\n          />\r\n          <ValuationRates\r\n            name=\"valuationRate\"\r\n            rate={valuationRate}\r\n            onChange={onChange}\r\n            min=\"0.66\"\r\n            max=\"1.40\"\r\n            placeholder=\"Full Replacement\"\r\n          />\r\n        </div>\r\n      )}\r\n\r\n      {/* <ButtonSelect onClick={onChange} name=\"valuation\" value={valuation} buttons={buttons} vertical={true} /> */}\r\n\r\n      <Radio\r\n        showPrice={true}\r\n        options={options}\r\n        groupName=\"Select valuation type\"\r\n        dispatch={dispatch}\r\n        value={valuation}\r\n        name=\"valuation\"\r\n      />\r\n      <SignButton\r\n        label=\"initial\"\r\n        completed={completed}\r\n        setCompleted={setCompleted}\r\n        dispatch={dispatch}\r\n        name=\"valuationInitials\"\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\n/* Shipment value is at least $5 per lbs., (val > weight * 5) */\r\n/* https://www.utc.wa.gov/regulatedIndustries/transportation/TransportationDocuments/Tariff%2015-C.PDF */\r\n/*   Valuation can be charged at $0.66 <= v <= $1.40 */\r\n/*   Valuation w300ded can be charged at $0.55 <= v <= $1.15 */\r\n\r\nconst ValuationRates = ({ name, rate, onChange, min, max, placeholder }) => {\r\n  return (\r\n    <div className=\"text-xs flex flex-col justify-center text-center\">\r\n      <span>{placeholder}</span> <span className=\"text-sm py-2\">${rate}/ 100 lbs.</span>\r\n      <div className=\"slidecontainer\">\r\n        <input\r\n          className=\"w-full lg:w-1/2\"\r\n          name={name}\r\n          type=\"range\"\r\n          min={min}\r\n          max={max}\r\n          step={1 / 100}\r\n          value={rate}\r\n          id=\"myRange\"\r\n          onChange={onChange}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { SectionTitle } from \"../Layout/SectionTitle\";\r\nimport { useMove, useMoveDispatch } from \"../Providers/MoveProvider\";\r\nimport { SignButton } from \"./SignButton\";\r\n\r\nexport const Release = () => {\r\n  const dispatch = useMoveDispatch();\r\n  const client = useMove();\r\n\r\n  const { agreeToMoveSignature } = client;\r\n\r\n  const [completed, setCompleted] = useState(false);\r\n\r\n  return (\r\n    <>\r\n      <SectionTitle title=\"Release\" hidePlus={true} />\r\n      <p className=\"px-6 text-sm my-4\">\r\n        I have read and understand <span className=\"underline text-blue-600\">this contract</span>, and release my\r\n        household goods to the carrier subject to the terms and conditions of this contract.\r\n      </p>\r\n      <SignButton\r\n        type=\"Signature\"\r\n        completed={completed}\r\n        setCompleted={setCompleted}\r\n        dispatch={dispatch}\r\n        name=\"agreeToMoveSignature\"\r\n        value={agreeToMoveSignature}\r\n      />\r\n    </>\r\n  );\r\n};\r\n","import { Delete } from \"@material-ui/icons\";\r\nimport React from \"react\";\r\nimport { useMoveDispatch } from \"../Providers/MoveProvider\";\r\n\r\nexport const ClearData = () => {\r\n  const dispatch = useMoveDispatch();\r\n  return (\r\n    <div className=\"flex justify-center w-full\">\r\n      <button className=\"bg-red-500 p-2 px-4 rounded-md text-white\" onClick={() => dispatch({ type: \"clearData\" })}>\r\n        <span>\r\n          <Delete />\r\n        </span>\r\n        <span>Clear Everything</span>\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n","import React /*, { useState, useRef } */ from \"react\";\r\n// import { Route, Switch, useRouteMatch, Redirect } from \"react-router-dom\";\r\nimport { Materials } from \"./Materials\";\r\n// import { Client } from \"./Client\";\r\n// import { MoveBottomBar } from \"./MoveBottomBar\";\r\nimport { Rates } from \"./Rates\";\r\n// import { Inventory } from \"./Inventory\";\r\nimport { Estimate } from \"./Estimate\";\r\n// import { Overview } from \"./Overview\";\r\nimport { MoveProvider } from \"../Providers/MoveProvider\";\r\nimport { MiscFees } from \"./MiscFees\";\r\nimport { Payment } from \"./Payment\";\r\nimport { Signatures } from \"./Signatures\";\r\nimport { Totals } from \"./Totals\";\r\nimport { PreviewPDF } from \"./PreviewPDF\";\r\nimport { ContactInfo } from \"./ContactInfo\";\r\nimport { Locations } from \"./Locations\";\r\nimport { Dates } from \"./Dates\";\r\nimport { Valuation } from \"./Valuation\";\r\nimport { Release } from \"./Release\";\r\n// import { Modal } from \"../Layout/Modal\";\r\nimport { ClearData } from \"./ClearData\";\r\n\r\nconst colClass = \"flex flex-col max-w-lg w-full \";\r\n\r\nexport const MoveInOne = () => {\r\n  // const modal = useRef(null);\r\n\r\n  return (\r\n    <MoveProvider>\r\n      <div className=\"flex flex-col justify-center items-center md:items-stretch md:flex-row px-0 space-y-2 md:space-y-0 md:space-x-2 mt-2 max-w-screen-2xl bg-red-500 mx-auto\">\r\n        <div className={colClass}>\r\n          <div className=\"bg-gray-50 p-2 rounded-md\">\r\n            <ContactInfo />\r\n            <Locations />\r\n            <Dates />\r\n            <Estimate />\r\n            <Valuation />\r\n            <Release />\r\n          </div>\r\n        </div>\r\n        <div className={colClass}>\r\n          <div className=\"bg-gray-50  p-2 rounded-md\">\r\n            <Rates />\r\n            <Materials showMoreDefault={false} />\r\n            <MiscFees showMoreDefault={false} />\r\n          </div>\r\n        </div>\r\n\r\n        <div className={colClass}>\r\n          <div className=\"bg-gray-50 p-2 rounded-md\">\r\n            <Totals />\r\n            <Payment />\r\n            <Signatures />\r\n            <ClearData />\r\n          </div>\r\n        </div>\r\n        {/* <div className={colClass + \" bg-white max-h-full \"}>\r\n          <PreviewPDF />\r\n        </div> */}\r\n      </div>\r\n      <div className=\"flex flex-col flex-grow       p-2\"></div>\r\n      {/* <Overview /> */}\r\n    </MoveProvider>\r\n  );\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { useFirestore, useFirestoreConnect, isLoaded, isEmpty } from \"react-redux-firebase\";\r\n// import PropTypes from \"prop-types\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nexport const Estimates = () => {\r\n  const [input, setInput] = useState(\"\");\r\n  const [editId, setEditId] = useState(\"\");\r\n  const firestore = useFirestore();\r\n  function addTodo() {\r\n    const payload = { text: input };\r\n    setInput(\"\");\r\n    if (!!editId) {\r\n      const tempId = editId;\r\n      setEditId(\"\");\r\n      return firestore.collection(\"todos\").doc(tempId).update(payload);\r\n    }\r\n    return firestore.collection(\"todos\").add(payload);\r\n  }\r\n\r\n  const handleChange = (e) => {\r\n    setInput(e.target.value);\r\n  };\r\n\r\n  const handleEdit = (id, text) => {\r\n    return function (e) {\r\n      setInput(text);\r\n      setEditId(id);\r\n    };\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1>Estimates</h1>\r\n      <input\r\n        className=\"p-2 px-4 m-1 rounded-md\"\r\n        value={input}\r\n        onChange={handleChange}\r\n        placeholder=\"Add todo\"\r\n        onKeyPress={(e) => {\r\n          if (e.key === \"Enter\") addTodo();\r\n        }}\r\n        onFocus={(e) => e.target.select()}\r\n      />\r\n      <button className=\"bg-red-500 p-2 m-1 rounded-md text-white\" onClick={addTodo}>\r\n        {!!editId ? \"Edit\" : \"Add\"} estimate\r\n      </button>\r\n      <ListEstimates handleEdit={handleEdit} />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ListEstimates = ({ handleEdit }) => {\r\n  const firestore = useFirestore();\r\n\r\n  useFirestoreConnect([\r\n    \"todos\", // { path: '/todos' } // object notation\r\n  ]);\r\n\r\n  const todos = useSelector((state) => state.firestore.ordered.todos);\r\n\r\n  if (!isLoaded(todos)) {\r\n    return <div>Loading...</div>;\r\n  }\r\n\r\n  if (isEmpty(todos)) {\r\n    return <div>Todos List Is Empty</div>;\r\n  }\r\n\r\n  const handleDelete = (id) => {\r\n    return async function (e) {\r\n      console.log(id);\r\n      const res = await firestore.collection(\"todos\").doc(id).delete();\r\n      console.log(res);\r\n      return res;\r\n    };\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <ul>\r\n        {todos.map((key, id) => (\r\n          <li key={key} id={id} todo={todos[key]}>\r\n            {JSON.stringify(key)}\r\n            <button className=\"bg-red-500 text-white p-2 px-4 m-1 rounded-sm\" onClick={handleDelete(key.id)}>\r\n              x\r\n            </button>\r\n            <button className=\"bg-green-500 text-white p-2 px-4 m-1 rounded-sm\" onClick={handleEdit(key.id, key.text)}>\r\n              edit\r\n            </button>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nexport const Estimate = () => {\r\n  return <div>Estimate</div>;\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  // BrowserRouter as Router,\r\n  // Switch,\r\n  // Route,\r\n  Link,\r\n  // useParams,\r\n  // useRouteMatch,\r\n} from \"react-router-dom\";\r\nimport { nanoid } from \"nanoid\";\r\nimport faker from \"faker\";\r\nimport { SearchOutlined } from \"@material-ui/icons\";\r\n\r\nconst ParamountLink = ({ paramountId, fullName, phone, email }) => {\r\n  // let { url } = useRouteMatch();\r\n  return (\r\n    <tr className=\"hover:bg-pink-500 hover:text-white cursor-pointer\">\r\n      <td>\r\n        <Link to={`/p/${paramountId}`}> {paramountId}</Link>\r\n      </td>\r\n      <td>\r\n        <Link to={`/p/${paramountId}`}>{fullName}</Link>\r\n      </td>\r\n      <td>\r\n        <Link to={`/p/${paramountId}`}>{email}</Link>\r\n      </td>\r\n      <td>\r\n        <Link to={`/p/${paramountId}`}>{phone}</Link>\r\n      </td>\r\n      <td>\r\n        <Link to={`/p1/${paramountId}`}>Single View</Link>\r\n      </td>\r\n    </tr>\r\n  );\r\n};\r\n\r\nexport const Paramounts = () => {\r\n  const [state, setstate] = useState([]);\r\n  const [filter, setFilter] = useState(\"\");\r\n  useEffect(() => {\r\n    const arr = [];\r\n    for (let i = 0; i < 20; i++) {\r\n      arr[i] = {\r\n        id: nanoid(6),\r\n        fullName: faker.name.findName(),\r\n        email: faker.internet.email(),\r\n        phone: faker.phone.phoneNumber(),\r\n      };\r\n    }\r\n    setstate(arr);\r\n  }, []);\r\n  // let { path, url } = useRouteMatch();\r\n\r\n  return (\r\n    <div className=\"flex flex-col justify-center items-center bg-gray-50 container mx-auto\">\r\n      <Search value={filter} setValue={setFilter} />\r\n      <div className=\"flex justify-center \">\r\n        {/* <h1>Paramounts</h1> */}\r\n        <table className=\"w-full\">\r\n          <thead className=\"text-white bg-gray-900 text-center cursor-pointer\">\r\n            <tr>\r\n              <th>Id</th>\r\n              <th>Name</th>\r\n              <th>Phone</th>\r\n              <th>Email</th>\r\n              <th></th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {(filter.length === 0\r\n              ? state\r\n              : state.filter((v) => Object.values(v).toString().toLowerCase().includes(filter.toLowerCase()))\r\n            ).map((a) => (\r\n              <ParamountLink key={a.id} paramountId={a.id} fullName={a.fullName} email={a.email} phone={a.phone} />\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n      <button>+ Paramount</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Search = ({ value = \"\", setValue }) => {\r\n  const onChange = (e) => setValue(e.target.value);\r\n  return (\r\n    <div className=\"bg-white w-80 p-2 m-1 mx-4 rounded-md flex\">\r\n      <span>\r\n        <SearchOutlined />\r\n      </span>\r\n      <input type=\"search\" onChange={onChange} value={value} className=\"w-full pl-2\" placeholder=\"search...\" />\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { useDrag } from \"react-dnd\";\r\n\r\nconst fields = [\r\n  { name: \"Full Name\", id: \"dfgsd\" },\r\n  { name: \"Phone Number\", id: \"5t4e\" },\r\n  { name: \"Email\", id: \"ert34\" },\r\n  { name: \"Origin Address\", id: \"asdf4\" },\r\n  { name: \"Destination Address\", id: \"asdasd4f4\" },\r\n  { name: \"Reference Number\", id: \"y654hr\" },\r\n  { name: \"Signature\", id: \"sdvcxc\" },\r\n  { name: \"Initials\", id: \"gre676\" },\r\n  { name: \"Date\", id: \"gre676\" },\r\n];\r\n\r\nexport const FieldsList = (props) => {\r\n  return (\r\n    <div className=\"my-10 z-10 flex flex-col\">\r\n      <h1>Fields</h1>\r\n      {fields.map((field) => {\r\n        return <ListItem key={field.id} id={field.id} name={field.name} value={field.value} />;\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ListItem = (props) => {\r\n  const { name, value } = props;\r\n\r\n  return (\r\n    <Box {...props}>\r\n      <div className=\"bg-purple-500 rounded-md p-1 my-1 select-none hover:bg-purple-700 \">\r\n        <div className=\"handle  text-white cursor-pointer text-xs pb-1 pl-2 \">:: {name}</div>\r\n        {!!value && <div className=\"bg-white px-4 py-1 rounded-sm\">Arnas Jelizarovas</div>}\r\n      </div>\r\n    </Box>\r\n  );\r\n};\r\n\r\nconst style = {\r\n  border: \"1px dashed gray\",\r\n  backgroundColor: \"white\",\r\n  padding: \"0.5rem 1rem\",\r\n  marginRight: \"1.5rem\",\r\n  marginBottom: \"1.5rem\",\r\n  float: \"left\",\r\n};\r\nexport const Box = (props) => {\r\n  const { name } = props;\r\n  const [{ opacity }, drag] = useDrag(\r\n    () => ({\r\n      type: \"field\",\r\n      item: props,\r\n      end(item, monitor) {\r\n        const dropResult = monitor.getDropResult();\r\n        if (item && dropResult) {\r\n          let alertMessage = \"\";\r\n          const isDropAllowed =\r\n            dropResult.allowedDropEffect === \"any\" || dropResult.allowedDropEffect === dropResult.dropEffect;\r\n          if (isDropAllowed) {\r\n            const isCopyAction = dropResult.dropEffect === \"copy\";\r\n            const actionName = isCopyAction ? \"copied\" : \"moved\";\r\n            alertMessage = `You ${actionName} ${item.name} into ${dropResult.name}!`;\r\n          } else {\r\n            alertMessage = `You cannot ${dropResult.dropEffect} an item into the ${dropResult.name}`;\r\n          }\r\n          console.log(alertMessage);\r\n        }\r\n      },\r\n      collect: (monitor) => ({\r\n        opacity: monitor.isDragging() ? 0.4 : 1,\r\n      }),\r\n    }),\r\n    [name]\r\n  );\r\n  return (\r\n    <div {...props} ref={drag} style={{ ...style, opacity }}>\r\n      {props.children}\r\n    </div>\r\n  );\r\n};\r\n","import React, { useEffect } from \"react\";\r\nimport { useStorage } from \"../../utils/useStorage\";\r\n\r\nexport const ProgressBar = ({ file, setFile, onUrlAdded }) => {\r\n  const { progress, url } = useStorage(file);\r\n\r\n  useEffect(() => {\r\n    if (url) {\r\n      setFile(null);\r\n      onUrlAdded(url);\r\n    }\r\n  }, [url, setFile, onUrlAdded]);\r\n\r\n  return <div>{progress + \" %\"}</div>;\r\n};\r\n","import { useState, useEffect } from \"react\";\r\nimport { projectStorage, projectFirestore, timestamp } from \"../index\";\r\n\r\nexport const useStorage = (file) => {\r\n  const [progress, setProgress] = useState(0);\r\n  const [error, setError] = useState(null);\r\n  const [url, setUrl] = useState(null);\r\n\r\n  useEffect(() => {\r\n    // references\r\n    const storageRef = projectStorage.ref(file.name);\r\n    const collectionRef = projectFirestore.collection(\"images\");\r\n\r\n    storageRef.put(file).on(\r\n      \"state_changed\",\r\n      (snap) => {\r\n        let percentage = (snap.bytesTransferred / snap.totalBytes) * 100;\r\n        setProgress(percentage);\r\n      },\r\n      (err) => {\r\n        setError(err);\r\n      },\r\n      async () => {\r\n        const url = await storageRef.getDownloadURL();\r\n        const createdAt = timestamp();\r\n        await collectionRef.add({ url, createdAt });\r\n        setUrl(url);\r\n      }\r\n    );\r\n  }, [file]);\r\n\r\n  return { progress, url, error };\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { ProgressBar } from \"./ProgressBar\";\r\n\r\nexport const UploadForm = ({ customPdf, setCustomPdf }) => {\r\n  const [file, setFile] = useState(null);\r\n  const [error] = useState(null);\r\n  const [url] = useState(null);\r\n\r\n  const onUrlAdded = (url) => {\r\n    setCustomPdf((currCustomPdfs) => {\r\n      return [...currCustomPdfs, url];\r\n    });\r\n  };\r\n\r\n  // const types = [\"image/png\", \"image/jpeg\"];\r\n\r\n  const handleChange = (e) => {\r\n    let selected = e.target.files[0];\r\n\r\n    if (!!selected) setFile(selected);\r\n    //   if (selected && types.includes(selected.type)) {\r\n    //     setError(\"\");\r\n    //   } else {\r\n    //     setFile(null);\r\n    //     setError(\"Please select an image file (png or jpg)\");\r\n    //   }\r\n  };\r\n  return (\r\n    <form>\r\n      <label>\r\n        <input type=\"file\" onChange={handleChange} />\r\n        <span>+</span>\r\n      </label>\r\n      <div className=\"output\">\r\n        {error && <div className=\"error\">{error}</div>}\r\n        {file && <div>{file.name}</div>}\r\n        {file && <ProgressBar file={file} setFile={setFile} onUrlAdded={onUrlAdded} />}\r\n      </div>\r\n      {url && <span>{url}</span>}\r\n    </form>\r\n  );\r\n};\r\n","import { PictureAsPdf } from \"@material-ui/icons\";\r\nimport React, { useState } from \"react\";\r\nimport { SectionTitle } from \"../Layout/SectionTitle\";\r\nimport { UploadForm } from \"./UploadForm\";\r\n\r\nconst items = [\r\n  {\r\n    id: \"Fci3ht4RCfb9rr2U04Xd\",\r\n    name: \"Accessorials\",\r\n    url:\r\n      \"https://firebasestorage.googleapis.com/v0/b/sfm-tools-448ab.appspot.com/o/pdf%2Faccesorials.pdf?alt=media&token=b9e30c40-5ea8-4000-8685-d0f22632829a\",\r\n  },\r\n  {\r\n    id: \"QoRroeKIeEOcGvTZve1T\",\r\n    name: \"Damage Waiver\",\r\n    url:\r\n      \"https://firebasestorage.googleapis.com/v0/b/sfm-tools-448ab.appspot.com/o/pdf%2FDamage%20Waiver.pdf?alt=media&token=7a30566b-ae9c-46e4-a302-0e93988ee8ad\",\r\n  },\r\n  {\r\n    id: \"56yerfthdfg\",\r\n    name: \"Residential Inspection\",\r\n    url:\r\n      \"https://firebasestorage.googleapis.com/v0/b/sfm-tools-448ab.appspot.com/o/pdf%2FRersidential%20Preinspection.pdf?alt=media&token=f920d38a-bd72-44b1-98ce-06acdc134022\",\r\n  },\r\n  {\r\n    id: \"erty656\",\r\n    name: \"Load Chart\",\r\n    url:\r\n      \"https://firebasestorage.googleapis.com/v0/b/sfm-tools-448ab.appspot.com/o/pdf%2FLoad%20Chart.pdf?alt=media&token=69dfea5c-fb71-4265-8dff-90ac89e29770\",\r\n  },\r\n  {\r\n    id: \"sdfg5456\",\r\n    name: \"Prohibited Items\",\r\n    url:\r\n      \"https://firebasestorage.googleapis.com/v0/b/sfm-tools-448ab.appspot.com/o/pdf%2FProhibited%20Items.pdf?alt=media&token=4652dbf3-2833-461c-baf1-9a0b79d2f6f2\",\r\n  },\r\n];\r\n\r\nexport const PacketList = ({ pdf, setPdf }) => {\r\n  const [customPdf, setCustomPdf] = useState([]);\r\n\r\n  const onClick = (item) => {\r\n    return (e) => {\r\n      setPdf((pdf) => {\r\n        if (pdf?.id !== item?.id) return { ...item };\r\n        return pdf;\r\n      });\r\n    };\r\n  };\r\n  return (\r\n    <div className=\"w-64 p-2\">\r\n      {/* {JSON.stringify(pdf)} */}\r\n      <div className=\"my-10\">\r\n        <SectionTitle title=\"Packet List\" hidePlus={true} />\r\n        <ul className=\"p-1\">\r\n          {items.map((item, i) => (\r\n            <ListItem key={i} name={item.name} onClick={onClick(item)} />\r\n          ))}\r\n        </ul>\r\n      </div>\r\n      <div>\r\n        <SectionTitle title=\"Unique Paperwork\" hidePlus={true} />\r\n        {!!customPdf && customPdf.map((pdf, i) => <span>{pdf?.name}</span>)}\r\n        <UploadForm customPdf={customPdf} setCustomPdf={setCustomPdf} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ListItem = ({ name, id, onClick }) => {\r\n  return (\r\n    <li className=\"hover:text-blue-600 cursor-pointer\" onClick={onClick}>\r\n      <PictureAsPdf /> <span>{name}</span>\r\n    </li>\r\n  );\r\n};\r\n","import React, { useState, memo } from \"react\";\r\nimport { Document, Page, pdfjs } from \"react-pdf\";\r\n\r\npdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.min.js`;\r\n\r\nexport const PreviewPDF = memo(({ pdf } = {}) => {\r\n  console.log(\"previewRerender\");\r\n  // const { url = process.env.PUBLIC_URL + \"/pdf/bol-sfm-fonts.pdf\" } = pdf;\r\n  // const [data, setData] = useState(null);\r\n  const [coordinates, setCoordinates] = useState({ x: 0, y: 0 });\r\n  //   const hasMovedCursor = typeof x === \"number\" && typeof y === \"number\";\r\n\r\n  const [numPages, setNumPages] = useState(null);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n\r\n  const getCoordinates = (e) => {\r\n    console.log(\"getcoordinates\");\r\n    var rect = e.target.getBoundingClientRect();\r\n    var x = e.clientX - rect.left; //x position within the element.\r\n    var y = e.clientY - rect.top; //y position within the element.\r\n    setCoordinates({ x: x.toFixed(2), y: -(y - 792).toFixed(2) });\r\n    // console.log(\"Left? : \" + x + \" ; Top? : \" + -(y - 792) + \".\");\r\n  };\r\n\r\n  //   const getPreview = async () => {\r\n  //     // const newData = await fillBOLForm();\r\n  //     return setData(newData);\r\n  //   };\r\n\r\n  //   const downloadNow = async () => {\r\n  //     download(await fillBOLForm(), `${getFormattedDate(new Date())}.pdf`, \"application/pdf\");\r\n  //   };\r\n\r\n  function onDocumentLoadSuccess({ numPages }) {\r\n    setNumPages(numPages);\r\n  }\r\n\r\n  // if (!!pdf?.data) return <div>no data</div>;\r\n\r\n  return (\r\n    <div className=\"bg-white p-4 rounded-md\">\r\n      <Document\r\n        file={!!pdf?.data ? { data: pdf.data } : pdf?.url}\r\n        onLoadSuccess={onDocumentLoadSuccess}\r\n        renderMode=\"canvas\"\r\n        onClick={getCoordinates}\r\n      >\r\n        <Page pageNumber={pageNumber} className=\"flex\" />\r\n      </Document>\r\n      <p>\r\n        Page {pageNumber} of {numPages}\r\n      </p>\r\n      <button className=\"p-1\" onclick={() => setPageNumber((page) => page--)}>\r\n        prev page\r\n      </button>\r\n      <button onclick={() => setPageNumber((page) => page++)}>net page</button>\r\n      <h1>{`coordinate: x: ${coordinates.x}, y: ${coordinates.y}.`}</h1>\r\n    </div>\r\n  );\r\n});\r\n","import { PDFDocument } from \"pdf-lib\";\r\n// import download from \"downloadjs\";\r\n\r\n//pass pdf with url key, or array data, with\r\n//item can have following keys: type[text, signature, formField], page, text, x, y, size\r\n\r\nconst fakeData = [\r\n  {\r\n    type: \"text\",\r\n    page: 0,\r\n    text: \"Jamming\",\r\n    x: 200,\r\n    y: 200,\r\n    size: 50,\r\n  },\r\n];\r\n\r\nexport async function fillPDF(pdf, data = fakeData) {\r\n  console.log({ pdf, data });\r\n  const { url } = pdf;\r\n  if (!url || !data) return undefined;\r\n  const formPdfBytes = await fetch(url).then((res) => res.arrayBuffer());\r\n  console.log({ formPdfBytes });\r\n  const pdfDoc = await PDFDocument.load(formPdfBytes);\r\n\r\n  const pages = pdfDoc.getPages();\r\n  const form = pdfDoc.getForm();\r\n\r\n  const setFormField = ({ pdfField, text, condition = false }) => {\r\n    if (!pdfField || !text || condition) return;\r\n    if (Array.isArray(text)) text = text.join(\", \");\r\n    return form.getTextField(pdfField).setText(text.toString());\r\n  };\r\n\r\n  const setSignature = async ({ signature, x, y, width = 25, height = 10, page = 0 }) => {\r\n    if (!signature || !x || !y) return;\r\n    const bytes = await fetch(signature).then((res) => res.arrayBuffer());\r\n    const image = await pdfDoc.embedPng(bytes);\r\n    return pages[0].drawImage(image, { x, y, height, width });\r\n  };\r\n\r\n  const setTextField = ({ text, x, y, size = 10, page = 0 }) => {\r\n    if (!text || !x || !y) return;\r\n    console.log(\"setting trext\");\r\n    return pages[page].drawText(text, { x, y, size });\r\n  };\r\n\r\n  data.map(async (item) => {\r\n    if (item?.type === \"text\") return setTextField({ text: item?.text, x: item?.x, y: item?.y, page: item?.page });\r\n    if (item?.type === \"signature\")\r\n      return await setSignature({ signature: item?.signature, x: item?.x, y: item?.y, page: item?.page });\r\n    if (item?.type === \"formField\")\r\n      return setFormField({ pdfField: item?.pdfField, text: item?.text, condition: item?.condition });\r\n  });\r\n\r\n  form.flatten();\r\n  const pdfBytes = await pdfDoc.save();\r\n  // download(pdfBytes, `test pdf .pdf`, \"application/pdf\");\r\n  return pdfBytes;\r\n}\r\n","import React, { useState, useRef, useCallback } from \"react\";\r\nimport { FieldsList } from \"./FieldsList\";\r\nimport { PacketList } from \"./PacketList\";\r\nimport { PreviewPDF } from \"./PreviewPDF\";\r\nimport { DndProvider } from \"react-dnd\";\r\nimport { nanoid } from \"nanoid\";\r\n// import { HTML5Backend } from \"react-dnd-html5-backend\";\r\nimport MultiBackend from \"react-dnd-multi-backend\";\r\nimport HTML5toTouch from \"react-dnd-multi-backend/dist/esm/HTML5toTouch\";\r\nimport { useDrop, useDrag } from \"react-dnd\";\r\nimport update from \"immutability-helper\";\r\nimport { Clear } from \"@material-ui/icons\";\r\nimport { NavLink, useRouteMatch } from \"react-router-dom\";\r\nimport { fillPDF } from \"../../utils/fillPDF\";\r\n\r\nconst styles = {\r\n  width: \"612px\",\r\n  height: \"792px\",\r\n};\r\n\r\n// const fieldExample = {\r\n//   id: \"234dss\",\r\n//   place: [\r\n//     {\r\n//       pdfId: \"asdvxzcvzxcv\",\r\n//       pageNum: 1,\r\n//       x: 0,\r\n//       y: 0,\r\n//     },\r\n//   ],\r\n//   name: \"Full Name\",\r\n//   value: \"Arnas Jelizarovas\",\r\n// };\r\n\r\n// const urls = ({ path, url }) => ({\r\n//   current: path,\r\n//   redirect: `${url}/client`,\r\n\r\n//   ...Object.fromEntries(\r\n//     [\"type\", \"contact\", \"prepdocs\", \"schedule\", \"assign\", \"overview\"].map((u) => [u, `${path}/${u}`])\r\n//   ),\r\n// });\r\n\r\nexport const Paramount = () => {\r\n  const [pdf, setPdf] = useState(null);\r\n  // const [fields, setFields] = useState([fieldExample]);\r\n  const [boxes, setBoxes] = useState({\r\n    a: { top: 20, left: 80, title: \"Drag me around\" },\r\n    b: { top: 180, left: 20, title: \"Drag me too\" },\r\n  });\r\n  // const [coordinates, setCoordinates] = useState({ x: 0, y: 0 });\r\n  // const getCoordinates = (e) => {\r\n  //   console.log(\"getcoordinates\");\r\n  //   var rect = e.target.getBoundingClientRect();\r\n  //   var x = e.clientX - rect.left; //x position within the element.\r\n  //   var y = e.clientY - rect.top; //y position within the element.\r\n  //   setCoordinates({ x: x.toFixed(2), y: -(y - 792).toFixed(2) });\r\n  //   // console.log(\"Left? : \" + x + \" ; Top? : \" + -(y - 792) + \".\");\r\n  // };\r\n\r\n  const pdfize = async (e) => {\r\n    if (!!pdf) {\r\n      const newPdf = await fillPDF({ url: pdf?.url });\r\n      setPdf((file) => ({ ...file, data: newPdf }));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex  justify-around items-start \">\r\n      <TaskList />\r\n      <div>\r\n        <PacketList pdf={pdf} setPdf={setPdf} />\r\n        <button onClick={pdfize} className=\"bg-purple-700 text-white p-2 rounded-md\">\r\n          PDFize\r\n        </button>\r\n        <button\r\n          onClick={() => {\r\n            console.log(pdf);\r\n          }}\r\n          className=\"bg-purple-700 text-white p-2 rounded-md\"\r\n        >\r\n          clg\r\n        </button>\r\n      </div>\r\n      <DndProvider backend={MultiBackend} options={HTML5toTouch}>\r\n        <FieldsList />\r\n        {/* <div className=\"flex\">{`x: ${coordinates.x}, y: ${coordinates.y}`}</div> */}\r\n        {/* <Dropzone style={styles} className=\"bg-red-500\" allowedDropEffect=\"move\" onClick={getCoordinates}>\r\n          DROPZONE */}\r\n        {/* </Dropzone> */}\r\n        {/* <GlobalBox /> */}\r\n        <LocalBox pdf={pdf} boxes={boxes} setBoxes={setBoxes} />\r\n      </DndProvider>\r\n      {/* <PreviewPDF /> */}\r\n    </div>\r\n  );\r\n};\r\n\r\n// const style = {\r\n//   minWidth: \"612px\",\r\n//   minHeight: \"792px\",\r\n// };\r\n\r\n// function selectBackgroundColor(isActive, canDrop) {\r\n//   if (isActive) {\r\n//     return \"darkgreen\";\r\n//   } else if (canDrop) {\r\n//     return \"darkkhaki\";\r\n//   } else {\r\n//     return \"#222\";\r\n//   }\r\n// }\r\nexport const Dropzone = (props) => {\r\n  // const ref = useLocalDrop(console.log);\r\n  // const ref = useRef();\r\n  // const { allowedDropEffect } = props;\r\n  // const [{ canDrop, isOver }, drop] = useDrop(\r\n  //   () => ({\r\n  //     accept: \"box\",\r\n  //     drop(item, monitor) {\r\n  //       console.log(\"drop\");\r\n  //       const offset = monitor.getSourceClientOffset();\r\n  //       if (offset && ref.current) {\r\n  //         const dropTargetXy = ref.current.getBoundingClientRect();\r\n  //         console.log(\"local\", {\r\n  //           x: offset.x - dropTargetXy.left,\r\n  //           y: offset.y - dropTargetXy.top,\r\n  //         });\r\n  //       }\r\n  //     },\r\n  //     collect: (monitor) => ({\r\n  //       isOver: monitor.isOver(),\r\n  //       canDrop: monitor.canDrop(),\r\n  //     }),\r\n  //   }),\r\n  //   [allowedDropEffect]\r\n  // );\r\n  // const isActive = canDrop && isOver;\r\n  // const backgroundColor = selectBackgroundColor(isActive, canDrop);\r\n  return <div {...props}>Dropzone</div>;\r\n};\r\n\r\n// function GlobalBox() {\r\n//   const ref = useGlobalDrop(console.log);\r\n//   return <div ref={ref} className=\"GlobalBox\" />;\r\n// }\r\n\r\nfunction LocalBox({ pdf, boxes, setBoxes }) {\r\n  const moveBox = useCallback(\r\n    (id, left, top) => {\r\n      setBoxes(\r\n        update(boxes, {\r\n          [id]: {\r\n            $merge: { left, top },\r\n          },\r\n        })\r\n      );\r\n    },\r\n    [boxes, setBoxes]\r\n  );\r\n\r\n  const handleDelete = (id) => {\r\n    return (e) => {\r\n      setBoxes((boxes) => {\r\n        console.log(boxes[id]);\r\n        return boxes;\r\n      });\r\n    };\r\n  };\r\n\r\n  const ref = useLocalDrop(moveBox, setBoxes);\r\n  return (\r\n    <div ref={ref} className=\"LocalBox bg-purple-900 relative\" style={styles}>\r\n      <PreviewPDF pdf={pdf} />\r\n      {Object.keys(boxes).map((key) => {\r\n        const { left, top, title } = boxes[key];\r\n        return (\r\n          <Box key={key} id={key} left={left} top={top} hideSourceOnDrag={true} handleDelete={handleDelete}>\r\n            {title}\r\n          </Box>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst Box = ({ id, left, top, hideSourceOnDrag = true, children, handleDelete }) => {\r\n  const [{ isDragging }, drag] = useDrag(\r\n    () => ({\r\n      type: \"box\",\r\n      item: { id, left, top },\r\n      collect: (monitor) => ({\r\n        isDragging: monitor.isDragging(),\r\n      }),\r\n    }),\r\n    [id, left, top]\r\n  );\r\n\r\n  if (isDragging && hideSourceOnDrag) {\r\n    return <div ref={drag}>t</div>;\r\n  }\r\n\r\n  return (\r\n    <button\r\n      ref={drag}\r\n      className=\"absolute bg-green-500 text-white text-xs px-1 rounded-sm cursor-pointer\"\r\n      style={{ left, top }}\r\n      // role=\"Box\"\r\n    >\r\n      <span>\r\n        {children} [{left.toFixed(1)}, {(792 - Number(top)).toFixed(1)}]\r\n      </span>\r\n      <span className=\"m-1 hover:text-gray-300\" onClick={handleDelete(id)}>\r\n        <Clear className=\"p-1\" />\r\n      </span>\r\n    </button>\r\n  );\r\n};\r\n\r\nfunction useLocalDrop(moveBox, setBoxes) {\r\n  const ref = useRef();\r\n\r\n  const [, dropTarget] = useDrop({\r\n    accept: [\"box\", \"field\"],\r\n    drop(item, monitor) {\r\n      console.log();\r\n      if (monitor.getItemType() === \"field\") {\r\n        const offset = monitor.getSourceClientOffset();\r\n        if (offset && ref.current) {\r\n          const dropTargetXy = ref.current.getBoundingClientRect();\r\n          const x = offset.x - dropTargetXy.left;\r\n          const y = offset.y - dropTargetXy.top;\r\n\r\n          setBoxes((b) => ({ ...b, [nanoid(6)]: { title: item.name, fieldId: item.id, left: x, top: y } }));\r\n          return undefined;\r\n        }\r\n      }\r\n      if (monitor.getItemType() === \"box\") {\r\n        const delta = monitor.getDifferenceFromInitialOffset();\r\n        const left = Math.round(item.left + delta.x);\r\n        const top = Math.round(item.top + delta.y);\r\n        moveBox(item.id, left, top);\r\n        return undefined;\r\n      }\r\n    },\r\n  });\r\n\r\n  return (elem) => {\r\n    ref.current = elem;\r\n    dropTarget(ref);\r\n  };\r\n}\r\n\r\n// function useGlobalDrop(onDrop) {\r\n//   const [, dropTarget] = useDrop({\r\n//     accept: \"box\",\r\n//     drop(item, monitor) {\r\n//       const offset = monitor.getClientOffset();\r\n//       if (offset) {\r\n//         onDrop(\"global\", offset);\r\n//       }\r\n//     },\r\n//   });\r\n\r\n//   return dropTarget;\r\n// }\r\n\r\nconst TaskList = () => {\r\n  // const [links] = useState(urls(useRouteMatch()));\r\n\r\n  return (\r\n    <div>\r\n      <h1>Task List</h1>\r\n      <ul>\r\n        <TaskLink to=\"type\" text=\"Job Type\" />\r\n\r\n        <TaskLink to=\"contact\" text=\"Personal Info\" />\r\n\r\n        <TaskLink to=\"prep\" text=\"Prepare Paperwork\" />\r\n\r\n        <TaskLink to=\"schedule\" text=\"Schedule\" />\r\n\r\n        <TaskLink to=\"assign\" text=\"Assign Crew\" />\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst TaskLink = ({ to, text, onClick }) => {\r\n  let { url } = useRouteMatch();\r\n  return (\r\n    <li className=\"px-2 nav-item\">\r\n      <NavLink\r\n        className=\"px-3 py-2 flex items-center text-xs uppercase font-bold leading-snug  hover:opacity-75 ml-2 \"\r\n        to={`${url}/${to}`}\r\n        activeClassName=\"text-red-500\"\r\n        // replace\r\n      >\r\n        {text}\r\n      </NavLink>\r\n    </li>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nexport const Dispatch = () => {\r\n  return <div>Dispatch</div>;\r\n};\r\n","import React from \"react\";\r\n\r\nexport const Job = () => {\r\n  return <div>Job</div>;\r\n};\r\n","export const ADD_WARE = \"ADD_WARE\";\r\nexport const TOGGLE_WARE = \"TOGGLE_WARE\";\r\nexport const SET_FILTER = \"SET_FILTER\";\r\n","import { ADD_WARE, TOGGLE_WARE, SET_FILTER } from \"./actionTypes\";\r\n\r\nlet nextWareId = 0;\r\n\r\nexport const addWare = (content) => ({\r\n  type: ADD_WARE,\r\n  payload: {\r\n    id: ++nextWareId,\r\n    content,\r\n  },\r\n});\r\n\r\nexport const toggleWare = (id) => ({\r\n  type: TOGGLE_WARE,\r\n  payload: { id },\r\n});\r\n\r\nexport const setFilter = (filter) => ({ type: SET_FILTER, payload: { filter } });\r\n","import React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { addWare } from \"../../redux/actions\";\r\n\r\nconst AddWare = (props) => {\r\n  const [input, setInput] = useState(\"\");\r\n\r\n  const onChange = (e) => setInput(e.target.value);\r\n\r\n  const handleAddWare = () => {\r\n    props.addWare(input);\r\n    setInput(\"\");\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <input\r\n        onChange={onChange}\r\n        value={input}\r\n        onKeyPress={(e) => {\r\n          if (e.key === \"Enter\") handleAddWare();\r\n        }}\r\n        onFocus={(e) => e.target.select()}\r\n      />\r\n      <button className=\"add-ware bg-green-500 p-2 rounded-md text white\" onClick={handleAddWare}>\r\n        Add Ware\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default connect(null, { addWare })(AddWare);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport cx from \"classnames\";\r\nimport { toggleWare } from \"../../redux/actions\";\r\n\r\nconst Ware = ({ ware, toggleWare }) => (\r\n  <li className=\"ware-item\" onClick={() => toggleWare(ware.id)}>\r\n    {ware && ware.completed ? \"👌\" : \"👋\"}{\" \"}\r\n    <span className={cx(\"ware-item__text\", ware && ware.completed && \"ware-item__text--completed\")}>\r\n      {ware.content}\r\n    </span>\r\n  </li>\r\n);\r\n\r\n// export default Ware;\r\nexport default connect(null, { toggleWare })(Ware);\r\n","export const VISIBILITY_FILTERS = {\r\n  ALL: \"all\",\r\n  COMPLETED: \"completed\",\r\n  INCOMPLETE: \"incomplete\",\r\n};\r\n","import { VISIBILITY_FILTERS } from \"../constants\";\r\n\r\nexport const getWaresState = (store) => store.wares;\r\n\r\nexport const getWareList = (store) => (getWaresState(store) ? getWaresState(store).allIds : []);\r\n\r\nexport const getWareById = (store, id) => (getWaresState(store) ? { ...getWaresState(store).byIds[id], id } : {});\r\n\r\n/**\r\n * example of a slightly more complex selector\r\n * select from store combining information from multiple reducers\r\n */\r\nexport const getWares = (store) => getWareList(store).map((id) => getWareById(store, id));\r\n\r\nexport const getWaresByVisibilityFilter = (store, visibilityFilter) => {\r\n  const allWares = getWares(store);\r\n  switch (visibilityFilter) {\r\n    case VISIBILITY_FILTERS.COMPLETED:\r\n      return allWares.filter((ware) => ware.completed);\r\n    case VISIBILITY_FILTERS.INCOMPLETE:\r\n      return allWares.filter((ware) => !ware.completed);\r\n    case VISIBILITY_FILTERS.ALL:\r\n    default:\r\n      return allWares;\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Ware from \"./Ware\";\r\n// import { getWares } from \"../redux/selectors\";\r\nimport { getWaresByVisibilityFilter } from \"../../redux/selectors\";\r\n// import { VISIBILITY_FILTERS } from \"../../constants\";\r\n\r\nconst WareList = ({ wares }) => (\r\n  <ul className=\"ware-list\">\r\n    {wares && wares.length\r\n      ? wares.map((ware, index) => {\r\n          return <Ware key={`ware-${ware.id}`} ware={ware} />;\r\n        })\r\n      : \"No wares, yay!\"}\r\n  </ul>\r\n);\r\n\r\n// const mapStateToProps = state => {\r\n//   const { byIds, allIds } = state.wares || {};\r\n//   const wares =\r\n//     allIds && state.wares.allIds.length\r\n//       ? allIds.map(id => (byIds ? { ...byIds[id], id } : null))\r\n//       : null;\r\n//   return { wares };\r\n// };\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { visibilityFilter } = state;\r\n  const wares = getWaresByVisibilityFilter(state, visibilityFilter);\r\n  return { wares };\r\n  //   const allWares = getWares(state);\r\n  //   return {\r\n  //     wares:\r\n  //       visibilityFilter === VISIBILITY_FILTERS.ALL\r\n  //         ? allWares\r\n  //         : visibilityFilter === VISIBILITY_FILTERS.COMPLETED\r\n  //           ? allWares.filter(ware => ware.completed)\r\n  //           : allWares.filter(ware => !ware.completed)\r\n  //   };\r\n};\r\n// export default WareList;\r\nexport default connect(mapStateToProps)(WareList);\r\n","import React from \"react\";\r\nimport cx from \"classnames\";\r\nimport { connect } from \"react-redux\";\r\nimport { setFilter } from \"../../redux/actions\";\r\nimport { VISIBILITY_FILTERS } from \"../../constants\";\r\n\r\nconst VisibilityFilters = ({ activeFilter, setFilter }) => {\r\n  return (\r\n    <div className=\"visibility-filters\">\r\n      {Object.keys(VISIBILITY_FILTERS).map((filterKey) => {\r\n        const currentFilter = VISIBILITY_FILTERS[filterKey];\r\n        return (\r\n          <span\r\n            key={`visibility-filter-${currentFilter}`}\r\n            className={cx(\"filter\", currentFilter === activeFilter && \"filter--active\")}\r\n            onClick={() => {\r\n              setFilter(currentFilter);\r\n            }}\r\n          >\r\n            {currentFilter}\r\n          </span>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return { activeFilter: state.visibilityFilter };\r\n};\r\n// export default VisibilityFilters;\r\nexport default connect(mapStateToProps, { setFilter })(VisibilityFilters);\r\n","import React from \"react\";\r\nimport AddWare from \"./AddWare\";\r\nimport WareList from \"./WareList\";\r\nimport VisibilityFilters from \"./VisibilityFilters\";\r\n// import \"./styles.css\";\r\n\r\nexport default function Warehouse() {\r\n  return (\r\n    <div className=\"ware-app flex flex-col  items-center py-10\">\r\n      <h1>Ware List</h1>\r\n      <AddWare />\r\n      <VisibilityFilters />\r\n      <WareList />\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst tools = [\r\n  { title: \"Materials Calculator\", img: `${process.env.PUBLIC_URL}/img/tools-materials.gif`, url: \"/t/materials\" },\r\n  { title: \"Coordinates View\", url: \"/t/coordinates\" },\r\n  { title: \"Text Customer\", url: \"/t/sms\" },\r\n  { title: \"ABHS\", url: \"/t/abhs\" },\r\n  { title: \"Tip Split\", url: \"/t/tips\" },\r\n];\r\n\r\nexport const Tools = () => {\r\n  return (\r\n    <div className=\"grid grid-cols-4 gap-4 container mx-auto mt-10\">\r\n      {tools.map((tool) => {\r\n        return (\r\n          <div className=\"w-full border-2 rounded-md relative min-h-[200px] hover:bg-red-700 hover:font-bold bg-red-500\">\r\n            <Link to={tool.url}>\r\n              {!!tool.img ? (\r\n                <img alt=\"demo\" src={tool.img} className=\"w-full \" />\r\n              ) : (\r\n                <div className=\"w-full h-full  \"></div>\r\n              )}\r\n              <span className=\"absolute bottom-0 bg-white w-full px-4 py-2 text-center \">{tool.title}</span>\r\n            </Link>\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n","import { useState, useEffect } from \"react\";\r\n\r\nconst useMousePosition = () => {\r\n  const [mousePosition, setMousePosition] = useState({ x: null, y: null });\r\n\r\n  const updateMousePosition = (ev) => {\r\n    setMousePosition({ x: ev.clientX, y: ev.clientY });\r\n  };\r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\"click\", updateMousePosition);\r\n\r\n    return () => window.removeEventListener(\"click\", updateMousePosition);\r\n  }, []);\r\n\r\n  return mousePosition;\r\n};\r\n\r\nexport default useMousePosition;\r\n","import React, { useState, useRef } from \"react\";\r\nimport { usePdf } from \"@mikecousins/react-pdf\";\r\nimport useMousePosition from \"../../utils/useMousePosition\";\r\n\r\nexport const BillOfLading = () => {\r\n  const [page, setPage] = useState(1);\r\n  const [coordinates, setCoordinates] = useState({ x: 0, y: 0 });\r\n\r\n  const canvasRef = useRef(null);\r\n\r\n  const { x, y } = useMousePosition();\r\n  const hasMovedCursor = typeof x === \"number\" && typeof y === \"number\";\r\n\r\n  const { pdfDocument /*, pdfPage*/ } = usePdf({\r\n    file: process.env.PUBLIC_URL + \"/pdf/abhs.pdf\",\r\n    page,\r\n    canvasRef,\r\n  });\r\n\r\n  const getCoordinates = (e) => {\r\n    var rect = e.target.getBoundingClientRect();\r\n    var x = e.clientX - rect.left; //x position within the element.\r\n    var y = e.clientY - rect.top; //y position within the element.\r\n    setCoordinates({ x, y: -(y - 792) });\r\n    // console.log(\"Left? : \" + x + \" ; Top? : \" + -(y - 792) + \".\");\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1>\r\n        {hasMovedCursor ? `coordinate: x: ${coordinates.x}, y: ${coordinates.y}.` : \"Click anywhere on document.\"}\r\n      </h1>\r\n      {!pdfDocument && <span>Loading...</span>}\r\n      <canvas ref={canvasRef} className=\"mx-auto\" onClick={getCoordinates} />\r\n      {Boolean(pdfDocument && pdfDocument.numPages) && (\r\n        <nav>\r\n          <ul className=\"pager\">\r\n            <li className=\"previous\">\r\n              <button disabled={page === 1} onClick={() => setPage(page - 1)}>\r\n                Previous\r\n              </button>\r\n            </li>\r\n            <li className=\"next\">\r\n              <button disabled={page === pdfDocument.numPages} onClick={() => setPage(page + 1)}>\r\n                Next\r\n              </button>\r\n            </li>\r\n          </ul>\r\n        </nav>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\n// https://codepen.io/ValerioEmanuele/pen/pGRZqe?editors=0010\r\n// https://stackoverflow.com/questions/61666513/getting-mouse-coordinates-from-an-embedded-pdf-object-element\r\n// [{\"descrizione\":\"RAPINA \",\"posizioneX\":128.2377740303541,\"posizioneY\":550.3238095238096,\"valore\":\"X\"},\r\n// {\"descrizione\":\"PACCHI \",\"posizioneX\":5.826306913996632,\"posizioneY\":9.038095238095252,\"valore\":\"X\"}]\r\n\r\n// const fileCoords = {\r\n//   file: \"bol.pdf\",\r\n//   poi: [\r\n//     {\r\n//       name: \"Non-binding estimate\",\r\n//       type: \"initials\",\r\n//       x: 24,\r\n//       y: 462,\r\n//     },\r\n//     {\r\n//       name: \"Bind Estimate\",\r\n//       type: \"initials\",\r\n\r\n//       x: 24,\r\n//       y: 373,\r\n//     },\r\n//     {\r\n//       name: \"Valuation Basic\",\r\n//       type: \"initials\",\r\n\r\n//       x: 24,\r\n//       y: 323,\r\n//     },\r\n//     {\r\n//       name: \"Valuation Replacement with Deductible\",\r\n//       type: \"initials\",\r\n\r\n//       x: 24,\r\n//       y: 275,\r\n//     },\r\n//     {\r\n//       name: \"Valuation Replacement\",\r\n//       type: \"initials\",\r\n\r\n//       x: 24,\r\n//       y: 222,\r\n//     },\r\n//     {\r\n//       name: \"Valuation Client Signature\",\r\n//       type: \"signature\",\r\n\r\n//       x: 24,\r\n//       y: 103,\r\n//     },\r\n//     {\r\n//       name: \"Valuation Carrier Signature\",\r\n//       type: \"signature\",\r\n\r\n//       x: 24,\r\n//       y: 73,\r\n//     },\r\n//     {\r\n//       name: \"Signature of Customer\",\r\n//       type: \"signature\",\r\n\r\n//       x: 320,\r\n//       y: 40,\r\n//     },\r\n//   ],\r\n// };\r\n\r\n// const data = {\r\n//   EMAIL: \"\",\r\n//   \"TOTAL ITEM 15 CU SMALL\": \"\",\r\n//   \"AMOUNT Piano\": \"\",\r\n//   \"TOTAL ITEM 30 CU MEDIUM\": \"\",\r\n//   \"AMOUNT Removal\": \"\",\r\n//   \"TOTAL ITEM 45 CU LARGE\": \"\",\r\n//   \"AMOUNT Hoist\": \"\",\r\n//   \"TOTAL ITEM DISHPACK\": \"\",\r\n//   \"AMOUNT Ferry\": \"\",\r\n//   \"TOTAL ITEM MIRROR PACK\": \"\",\r\n//   \"AMOUNT Storage\": \"\",\r\n//   \"TOTAL ITEM MATTRESS BAG\": \"\",\r\n//   \"TOTAL ITEM WARDROBE\": \"\",\r\n//   \"TOTAL ITEM Carpet Protection\": \"\",\r\n//   \"SUBTOTAL 1234\": \"\",\r\n//   \"TOTAL MOVING CHARGES\": \"\",\r\n//   \"TOTAL AMOUNT PAID\": \"\",\r\n//   \"TIPS  BALANCE DUE\": \"\",\r\n//   \"PHONE 1\": \"\",\r\n//   \"PHONE 2\": \"\",\r\n//   Name: \"\",\r\n//   Origin: \"\",\r\n//   \"Other Stops\": \"\",\r\n//   Destination: \"\",\r\n//   Notes: \"\",\r\n//   PERSONNEL: \"\",\r\n//   \"valuation with deductible\": \"\",\r\n//   \"Shipment Value\": \"\",\r\n//   \"valuation no deductible\": \"\",\r\n//   \"Selected Valuation\": \"\",\r\n//   \"Hourly Rate\": \"\",\r\n//   \"Mileage Miles\": \"\",\r\n//   \"Hourly Time Start\": \"\",\r\n//   \"Hourly Time Arrive\": \"\",\r\n//   \"Hourly Time Depart\": \"\",\r\n//   \"Hourly Time End\": \"\",\r\n//   \"Hourly Time Breaks\": \"\",\r\n//   \"Hourly Time TOTAL\": \"\",\r\n//   \"Travel Fee\": \"\",\r\n//   \"Mileage Weight Gross\": \"\",\r\n//   \"Mileage Weight Tare\": \"\",\r\n//   \"Mileage Weight Net\": \"\",\r\n//   \"Mileage Rate\": \"\",\r\n//   \"Total Transportation\": \"\",\r\n//   \"QTY SMALL\": \"\",\r\n//   \"QTY MEDIUM\": \"\",\r\n//   \"QTY LARGE\": \"\",\r\n//   \"QTY DISHPACK\": \"\",\r\n//   \"QTY MIRROR PACK\": \"\",\r\n//   \"QTY MATTRESS BAG\": \"\",\r\n//   \"QTY WARDROBE\": \"\",\r\n//   \"QTY Carpet Protection\": \"\",\r\n//   \"QTY Custom\": \"\",\r\n//   Custom: \"\",\r\n//   \"RATE SMALL\": \"\",\r\n//   \"RATE MEDIUM\": \"\",\r\n//   \"RATE LARGE\": \"\",\r\n//   \"RATE DISHPACK\": \"\",\r\n//   \"RATE MIRROR PACK\": \"\",\r\n//   \"RATE MATTRESS BAG\": \"\",\r\n//   \"RATE WARDROBE\": \"\",\r\n//   \"RATE Carpet Protection\": \"\",\r\n//   \"RATE Custom\": \"\",\r\n//   \"TOTAL ITEM Custom\": \"\",\r\n//   \"TOTAL PACKING  MATERIAL\": \"\",\r\n//   \"MISC CUSTOM 1\": \"\",\r\n//   \"MISC CUSTOM 2\": \"\",\r\n//   \"MISC CUSTOM 3\": \"\",\r\n//   \"TOTAL OTHER\": \"\",\r\n//   \"AMOUNT CUSTOM 1\": \"\",\r\n//   \"AMOUNT CUSTOM 2\": \"\",\r\n//   \"AMOUNT CUSTOM 3\": \"\",\r\n//   \"CLEAR Hourly\": \"\",\r\n//   \"CLEAR Hourly Rate TF\": \"\",\r\n//   \"CLEAR Mileage\": \"\",\r\n//   \"CLEAR QTY\": \"\",\r\n//   \"CLEAR Total Items\": \"\",\r\n//   \"CLEAR Misc Items\": \"\",\r\n//   \"CLEAR Misc Amount\": \"\",\r\n//   \"Clear Section\": \"\",\r\n//   Adjustment: \"\",\r\n//   \"CLEAR VALUATION\": \"\",\r\n//   \"CLEAR TOTAL CHARGES\": \"\",\r\n//   \"CLEAR D All\": \"\",\r\n//   \"CLEAR Total Transportation\": \"\",\r\n//   \"CLEAR Name\": \"\",\r\n//   \"CLEAR Origin\": \"\",\r\n//   \"CLEAR Other Stops\": \"\",\r\n//   \"CLEAR Destination\": \"\",\r\n//   \"CLEAR Personnel\": \"\",\r\n//   \"CLEAR Notes\": \"\",\r\n//   \"CLEAR Phone\": \"\",\r\n//   \"CLEAR Email\": \"\",\r\n//   \"Import Rates\": \"\",\r\n//   \"CLEAR CUSTOMER INFORMATION\": \"\",\r\n//   \"CLEAR ALL DATA\": \"\",\r\n//   Printer: \"\",\r\n//   print3: \"\",\r\n//   \"File name\": \"\",\r\n//   SaveAS: \"\",\r\n//   \"Manual Box Sum\": \"\",\r\n//   \"Manual Other Sum\": \"\",\r\n//   \"Selected Printer\": \"\",\r\n// };\r\n","import React, { useContext, useReducer, createContext, useEffect } from \"react\";\r\n\r\nconst MaterialsContext = createContext();\r\nconst MaterialsDispatchContext = createContext();\r\n\r\nconst useMaterials = () => {\r\n  const context = useContext(MaterialsContext);\r\n  if (context === undefined) {\r\n    throw new Error(\"useMaterials must be used within a MaterialsProvider\");\r\n  }\r\n  return context;\r\n};\r\nconst useMaterialsDispatch = () => {\r\n  const context = useContext(MaterialsDispatchContext);\r\n  if (context === undefined) {\r\n    throw new Error(\"useMaterialsDispatch must be used within a MaterialsDispatchProvider\");\r\n  }\r\n  return context;\r\n};\r\n\r\nconst materialsReducer = (state, { field, value, type, groupName = \"materials\", payload, id = null }) => {\r\n  if (!type) {\r\n    return {\r\n      ...state,\r\n      [field]: value,\r\n    };\r\n  } else {\r\n    const group = state[groupName];\r\n    switch (type) {\r\n      case \"fieldsUpdate\": {\r\n        return {\r\n          ...state,\r\n          ...payload,\r\n        };\r\n      }\r\n      case \"groupUpdate\": {\r\n        return {\r\n          ...state,\r\n          [groupName]: group?.find((g) => g.id === id)\r\n            ? group.map((g) => (id === g.id ? { ...g, ...payload } : g))\r\n            : [...group, { id, ...payload }],\r\n        };\r\n      }\r\n      case \"groupClear\": {\r\n        return {\r\n          ...state,\r\n          [groupName]: [],\r\n        };\r\n      }\r\n      case \"groupRemove\": {\r\n        return {\r\n          ...state,\r\n          [groupName]: group.filter((g) => g.id !== id),\r\n        };\r\n      }\r\n      default:\r\n        return state;\r\n    }\r\n  }\r\n};\r\n\r\nconst getInitialState = () => {\r\n  if (\"materials\" in localStorage) {\r\n    try {\r\n      return JSON.parse(localStorage.getItem(\"materials\"));\r\n    } catch (err) {\r\n      return {};\r\n    }\r\n  } else {\r\n    return { materials: [] };\r\n  }\r\n};\r\n\r\nconst withLocalStorageCache = (reducer) => {\r\n  return (state, action) => {\r\n    const newState = reducer(state, action);\r\n    localStorage.setItem(\"materials\", JSON.stringify(newState));\r\n    return newState;\r\n  };\r\n};\r\n\r\nconst MaterialsProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(withLocalStorageCache(materialsReducer), getInitialState());\r\n\r\n  const { materials } = state;\r\n\r\n  useEffect(() => {\r\n    dispatch({\r\n      field: \"totalMaterials\",\r\n      value: materials && materials.reduce((sum, { units, rate }) => sum + Number(units) * Number(rate), 0),\r\n    });\r\n  }, [materials, dispatch]);\r\n\r\n  return (\r\n    <MaterialsContext.Provider value={state}>\r\n      <MaterialsDispatchContext.Provider value={dispatch}>{children}</MaterialsDispatchContext.Provider>\r\n    </MaterialsContext.Provider>\r\n  );\r\n};\r\n\r\nexport { MaterialsProvider, useMaterials, useMaterialsDispatch };\r\n","import { AccessTime, CreditCard, Delete, DirectionsWalk, Edit, Message, Phone, Save } from \"@material-ui/icons\";\r\nimport React, { useEffect, useReducer } from \"react\";\r\nimport { ButtonSelect } from \"../Inputs/ButtonSelect\";\r\nimport { Input } from \"../Inputs/Input\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport { isIOS } from \"react-device-detect\";\r\n\r\nimport { useSelector } from \"react-redux\";\r\nimport { useFirestoreConnect, useFirestore, isLoaded, isEmpty } from \"react-redux-firebase\";\r\n// import { timestamp } from \"../..\";\r\n// import { nanoid } from \"nanoid\";\r\n\r\nfunction useQuery() {\r\n  return new URLSearchParams(useLocation().search);\r\n}\r\n\r\nconst reducer = (state, action) => {\r\n  console.log(\"reducer\");\r\n\r\n  switch (action.type) {\r\n    case \"update\":\r\n      return { ...state, ...action.payload };\r\n    case \"clear\":\r\n      return {};\r\n\r\n    default:\r\n      break;\r\n  }\r\n  return { ...state };\r\n};\r\n\r\nexport const MakeText = () => {\r\n  let query = useQuery();\r\n  const firestore = useFirestore();\r\n\r\n  const initialState = {\r\n    phone: query.get(\"p\") || query.get(\"phone\") || \"\",\r\n    customer: query.get(\"n\") || query.get(\"name\") || \"\",\r\n    greeting: isNowAMPM() === \"AM\" ? \"Good Morning\" : \"Good afternoon\",\r\n    crewLead: \"Arnas\",\r\n    company: \"Paramount Transportation Systems\",\r\n    moveType: \"delivering\",\r\n    scheduledETA: \"1 p.m. to 4 p.m.\",\r\n    sms: \"\",\r\n    editId: \"\",\r\n  };\r\n\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n\r\n  const { phone, customer, greeting, crewLead, company, moveType, scheduledETA, sms, editId } = state;\r\n\r\n  const onChange = (e) => dispatch({ type: \"update\", payload: { [e.target.name]: e.target.value } });\r\n\r\n  const handleEdit = (id, payload) => {\r\n    return function (e) {\r\n      console.log({ id, payload });\r\n      // if (!!payload) return null;\r\n      dispatch({ type: \"update\", payload: { editId: id, ...payload } });\r\n    };\r\n  };\r\n\r\n  function addSMS() {\r\n    const payload = { phone, customer, greeting, crewLead, company, moveType, scheduledETA, sms };\r\n    if (!!editId) {\r\n      const tempId = editId;\r\n      dispatch({ type: \"update\", payload: { editId: \"\" } });\r\n\r\n      return firestore.collection(\"sms\").doc(tempId).update(payload);\r\n    }\r\n    return firestore.collection(\"sms\").add(payload);\r\n  }\r\n\r\n  useEffect(() => {\r\n    dispatch({\r\n      type: \"update\",\r\n      payload: {\r\n        sms: `${greeting}${\r\n          !!customer ? \" \" + customer : \"\"\r\n        }, this is Arnas with ${company}. We'll be ${moveType} today. Our scheduled ETA is ${scheduledETA}. If you have any questions please text me or call me. `,\r\n      },\r\n    });\r\n\r\n    return () => {};\r\n  }, [phone, customer, greeting, crewLead, company, moveType, scheduledETA]);\r\n\r\n  return (\r\n    <>\r\n      <div className=\"bg-gray-100 p-2 rounded-b-lg\">\r\n        {!!editId && (\r\n          <>\r\n            <span>Editing: {editId}</span>\r\n            <button onClick={() => dispatch({ type: \"clear\" })}>x</button>\r\n          </>\r\n        )}\r\n        <Input name=\"phone\" Icon={Phone} value={phone} onChange={onChange} placeholder=\"Text phone number\" />\r\n\r\n        <Input name=\"customer\" Icon={DirectionsWalk} value={customer} onChange={onChange} placeholder=\"Customer name\" />\r\n        <Input\r\n          name=\"scheduledETA\"\r\n          Icon={DirectionsWalk}\r\n          value={scheduledETA}\r\n          onChange={onChange}\r\n          placeholder=\"scheduledETA\"\r\n        />\r\n        <div className=\"bg-white mx-2 py-1 rounded-md\">\r\n          <ButtonSelect\r\n            name=\"greeting\"\r\n            value={greeting}\r\n            onClick={onChange}\r\n            buttons={[\r\n              { value: \"Good morning\", placeholder: \"Morning\", Icon: AccessTime },\r\n              { value: \"Good afternoon\", placeholder: \"Afternoon\", Icon: CreditCard },\r\n              { value: \"Hello\", placeholder: \"Neutral\", Icon: CreditCard },\r\n            ]}\r\n          />\r\n        </div>\r\n        <div className=\"bg-white mx-2 py-1 rounded-md\">\r\n          <ButtonSelect\r\n            name=\"moveType\"\r\n            value={moveType}\r\n            onClick={onChange}\r\n            buttons={[\r\n              { value: \"delivering your goods \", placeholder: \"Delivery\", Icon: AccessTime },\r\n              { value: \"packing up your goods \", placeholder: \"Origin\", Icon: CreditCard },\r\n              { value: \"moving you\", placeholder: \"Local\", Icon: CreditCard },\r\n            ]}\r\n          />\r\n        </div>\r\n        <div className=\"bg-white mx-2 py-1 rounded-md\">\r\n          <ButtonSelect\r\n            name=\"company\"\r\n            value={company}\r\n            onClick={onChange}\r\n            buttons={[\r\n              { value: \"Paramount Transportation Systems\", placeholder: \"Paramount\", Icon: AccessTime },\r\n              { value: \"SuperFriends Moving\", placeholder: \"SuperFriends\", Icon: CreditCard },\r\n            ]}\r\n          />\r\n        </div>\r\n        <div className=\"eta-window\"></div>\r\n\r\n        <div className=\"bg-white p-10 my-2 rounded-lg\">{sms}</div>\r\n        <div className=\"flex justify-center\">\r\n          <a\r\n            className=\"bg-green-500 text-white p-2 px-4 rounded-md\"\r\n            href={`sms:${phone}${isIOS ? \"&\" : \"?\"}body=${sms}`}\r\n            target=\"_blank\"\r\n            rel=\"noreferrer\"\r\n          >\r\n            <Message className=\"mr-2\" /> Send text\r\n          </a>\r\n          <button className=\"text-blue-500 px-4 py-2\" onClick={addSMS}>\r\n            <Save className=\"mr-2\" />\r\n            Save\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <ListSMS handleEdit={handleEdit} />\r\n    </>\r\n  );\r\n};\r\n\r\nfunction isNowAMPM() {\r\n  return new Date().getHours() >= 12 ? \"PM\" : \"AM\";\r\n}\r\n\r\nconst smsQuery = {\r\n  collection: \"sms\",\r\n  limitTo: 10,\r\n};\r\n\r\nconst ListSMS = ({ handleEdit }) => {\r\n  let history = useHistory();\r\n  const firestore = useFirestore();\r\n  console.log(history, firestore);\r\n\r\n  useFirestoreConnect(() => [smsQuery]);\r\n  const sms = useSelector(({ firestore: { ordered } }) => ordered.sms);\r\n\r\n  // Show a message while sms are loading\r\n  if (!isLoaded(sms)) {\r\n    return \"Loading\";\r\n  }\r\n\r\n  // Show a message if there are no sms\r\n  if (isEmpty(sms)) {\r\n    return \"Todo list is empty\";\r\n  }\r\n\r\n  return (\r\n    <div className=\"sidebar flex flex-col w-full bg-gray-50 mt-4 p-4 rounded-md\">\r\n      {sms.map(({ id, ...rest }, ind) => (\r\n        <SMSLink key={`${id}-${ind}`} id={id} handleEdit={handleEdit} {...rest} />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst SMSLink = (props) => {\r\n  const { id, handleEdit, ...rest } = props;\r\n  return (\r\n    <div className=\" w-full p-2 grid grid-flow-col auto-cols-fr justify-items-center text-xs \">\r\n      {/* <div>Date</div> */}\r\n      <div>{rest?.customer}</div>\r\n      <div>{rest?.phone}</div>\r\n      <div>{rest?.moveType}</div>\r\n      <div>{id}</div>\r\n      <div className=\"flex\">\r\n        <div className=\"px-2 cursor-pointer\" onClick={handleEdit(id, rest)}>\r\n          <Edit />\r\n        </div>\r\n        <div className=\"px-2\">\r\n          <Delete />\r\n        </div>\r\n      </div>\r\n      {/* {JSON.stringify(rest)} */}\r\n    </div>\r\n  );\r\n};\r\n","import { PDFDocument } from \"pdf-lib\";\r\n\r\nexport async function abhsFill(data) {\r\n  //   const pdf =  http://localhost:3000/material-calculator/pdf/bol.pdf\r\n  const pdf = \"pdf/abhs.pdf\";\r\n  const baseUrl = window.location.origin.toString() + process.env.PUBLIC_URL + \"/\";\r\n  const formUrl = baseUrl + pdf;\r\n  const formPdfBytes = await fetch(formUrl).then((res) => res.arrayBuffer());\r\n\r\n  const pdfDoc = await PDFDocument.load(formPdfBytes);\r\n\r\n  const pages = pdfDoc.getPages();\r\n  const form = pdfDoc.getForm();\r\n\r\n  const {\r\n    reference,\r\n    address,\r\n    type,\r\n    date,\r\n    crew,\r\n    start,\r\n    breaks,\r\n    end,\r\n    totalTime,\r\n    rate,\r\n    travelFee,\r\n    total,\r\n    crewSignature,\r\n    clientSignature,\r\n  } = data;\r\n\r\n  const setField = (pdfField, value, condition = false) => {\r\n    if (!pdfField || !value || condition) return;\r\n    if (Array.isArray(value)) value = value.join(\", \");\r\n    return form.getTextField(pdfField).setText(value.toString());\r\n  };\r\n\r\n  const setSignature = async (signature, x, y, width = 25, height = 10) => {\r\n    if (!signature || !x || !y) return;\r\n    const bytes = await fetch(signature).then((res) => res.arrayBuffer());\r\n    const image = await pdfDoc.embedPng(bytes);\r\n    return pages[0].drawImage(image, { x, y, height, width });\r\n  };\r\n\r\n  //A. CUSTOMER INFORMATION\r\n\r\n  setField(\"reference\", reference);\r\n  setField(\"address\", address);\r\n  setField(\"type\", type);\r\n  setField(\"date\", date);\r\n  setField(\"crew\", crew);\r\n  setField(\"start\", start);\r\n  setField(\"breaks\", breaks);\r\n  setField(\"end\", end);\r\n  setField(\"totalTime\", totalTime);\r\n  setField(\"rate\", rate);\r\n  setField(\"travelFee\", travelFee);\r\n  setField(\"total\", total);\r\n  await setSignature(crewSignature, 107, 53, 150, 35);\r\n  await setSignature(clientSignature, 378, 53, 150, 35);\r\n\r\n  form.flatten();\r\n  const pdfBytes = await pdfDoc.save();\r\n  return pdfBytes;\r\n}\r\n","import React from \"react\";\r\n\r\nexport const Button = (props) => {\r\n  const { Icon, text, onClick = {}, color, className, disabled, ...rest } = props;\r\n\r\n  return (\r\n    <button\r\n      onClick={onClick}\r\n      className={`rounded-md py-2 px-4 text-white ${className} ${!!color && `bg-${color}`}`}\r\n      {...rest}\r\n    >\r\n      {Icon && (\r\n        <span>\r\n          <Icon />\r\n        </span>\r\n      )}\r\n      {!!text && <span>{text}</span>}\r\n    </button>\r\n  );\r\n};\r\n","import React, { useReducer, useEffect } from \"react\";\r\nimport { SectionTitle } from \"../Layout/SectionTitle\";\r\nimport { convertToHHMM, getFormattedDate, timeToDecimal } from \"../../utils/helperFunctions\";\r\nimport { Input } from \"../Inputs/Input\";\r\nimport {\r\n  AccessTime,\r\n  AlarmOn,\r\n  AttachMoney,\r\n  DirectionsRun,\r\n  EmojiPeople,\r\n  Home,\r\n  HourglassEmpty,\r\n  LocalOffer,\r\n  LocalShipping,\r\n  Today,\r\n  Update,\r\n  Weekend,\r\n} from \"@material-ui/icons\";\r\nimport { SignatureBlock } from \"../Inputs/SignatureBlock\";\r\nimport { abhsFill } from \"../../utils/abhsFill\";\r\nimport download from \"downloadjs\";\r\nimport { Button } from \"../Inputs/Button\";\r\n\r\nconst reducer = (state, { payload }) => {\r\n  if (!payload) return state;\r\n  return { ...state, ...payload };\r\n};\r\n\r\nconst initialState = {\r\n  reference: \"Margeaux Everett\",\r\n  address: \"2405 Maple Street, Everett, WA 98201\",\r\n  type: \"Move in & Stage\",\r\n  crew: \"Arnas, Kevan\",\r\n  breaks: \"0\",\r\n  rate: 125,\r\n  travelFee: 62.5,\r\n  date: getFormattedDate(new Date()),\r\n};\r\n\r\nexport const ABHS = () => {\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n\r\n  const {\r\n    reference = \"\",\r\n    address = \"\",\r\n    type = \"\",\r\n    date = \"\",\r\n    crew = \"\",\r\n    start = \"\",\r\n    breaks = \"\",\r\n    end = \"\",\r\n    totalTime = \"\",\r\n    rate = \"\",\r\n    travelFee = \"\",\r\n    total = \"\",\r\n    // crewSignature = \"\",\r\n    // clientSignature = \"\",\r\n  } = state;\r\n\r\n  const sigDispatch = ({ field, value }) => {\r\n    dispatch({ payload: { [field]: value } });\r\n  };\r\n\r\n  const onChange = (e) => {\r\n    dispatch({ payload: { [e.target.name]: e.target.value } });\r\n  };\r\n\r\n  const getPDF = async (e) => {\r\n    download(await abhsFill(state), `ABHS ${getFormattedDate(new Date())}.pdf`, \"application/pdf\");\r\n  };\r\n\r\n  useEffect(() => {\r\n    const begin = timeToDecimal(start);\r\n    let finish = timeToDecimal(end);\r\n    const offTime = timeToDecimal(breaks) || 0;\r\n\r\n    if (begin > finish) finish += 12;\r\n    const th = finish - begin - offTime;\r\n\r\n    dispatch({\r\n      payload: {\r\n        totalTime: convertToHHMM(th >= 0 ? th : 0),\r\n      },\r\n    });\r\n  }, [start, end, breaks, dispatch]);\r\n\r\n  useEffect(() => {\r\n    let value = 0;\r\n\r\n    value = Number(timeToDecimal(totalTime)) * Number(rate);\r\n\r\n    if (!!travelFee) value += travelFee;\r\n\r\n    dispatch({ payload: { total: value } });\r\n  }, [totalTime, rate, travelFee, dispatch]);\r\n\r\n  const jobs = [];\r\n\r\n  return (\r\n    <div className=\"flex flex-col lg:flex-row items-center\">\r\n      <div>{/* <pre>< {JSON/pre> */}</div>\r\n      {/* <div className=\"sidebar bg-gray-300 mx-2 rounded-b-md p-4\">\r\n        <button className>New</button>\r\n        <SectionTitle title=\"Jobs\" hidePlus={true} />\r\n        <div id=\"jobList\">{!!jobs ? jobs.map((job, index) => <div>JOB</div>) : <div>No jobs</div>}</div> */}\r\n      {/* </div> */}\r\n      <div className=\"container bg-gray-50 p-2 rounded-b-md max-w-md\">\r\n        <SectionTitle title=\"ABHS\" hidePlus={true} />\r\n\r\n        <Input name=\"reference\" value={reference} onChange={onChange} Icon={EmojiPeople} label=\"Reference\" />\r\n        <Input name=\"address\" value={address} onChange={onChange} Icon={Home} label=\"address\" />\r\n        <Input name=\"type\" value={type} onChange={onChange} Icon={Weekend} label=\"type\" />\r\n        <Input name=\"date\" value={date} onChange={onChange} Icon={Today} label=\"date\" />\r\n        <Input name=\"crew\" value={crew} onChange={onChange} Icon={DirectionsRun} label=\"crew\" />\r\n        <div className=\"flex\">\r\n          <Input name=\"start\" className=\"w-1/2\" value={start} onChange={onChange} Icon={Update} label=\"start\" />\r\n          <Input name=\"end\" className=\"w-1/2\" value={end} onChange={onChange} Icon={AlarmOn} label=\"end\" />\r\n        </div>\r\n        <Input name=\"breaks\" value={breaks} onChange={onChange} Icon={HourglassEmpty} label=\"breaks\" />\r\n        <Input name=\"totalTime\" value={totalTime} onChange={onChange} Icon={AccessTime} label=\"total Time\" />\r\n        <Input name=\"rate\" value={rate} onChange={onChange} Icon={LocalOffer} label=\"rate\" />\r\n        <Input name=\"travelFee\" value={travelFee} onChange={onChange} Icon={LocalShipping} label=\"travel Fee\" />\r\n        <Input name=\"total\" value={total} onChange={onChange} Icon={AttachMoney} label=\"total\" />\r\n        <span> Crew Signature </span>\r\n        <SignatureBlock dispatch={sigDispatch} type=\"signature\" name=\"crewSignature\" />\r\n        <span> ABHS Signature </span>\r\n        <SignatureBlock dispatch={sigDispatch} type=\"signature\" name=\"clientSignature\" />\r\n\r\n        <div className=\"flex justify-center my-4 bg-green-400 rounded-sm shadow-md\">\r\n          <Button onClick={getPDF} text=\"Download\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { Disclosure, Transition } from \"@headlessui/react\";\r\nimport { ArrowRight } from \"@material-ui/icons\";\r\n\r\n//## Add worker\r\n//## Accordeon\r\n\r\nexport const TipSplit = () => {\r\n  const [crew, setCrew] = useState([]);\r\n  const [mover, setMover] = useState({});\r\n  const [jobDays, setJobDays] = useState();\r\n  const [tip, setTip] = useState(0);\r\n\r\n  const changeTip = (e) => setTip(e.target.value);\r\n  return (\r\n    <div className=\"bg-white p-2 flex flex-col justify-start items-baseline\">\r\n      <h2>Split the tip</h2>\r\n      <label htmlFor=\"tip\">TIP, $</label>\r\n      <input\r\n        name=\"tip\"\r\n        type=\"text\"\r\n        placeholder=\"enter total tip amount\"\r\n        className=\"p-2 border rounded-sm\"\r\n        onChange={changeTip}\r\n      />\r\n      <Disclosure>\r\n        {({ open }) => (\r\n          <>\r\n            <Disclosure.Button>\r\n              Crew #1\r\n              <ArrowRight className={`${open ? \"transform rotate-90\" : \"\"}`} />\r\n            </Disclosure.Button>\r\n\r\n            {/*\r\n            Use the Transition + open render prop argument to add transitions.\r\n          */}\r\n            <Transition\r\n              show={open}\r\n              enter=\"transition duration-100 ease-out\"\r\n              enterFrom=\"transform scale-95 opacity-0\"\r\n              enterTo=\"transform scale-100 opacity-100\"\r\n              leave=\"transition duration-75 ease-out\"\r\n              leaveFrom=\"transform scale-100 opacity-100\"\r\n              leaveTo=\"transform scale-95 opacity-0\"\r\n            >\r\n              {/*\r\n              Don't forget to add `static` to your Disclosure.Panel!\r\n            */}\r\n              <Disclosure.Panel static>\r\n                <li>Arnas</li>\r\n                <li>Kevan</li>\r\n                <li>Connor</li>\r\n                <li>Marc</li>\r\n              </Disclosure.Panel>\r\n            </Transition>\r\n          </>\r\n        )}\r\n      </Disclosure>\r\n      <button>Add Crew</button>\r\n      <button>Add Day</button>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Route, Switch } from \"react-router-dom\";\r\nimport { MaterialsWProvider } from \"../Moves/Materials\";\r\nimport { BillOfLading } from \"./BillOfLading\";\r\nimport { MaterialsProvider, useMaterialsDispatch, useMaterials } from \"../Providers/MaterialsProvider\";\r\nimport { MakeText } from \"./MakeText\";\r\nimport { ABHS } from \"./ABHS\";\r\nimport { TipSplit } from \"./TipSplit\";\r\n\r\nexport const ToosWProviders = () => {\r\n  const materials = useMaterials();\r\n  const materialsDispatch = useMaterialsDispatch();\r\n\r\n  return (\r\n    <div className=\"flex flex-col items-stretch w-full sm:w-3/4 mx-auto lg:w-1/2 pb-10\">\r\n      <Switch>\r\n        <Route path={`/t/materials`}>\r\n          <MaterialsWProvider state={materials} dispatch={materialsDispatch} />\r\n        </Route>\r\n        <Route path={`/t/coordinates`}>\r\n          <BillOfLading />\r\n        </Route>\r\n        <Route path={`/t/sms`}>\r\n          <MakeText />\r\n        </Route>\r\n        <Route path={`/t/abhs`}>\r\n          <ABHS />\r\n        </Route>\r\n        <Route path={`/t/tips`}>\r\n          <TipSplit />\r\n        </Route>\r\n      </Switch>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const Tool = () => {\r\n  return (\r\n    <MaterialsProvider>\r\n      <ToosWProviders />\r\n    </MaterialsProvider>\r\n  );\r\n};\r\n","import React, { memo, useState, useCallback } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Menu, Clear, TurnedIn, TurnedInNot } from \"@material-ui/icons\";\r\n\r\nexport const Appbar = memo((props) => {\r\n  const [open, setOpen] = useState(false);\r\n  const [pinned, setPinned] = useState(false);\r\n  const url = `${process.env.PUBLIC_URL}/favicon.ico`;\r\n\r\n  const toggleOpen = useCallback(() => (!pinned ? setOpen((o) => !o) : null), [pinned]);\r\n  const togglePin = useCallback(() => setPinned((p) => !p), []);\r\n\r\n  const NavLink = ({ to, text }) => {\r\n    return (\r\n      <li className=\"px-2 nav-item\">\r\n        <Link\r\n          onClick={toggleOpen}\r\n          className=\"px-3 py-2 flex items-center text-xs uppercase font-bold leading-snug text-white hover:opacity-75 ml-2\"\r\n          to={to}\r\n          replace\r\n        >\r\n          {text}\r\n        </Link>\r\n      </li>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <nav className=\" flex flex-wrap items-center justify-between px-2 py-1 navbar-expand-lg bg-purple-900 shadow-md border-b-2 border-purple-800 \">\r\n      <div className=\"container px-4 mx-auto flex flex-wrap items-center justify-between\">\r\n        <div className=\"w-full relative flex justify-between lg:w-auto lg:static lg:block lg:justify-start\">\r\n          <Link to=\"/\">\r\n            <div className=\"flex text-white   cursor-pointer text-xl leading-none px-3 py-1 border border-solid border-transparent rounded bg-transparent  outline-none focus:outline-none \">\r\n              <img className=\"bg-white w-6 h-6 p-1\" src={url} alt=\"\" />\r\n              <span className=\"px-2 text-white\">\r\n                <strong>SFM</strong>\r\n              </span>\r\n            </div>\r\n          </Link>\r\n          <div className=\"flex \">\r\n            {open && (\r\n              <button\r\n                type=\"button\"\r\n                onClick={togglePin}\r\n                className=\"text-white opacity-30 cursor-pointer text-xl leading-none px-3 py-1 border border-solid border-transparent rounded bg-transparent block lg:hidden outline-none focus:outline-none\"\r\n              >\r\n                {pinned ? <TurnedIn /> : <TurnedInNot />}\r\n              </button>\r\n            )}\r\n\r\n            <button\r\n              className=\"text-white cursor-pointer text-xl leading-none px-3 py-1 border border-solid border-transparent rounded bg-transparent block lg:hidden outline-none focus:outline-none\"\r\n              type=\"button\"\r\n              onClick={toggleOpen}\r\n            >\r\n              {open ? <Clear /> : <Menu />}\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <div className={\"lg:flex flex-grow items-center\" + (open ? \" flex\" : \" hidden\")} id=\"example-navbar-danger\">\r\n          <ul className=\"flex flex-col lg:flex-row list-none lg:ml-auto\">\r\n            <NavLink to=\"/moves\" text=\"Moves\" />\r\n            <NavLink to=\"/estimates\" text=\"Estimates\" />\r\n            <NavLink to=\"/paramount\" text=\"Paramount\" />\r\n            <NavLink to=\"/dispatch\" text=\"Dispatch\" />\r\n            <NavLink to=\"/warehouse\" text=\"Warehouse\" />\r\n            <NavLink to=\"/tools\" text=\"tools\" />\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n});\r\n","import React from \"react\";\r\nimport { HashRouter as Router, Switch, Route, Redirect } from \"react-router-dom\";\r\n\r\nimport { Moves } from \"./components/Moves/Moves\";\r\nimport { Move } from \"./components/Moves/Move\";\r\nimport { MoveInOne } from \"./components/Moves/MoveInOne\";\r\n\r\nimport { Estimates } from \"./components/Estimates/Estimates\";\r\nimport { Estimate } from \"./components/Estimates/Estimate\";\r\n\r\nimport { Paramounts } from \"./components/Paramount/Paramounts\";\r\nimport { Paramount } from \"./components/Paramount/Paramount\";\r\n\r\nimport { Dispatch } from \"./components/Dispatch/Dispatch\";\r\nimport { Job } from \"./components/Dispatch/Job\";\r\n\r\nimport Warehouse from \"./components/Warehouse/Warehouse\";\r\nimport Ware from \"./components/Warehouse/Ware\";\r\n\r\nimport { Tools } from \"./components/Tools/Tools\";\r\nimport { Tool } from \"./components/Tools/Tool\";\r\n\r\nimport { Appbar } from \"./components/Layout/Appbar\";\r\n\r\n// import firebase from \"firebase/app\";\r\n// import \"firebase/firestore\";\r\n// import \"firebase/auth\";\r\n\r\n// import { useAuthState } from \"react-firebase-hooks/auth\";\r\n// import { useCollectionData } from \"react-firebase-hooks/firestore\";\r\n\r\n// const firebaseConfig = {\r\n//   apiKey: \"AIzaSyB1WHQPb434r37qVAQYoC53f5_cyaxMWmg\",\r\n//   authDomain: \"sfm-tools-448ab.firebaseapp.com\",\r\n//   projectId: \"sfm-tools-448ab\",\r\n//   storageBucket: \"sfm-tools-448ab.appspot.com\",\r\n//   messagingSenderId: \"980029527425\",\r\n//   appId: \"1:980029527425:web:52b20aa5a85cca58b20480\",\r\n// };\r\n\r\n// if (!firebase.apps.length) {\r\n//   firebase.initializeApp({});\r\n// } else {\r\n//   firebase.app(); // if already initialized, use that one\r\n// }\r\n\r\n// firebase.initializeApp(firebaseConfig);\r\n\r\n// const auth = firebase.auth();\r\n// const firestore = firebase.firestore();\r\n\r\nfunction App() {\r\n  // const [user] = useAuthState(auth);\r\n\r\n  return (\r\n    <Router basename=\"/\">\r\n      <div className=\"min-h-screen w-full flex flex-col justify-between \">\r\n        <Appbar />\r\n        {/* <div className=\"p-5 bg-white\"> */}\r\n        {/* {user ? (\r\n          <div>\r\n            yes user <SignOut />\r\n          </div>\r\n        ) : (\r\n          <SignIn />\r\n        )} */}\r\n        {/* </div> */}\r\n        <div className=\"flex-grow relative w-full rounded-b-lg shadow-2xl  \">\r\n          <Switch>\r\n            <Redirect exact from=\"/\" to=\"/p/R2tpMl/\" />\r\n            <Redirect exact from=\"/materials\" to=\"/t/materials\" />\r\n            <Redirect exact from=\"/bol\" to=\"/t/coordinates\" />\r\n            <Redirect exact from=\"/bingo\" to=\"/t/loadchart\" />\r\n\r\n            <Route path=\"/moves\" component={Moves} />\r\n            <Route path=\"/m/:moveId\" component={Move} />\r\n\r\n            <Route path=\"/estimates\" component={Estimates} />\r\n            <Route path=\"/e/:estimateId\" component={Estimate} />\r\n\r\n            <Route path=\"/paramount\" component={Paramounts} />\r\n            <Route path=\"/p/:pId\" component={Paramount} />\r\n\r\n            <Route path=\"/dispatch\" component={Dispatch} />\r\n            <Route path=\"/d/:jobId\" component={Job} />\r\n\r\n            <Route path=\"/warehouse\" component={Warehouse} />\r\n            <Route path=\"/w/:wId\" component={Ware} />\r\n\r\n            <Route path=\"/tools\" component={Tools} />\r\n            <Route path=\"/t/:toolId\" component={Tool} />\r\n          </Switch>\r\n          <Switch>\r\n            <Route path=\"/m1/:moveId\" component={MoveInOne} />\r\n          </Switch>\r\n        </div>\r\n        {/* <div className=\"w-full h-20 mt-8 \">FOOTER</div> */}\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\nexport default App;\r\n\r\n// function SignIn() {\r\n//   const signInWithGoogle = () => {\r\n//     const provider = new firebase.auth.GoogleAuthProvider();\r\n//     auth.signInWithPopup(provider);\r\n//   };\r\n\r\n//   return (\r\n//     <>\r\n//       <button className=\"sign-in\" onClick={signInWithGoogle}>\r\n//         Sign in with Google\r\n//       </button>\r\n//       <p>Do not violate the community guidelines or you will be banned for life!</p>\r\n//     </>\r\n//   );\r\n// }\r\n\r\n// function SignOut() {\r\n//   return (\r\n//     auth.currentUser && (\r\n//       <button className=\"sign-out\" onClick={() => auth.signOut()}>\r\n//         Sign Out\r\n//       </button>\r\n//     )\r\n//   );\r\n// }\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import { SET_FILTER } from \"../actionTypes\";\r\nimport { VISIBILITY_FILTERS } from \"../../constants\";\r\n\r\nconst initialState = VISIBILITY_FILTERS.ALL;\r\n\r\nconst visibilityFilter = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_FILTER: {\r\n      return action.payload.filter;\r\n    }\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n};\r\n\r\nexport default visibilityFilter;\r\n","import { ADD_WARE, TOGGLE_WARE } from \"../actionTypes\";\r\n\r\nconst initialState = {\r\n  allIds: [],\r\n  byIds: {},\r\n};\r\n\r\nexport default function wares(state = initialState, action) {\r\n  switch (action.type) {\r\n    case ADD_WARE: {\r\n      const { id, content } = action.payload;\r\n      return {\r\n        ...state,\r\n        allIds: [...state.allIds, id],\r\n        byIds: {\r\n          ...state.byIds,\r\n          [id]: {\r\n            content,\r\n            completed: false,\r\n          },\r\n        },\r\n      };\r\n    }\r\n    case TOGGLE_WARE: {\r\n      const { id } = action.payload;\r\n      return {\r\n        ...state,\r\n        byIds: {\r\n          ...state.byIds,\r\n          [id]: {\r\n            ...state.byIds[id],\r\n            completed: !state.byIds[id].completed,\r\n          },\r\n        },\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","//TODO CREATE ACTION TYPES\r\n// import { ADD_WARE, TOGGLE_WARE } from \"../actionTypes\";\r\n\r\nconst initialState = {\r\n  materials: [],\r\n  miscFees: [],\r\n};\r\n\r\nexport default function move(state = initialState, { field, value = \"\", type, groupName, payload, id = null }) {\r\n  if (!type && field) {\r\n    return {\r\n      ...state,\r\n      [field]: value,\r\n    };\r\n  } else {\r\n    const group = state[groupName];\r\n    switch (type) {\r\n      case \"fieldsUpdate\": {\r\n        return {\r\n          ...state,\r\n          ...payload,\r\n        };\r\n      }\r\n      case \"groupUpdate\": {\r\n        if (!id || !groupName || !group) return { ...state };\r\n        return {\r\n          ...state,\r\n          [groupName]: group?.find((g) => g.id === id)\r\n            ? group?.map((g) => (id === g.id ? { ...g, ...payload } : g))\r\n            : [...group, { id, ...payload }],\r\n        };\r\n      }\r\n      case \"groupClear\": {\r\n        if (!groupName) return { ...state };\r\n        return {\r\n          ...state,\r\n          [groupName]: [],\r\n        };\r\n      }\r\n      case \"groupRemove\": {\r\n        if (!id || !groupName) return { ...state };\r\n        return {\r\n          ...state,\r\n          [groupName]: group.filter((g) => g.id !== id),\r\n        };\r\n      }\r\n      case \"clearData\": {\r\n        return initialState;\r\n      }\r\n      default:\r\n        return state;\r\n    }\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport { firebaseConfig } from \"./firebase/firebaseConfig\";\r\n\r\n// import \"./assets/main.css\";\r\nimport { Provider } from \"react-redux\";\r\n// import store from \"./redux/store\";\r\nimport \"./index.css\";\r\n\r\nimport App from \"./App\";\r\n\r\nimport * as serviceWorker from \"./serviceWorker\";\r\n\r\nimport firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/storage\";\r\nimport \"firebase/firestore\"; // <- needed if using firestore\r\nimport \"firebase/functions\"; // <- needed if using httpsCallable\r\nimport { createStore, combineReducers } from \"redux\";\r\nimport { ReactReduxFirebaseProvider } from \"react-redux-firebase\";\r\nimport { createFirestoreInstance, firestoreReducer } from \"redux-firestore\"; // <- needed if using firestore\r\n\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\n\r\nimport visibilityFilter from \"./redux/reducers/visibilityFilter\";\r\nimport wares from \"./redux/reducers/wares\";\r\nimport move from \"./redux/reducers/move\";\r\n\r\n// react-redux-firebase config\r\nconst rrfConfig = {\r\n  userProfile: \"users\",\r\n  useFirestoreForProfile: true, // Firestore for Profile instead of Realtime DB\r\n};\r\n\r\n// Initialize firebase instance\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\n// Initialize other services on firebase instance\r\nconst projectFirestore = firebase.firestore(); // <- needed if using firestore\r\nconst projectFunctions = firebase.functions(); // <- needed if using httpsCallable\r\nconst projectStorage = firebase.storage();\r\nconst timestamp = firebase.firestore.FieldValue.serverTimestamp;\r\n\r\n// Add firebase to reducers\r\nconst rootReducer = combineReducers({\r\n  // firebase: firebaseReducer,\r\n  visibilityFilter,\r\n  wares,\r\n  move,\r\n  firestore: firestoreReducer, // <- needed if using firestore\r\n});\r\n\r\n// Create store with reducers and initial state\r\n// const initialState = {};\r\nconst store = createStore(rootReducer, composeWithDevTools());\r\n\r\nconst rrfProps = {\r\n  firebase,\r\n  config: rrfConfig,\r\n  dispatch: store.dispatch,\r\n  createFirestoreInstance, // <- needed if using firestore\r\n};\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <ReactReduxFirebaseProvider {...rrfProps}>\r\n        <App />\r\n      </ReactReduxFirebaseProvider>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n\r\nexport { projectStorage, projectFirestore, projectFunctions, timestamp };\r\n","// firebaseConfig.js\r\n// Contains the config details of firebase, this should NOT be committed to your repo\r\n// if the repo is public\r\n// You could optionally use .env file to store these data\r\n\r\nexport const firebaseConfig = {\r\n  apiKey: \"AIzaSyB1WHQPb434r37qVAQYoC53f5_cyaxMWmg\",\r\n  authDomain: \"sfm-tools-448ab.firebaseapp.com\",\r\n  projectId: \"sfm-tools-448ab\",\r\n  storageBucket: \"sfm-tools-448ab.appspot.com\",\r\n  messagingSenderId: \"980029527425\",\r\n  appId: \"1:980029527425:web:52b20aa5a85cca58b20480\",\r\n};\r\n"],"sourceRoot":""}