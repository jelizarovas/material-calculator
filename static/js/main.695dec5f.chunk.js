(this.webpackJsonpsft=this.webpackJsonpsft||[]).push([[0],{2052:function(e,t,n){"use strict";n.r(t),n.d(t,"projectStorage",(function(){return rc})),n.d(t,"projectFirestore",(function(){return ac})),n.d(t,"projectFunctions",(function(){return cc})),n.d(t,"timestamp",(function(){return ic}));var a=n(8),c=n(1),r=n.n(c),i=n(72),s=n.n(i),o=n(36),l=(n(343),n(27)),u=n(32),d=n(48),j=n(21),b=n.n(j),m=n(28),x=n(74),f=n(2070),h=n(2071),p=n(2072),v=n(35),O=n(0),g={collection:"moves",limitTo:10},y=function(e){var t=e.id,n=void 0===t?"":t,a=e.firstName,c=e.lastName,r=e.fullName,i=void 0===r?"":r,s=e.phone,o=void 0===s?"":s,u=e.email,d=void 0===u?"":u;return Object(O.jsxs)("div",{className:"hover:bg-pink-500 hover:text-white cursor-pointer flex w-full justify-around",children:[Object(O.jsx)("div",{children:Object(O.jsxs)(l.b,{to:"/m1/".concat(n),children:[" ",n]})}),Object(O.jsx)("div",{children:Object(O.jsx)(l.b,{to:"/m1/".concat(n),children:i||a&&c?a+" "+c:""})}),Object(O.jsx)("div",{children:Object(O.jsx)(l.b,{to:"/m1/".concat(n),children:d})}),Object(O.jsx)("div",{children:Object(O.jsx)(l.b,{to:"/m1/".concat(n),children:o})}),Object(O.jsx)("div",{children:Object(O.jsx)(l.b,{to:"/m1/".concat(n),children:"View"})})]})},w=function(){var e=Object(v.useFirestore)(),t=Object(u.g)(),n=function(){var n=Object(m.a)(b.a.mark((function n(){var a;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=Object(x.a)(6),n.prev=1,n.next=4,e.collection("moves").doc(a).set({createdAt:ic()});case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(1),console.log(n.t0);case 9:t.push({pathname:"/m/".concat(a)});case 10:case"end":return n.stop()}}),n,null,[[1,6]])})));return function(){return n.apply(this,arguments)}}();Object(v.useFirestoreConnect)((function(){return[g]}));var c=Object(o.c)((function(e){return e.firestore.ordered.moves}));if(!Object(v.isLoaded)(c))return"Loading Moves...";if(Object(v.isEmpty)(c))return"Move list is empty";return Object(O.jsxs)("div",{className:"container bg-white mx-auto  min-h-full flex flex-col items-center pb-4 mb-4",children:[Object(O.jsx)(N,{newMove:n,filter:function(){return console.log("filter")},search:function(){return console.log("search")}}),Object(O.jsx)("div",{className:"flex justify-between w-full",children:Object(O.jsx)("div",{className:"sidebar flex flex-col w-full",children:c.map((function(e,t){var n=e.id,c=Object(d.a)(e,["id"]);return Object(O.jsx)(y,Object(a.a)({id:n},c),"".concat(n,"-").concat(t))}))})})]})},N=function(e){var t=e.newMove,n=e.filter,a=e.search;return Object(O.jsxs)("div",{className:"w-full bg-gray-200 flex justify-between border border-gray-300 mb-2",children:[Object(O.jsx)("div",{className:" flex items-center",children:Object(O.jsxs)("span",{className:"py-2 px-4 ",children:[Object(O.jsx)("span",{className:"hover:underline px-2 cursor-pointer",children:"... /"}),Object(O.jsx)("span",{className:"hover:underline  cursor-pointer",children:"Moves /"})]})}),Object(O.jsxs)("div",{className:"rightToolbar flex",children:[Object(O.jsxs)("button",{className:" text white p-2 rounded-md  flex items-center px-4 ",onClick:a,children:[Object(O.jsx)("span",{children:Object(O.jsx)(f.a,{className:"p-1"})}),"Search"]}),Object(O.jsxs)("button",{className:" text white p-2 rounded-md  flex items-center px-4 ",onClick:n,children:[Object(O.jsx)("span",{children:Object(O.jsx)(h.a,{className:"p-1"})}),"Filter"]}),Object(O.jsxs)("button",{className:" text white p-2 rounded-md  flex items-center px-4 ",onClick:t,children:[Object(O.jsx)("span",{children:Object(O.jsx)(p.a,{className:"p-1"})}),"New Move"]})]})]})},C=n(10),k=n(23),I=n(2073),S=n(140),T=n(70);function F(e){T.isMacOs||T.isIOS||window.navigator.vibrate(e)}var E=function(e){var t=e.count,n=e.changeCount;return Object(O.jsxs)("div",{className:"flex flex-row w-28 h-8 mx-auto  rounded-md relative bg-purple-200 bg-opacity-50 my-1 ",children:[Object(O.jsx)("button",{onClick:function(){t>0&&(n(t-1),F([50,50,50]))},className:" text-2xl font-thin select-none  text-gray-600 hover:text-red-700 hover:bg-red-200 w-20 rounded-l cursor-pointer",children:"\u2212"}),Object(O.jsx)("input",{min:"0",type:"number",name:"custom-input-number",className:Object(S.a)(" bg-white bg-opacity-60  text-center w-12  font-semibold text-md hover:text-black focus:text-black  md:text-basecursor-default flex items-center text-gray-700",t>0&&"bg-yellow-200"),onChange:function(e){var t=parseInt(e.target.value)||0;return n(t)},onKeyPress:function(e){"ArrowLeft"!==e.key&&"ArrowRight"!==e.key&&"ArrowUp"!==e.key&&"ArrowDown"!==e.key&&"Delete"!==e.key&&"Backspace"!==e.key&&-1===e.key.search(/\d/)&&e.preventDefault()},onFocus:function(e){return e.target.select()},onKeyDown:function(e){return"Enter"===e.key?e.target.blur():null},value:t.toString()}),Object(O.jsx)("button",{onClick:function(){n(t+1),F([50])},className:" text-2xl font-thin select-none  text-gray-600 hover:text-green-700 hover:bg-green-200 w-20 rounded-r cursor-pointer",children:"+"})]})},P=Object(c.memo)(E),M=Object(c.memo)((function(e){var t=e.handleChange,n=e.handleRemove,a=e.id,r=e.name,i=e.img,s=e.rate,o=void 0===s?0:s,l=e.units,u=void 0===l?0:l,d=e.total,j=void 0===d?0:d,b=e.isCustom,m=void 0!==b&&b,x=Object(c.useCallback)((function(e){t(a,{units:e,total:Number(e)*Number(o)})}),[a,t,o]),f=Object(c.useCallback)((function(e){t(a,{rate:e.target.value,total:Number(u)*Number(e.target.value)})}),[a,t,u]),h=Object(c.useCallback)((function(e){t(a,Object(k.a)({},e.target.name,e.target.value))}),[a,t]);return Object(O.jsxs)("div",{className:"odd:bg-gray-50 flex relative justify-between items-center  border-b ".concat(u>0?"bg-green-50 hover:bg-green-100":"hover:bg-purple-100"),children:[Object(O.jsxs)("div",{className:"flex items-center w-1/3 sm:w-1/2   align-middle  pl-2",children:[Object(O.jsx)("div",{className:"pr-3",children:m?Object(O.jsx)(I.a,{onClick:function(){return n(a)},className:"p-1 hover:text-red-400 cursor-pointer"}):Object(O.jsx)("img",{className:"max-h-5 w-5",src:"/sfm/"+i,alt:""})}),Object(O.jsx)("div",{className:"flex-col w-full flex-1   truncate",children:m?Object(O.jsx)("input",{name:"name",value:r,onChange:h,onFocus:function(e){return e.target.select()},onKeyPress:function(e){"Enter"===e.key&&e.target.blur()},className:"p-1 bg-transparent w-full  text-xs border-b-2 focus:border-green-700 hover:border-green-700  cursor-pointer"}):Object(O.jsx)("span",{className:"select-none text-sm truncte",children:r})})]}),Object(O.jsx)("div",{className:"w-1/4",children:Object(O.jsx)(P,{count:u,changeCount:x})}),Object(O.jsxs)("div",{className:"text-right text-xs px-3 flex items-center flex-nowrap flex-shrink-0 justify-center w-1/3 sm:w-1/4",children:[Object(O.jsx)("span",{className:u>0?"text-gray-800":"text-gray-400",children:u>0?"\xd7 ":"$"}),Object(O.jsx)("input",{className:"p-1 w-9 bg-transparent  text-xs text-center  border-b focus:border-green-700 hover:border-green-700  cursor-pointer",name:"rate",value:o,type:"number",onChange:f,onFocus:function(e){return e.target.select()},onKeyPress:function(e){"Enter"===e.key&&e.target.blur()}}),Object(O.jsx)("span",{className:"truncate ".concat(u>0?"text-gray-800":"text-gray-400"," "),children:u>0?" = $ ".concat(j):"/ unit"})]})]})})),A=[{id:"q3lYEM",name:"Small Box",volume:1.5,w:"16 3/8",d:"12 5/8",h:"12 5/8",units:0,img:"img/small.png",history:{},rate:3},{id:"KX1q8A",name:"Medium Box",volume:3,w:"18",d:"18",h:"16",units:0,img:"img/medium.png",history:{},rate:4},{id:"AT9F5y",name:"Large Box",volume:4.5,w:"18",d:"18",h:"24",units:0,img:"img/large.png",history:{},rate:5},{id:"L2NPOm",name:"Mattress Bag",description:"For use on mattresses & box springs",units:0,img:"img/matbags.png",history:{},rate:5},{id:"Zb53TO",name:"Wardrobe (Rent)",rent:!0,volume:13,w:"24",d:"24",h:"40",units:0,img:"img/wardrobe.png",history:{},rate:5},{id:"jj4ghI",name:"TV Box S",units:0,img:"img/tv.png",w:"46",d:"6",h:"30",history:{},rate:25},{id:"fjCPOT",name:"Small Mirror Pak",volume:13,w:"37 5/16",d:"4 3/8",h:"26 15/16",units:0,img:"img/smirror.png",history:{},rate:5},{id:"UmttCz",name:"Large Mirror Pak",volume:13,w:"48",d:"4 1/2",h:"33",units:0,img:"img/lmirror.png",history:{},rate:10},{id:"Aic8ie",name:"Flat Wardrobe",volume:13,w:"35",d:"20",h:"9",units:0,img:"img/laydown.png",history:{},rate:5},{id:"XjYPgM",name:"Wardrobe (Buy)",volume:13,w:"24",d:"24",h:"40",units:0,img:"img/wardrobe.png",history:{},rate:15},{id:"dW96Oj",name:"Paper Pads",units:0,img:"img/pads.png",history:{},rate:2},{id:"K6HCr1",name:"Stretch Wrap",units:0,img:"img/wrap.png",history:{},rate:20},{id:"s1s12u",name:"Carpet Protection",units:0,img:"img/carpet.png",history:{},rate:45},{id:"INaIjO",name:"Ropes",units:0,img:"img/rope.png",history:{},rate:5},{id:"s0mSbR",name:"Blankets",units:0,img:"img/blanket.png",history:{},rate:10}],D=n(37);function R(e){var t=e.getFullYear();return(1+e.getMonth()).toString().padStart(2,"0")+"/"+e.getDate().toString().padStart(2,"0")+"/"+t}function L(e){if(!e)return"";var t=e.split(":"),n=parseInt(t[1]/6*10,10);return parseFloat(parseInt(t[0],10)+"."+(n<10?"0":"")+n)}function W(e){var t=parseInt(Number(e)),n=Math.round(60*(Number(e)-t));return t+":"+(n<10?"0":"")+n}function B(e){return Math.ceil(100*e)/100}function V(e){var t=e?new Date(e):new Date;return t.setDate(t.getDate()+1),R(t)}function H(e){var t=e?new Date(e):new Date;return t.setDate(t.getDate()-1),R(t)}function U(e,t){return e.length<=t?e:e.slice(0,t)+"..."}function G(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e){return e>0};if(!e||!Array.isArray(e))return[];var c=t-(null===e||void 0===e?void 0:e.filter((function(e){return a(e[n])||e.isCustom})).length);return null===e||void 0===e?void 0:e.filter((function(e){return c>0&&!a(e[n])&&!e.isCustom?(c--,!0):a(e[n])||e.isCustom}))}var $=function(){function e(e,t,n){for(var a=0;a<t;++a)if(0!==e.data[n*t*4+4*a+3])return!1;return!0}function t(e,t,n,a,c){for(var r=a;r<c;++r)if(0!==e.data[r*t*4+4*n+3])return!1;return!0}return function(n){for(var a=n.getContext("2d"),c=n.width,r=a.getImageData(0,0,n.width,n.height),i=0,s=r.height,o=0,l=r.width;i<s&&e(r,c,i);)++i;for(;s-1>i&&e(r,c,s-1);)--s;for(;o<l&&t(r,c,o,i,s);)++o;for(;l-1>o&&t(r,c,l-1,i,s);)--l;var u=a.getImageData(o,i,l-o,s-i),d=n.ownerDocument.createElement("canvas"),j=d.getContext("2d");return d.width=u.width,d.height=u.height,j.putImageData(u,0,0),d}}(),z=Object(c.createContext)(),K=Object(c.createContext)(),J=function(){var e=Object(c.useContext)(z);if(void 0===e)throw new Error("useMove must be used within a MoveProvider");return e},_=function(){var e=Object(c.useContext)(K);if(void 0===e)throw new Error("useMoveDispatch must be used within a MoveDispatchProvider");return e},Y=function(e,t){var n=t.field,c=t.value,r=void 0===c?"":c,i=t.type,s=t.groupName,o=t.payload,l=t.id,u=void 0===l?null:l;if(console.log({field:n,type:i,payload:o,id:u,value:r}),!i&&n)return Object(a.a)(Object(a.a)({},e),{},Object(k.a)({},n,r));var d=e[s];switch(i){case"fieldsUpdate":return Object(a.a)(Object(a.a)({},e),o);case"groupUpdate":return u&&s&&d?Object(a.a)(Object(a.a)({},e),{},Object(k.a)({},s,(null===d||void 0===d?void 0:d.find((function(e){return e.id===u})))?null===d||void 0===d?void 0:d.map((function(e){return u===e.id?Object(a.a)(Object(a.a)({},e),o):e})):[].concat(Object(D.a)(d),[Object(a.a)({id:u},o)]))):Object(a.a)({},e);case"groupClear":return s?Object(a.a)(Object(a.a)({},e),{},Object(k.a)({},s,[])):Object(a.a)({},e);case"groupRemove":return u&&s?Object(a.a)(Object(a.a)({},e),{},Object(k.a)({},s,d.filter((function(e){return e.id!==u})))):Object(a.a)({},e);case"clearData":return{};default:return e}},q=function(e){var t,n=e.children,a=Object(c.useReducer)((t=Y,function(e,n){var a=t(e,n);return localStorage.setItem("move",JSON.stringify(a)),a}),function(){if(!("move"in localStorage))return{};try{return JSON.parse(localStorage.getItem("move"))}catch(e){return{}}}()),r=Object(C.a)(a,2),i=r[0],s=r[1],o=i.valuation,l=i.valuationCost,u=i.valuationCostWithDeductible,d=i.shipmentValue,j=i.valuationRate,b=i.valuationRateWithDeductible,m=i.estimatedWeight,x=i.hourlyRate,f=i.travelTime,h=i.totalHours,p=i.startTime,v=i.endTime,g=i.arriveTime,y=i.departTime,w=i.breakTime,N=i.subtotal,k=i.materials,I=void 0===k?[]:k,S=i.miscFees,T=void 0===S?[]:S,F=i.isTravelFeeFixed,E=i.travelFee,P=i.totalValuation,M=i.cubicWeight,A=i.netWeight,D=i.grossWeight,R=i.tareWeight,V=i.weightType,H=i.mileageRate,U=i.totalMovingCharges,G=i.totalAmountPaid,$=i.flatIsMaterialsIncluded,J=i.paymentOption,_=i.totalTransportation,q=i.jobType,Z=i.flatAmount,Q=i.totalMaterials,ee=i.totalMiscFees;return Object(c.useEffect)((function(){s({field:"totalValuation",value:"basic"===o?0:"replacement"===o?l:u})}),[o,l,u,s]),Object(c.useEffect)((function(){s({type:"fieldsUpdate",payload:{valuationCost:Math.ceil(Number(d)/100*Number(j)*100)/100,valuationCostWithDeductible:Math.ceil(Number(d)/100*Number(b)*100)/100}})}),[d,j,b,s]),Object(c.useEffect)((function(){s({field:"shipmentValue",value:5*Number(m)})}),[m,s]),Object(c.useEffect)((function(){}),[I,q,$,s]),Object(c.useEffect)((function(){}),[T,$,s]),Object(c.useEffect)((function(){var e=L(F?g:p),t=L(F?y:v);e>t&&(t+=12);var n=t-e-L(w);s({field:"totalHours",value:W(n>=0?n:0)})}),[h,p,v,g,y,w,F,s]),Object(c.useEffect)((function(){var e="0";x&&f&&(e=(Number(x)*Number(f)).toString()),s({field:"travelfee",value:e})}),[f,x,s]),Object(c.useEffect)((function(){var e=0;if(V&&M&&"cubicWeight"===V&&(e=M),V&&"weightTicket"===V){var t=Number(D||0)-Number(R||0);e=t>0?t:0}s({field:"netWeight",value:e})}),[V,M,A,D,R,s]),Object(c.useEffect)((function(){var e=0;"flatRate"===q&&Z&&(e=Number(Z)),"local"===q&&x&&h&&(console.log({hourlyRate:x,totalHours:h,isTravelFeeFixed:F,travelFee:E}),e=Number(L(h))*Number(x),F&&E&&(e+=Number(E))),"longDistance"===q&&A&&H&&(e=Number(A)*Number(H)),e.toString(),s({field:"totalTransportation",value:e})}),[q,Z,h,x,A,H,E,F,s]),Object(c.useEffect)((function(){s({field:"subtotal",value:X([_,ee,Q,P]).toString()})}),[_,ee,Q,P]),Object(c.useEffect)((function(){var e=0;switch(J){case"cash":e=-.05;break;case"card":e=.03}var t=Number(N)*e,n=Number(N)*(1+Number(e));return s({type:"fieldsUpdate",payload:{adjustment:B(t).toString(),totalMovingCharges:B(n).toString()}}),function(){}}),[J,N]),Object(c.useEffect)((function(){var e=Number(U)-Number(G);s({field:"remainingBalance",value:B(e).toString()})}),[G,U]),Object(O.jsx)(z.Provider,{value:i,children:Object(O.jsx)(K.Provider,{value:s,children:n})})};function X(e){if(e)return 0;var t=e.reduce((function(e,t){return t?e+Number(t):e}));return console.log({sumIs:t}),t}var Z=Object(c.memo)((function(e){var t=e.title,n=e.plus,a=void 0===n||n,c=e.hidePlus,r=void 0!==c&&c,i=e.Icon,s=void 0===i?void 0:i,o=e.Icon2,l=void 0===o?void 0:o,u=e.onClick,d=e.onClick2;return Object(O.jsxs)("div",{className:"flex justify-between rounded-t-lg text-purple-600 border-b  mt-2 mb-2 bg-gray-200 border-purple-500",children:[Object(O.jsxs)("h2",{className:"text-lg  px-4 py-2   font-medium ",children:[" ",t]}),!r&&Object(O.jsxs)("div",{className:"text-gray-600 cursor-pointer select-none font-thin flex items-center ",children:[d&&l&&Object(O.jsx)("span",{onClick:d,className:"hover:text-purple-500  px-3 rounded-lg  ",children:l?Object(O.jsx)(l,{className:"p-1"}):a?"+":"\xd7"}),Object(O.jsx)("span",{onClick:u,className:"  hover:text-purple-500  px-3 rounded-lg   ",children:s?Object(O.jsx)(s,{className:"p-1"}):a?"+":"\xd7"})]})]})})),Q=n(2074),ee=n(2075),te=Object(c.memo)((function(e){var t=e.showMore,n=e.setShowMore,a=e.total,c=e.handleAdd;return Object(O.jsxs)("div",{className:"text-gray-500  text-xs flex justify-between w-full mx-auto   rounded-b-lg",children:[Object(O.jsxs)("div",{onClick:function(){return c()},className:"select-none truncate w-1/3 md:w-1/4 flex justify-center items-center shadow-sm bg-white p-2 py-2 rounded-b-md cursor-pointer hover:text-green-800   mr-1",children:[Object(O.jsx)(p.a,{className:"p-1 mx-2 "})," Add Custom"]}),Object(O.jsx)("div",{className:"truncate shadow-sm w-1/3 md:w-1/4 text-xs flex justify-evenly hover:text-gray-800   bg-white  p-2 py-2 rounded-b-md cursor-pointer ",onClick:function(){return n(!t)},children:t?Object(O.jsxs)("span",{className:"truncate",children:["Show Less ",Object(O.jsx)(Q.a,{})]}):Object(O.jsxs)("span",{children:["Show More ",Object(O.jsx)(ee.a,{})]})}),Object(O.jsxs)("div",{className:"truncate w-1/3 md:w-1/4 shadow-sm flex justify-center bg-white p-2 py-2 rounded-b-md ml-1",children:["Total: ",Object(O.jsxs)("span",{className:"px-2",children:["$",a]})]})]})})),ne=function(e,t,n,r){var i=Object(c.useState)(function(e,t){if(!e||void 0===t)return{};var n=e.map((function(e){var n=null===t||void 0===t?void 0:t.find((function(t){return t.id===e.id}));if(n){var c=Object(a.a)({Icon:{},Guide:{}},n),r=(c.Icon,c.Guide,Object(d.a)(c,["Icon","Guide"]));return Object(a.a)(Object(a.a)({},e),r)}return e}));return[].concat(Object(D.a)(n),Object(D.a)(null===t||void 0===t?void 0:t.filter((function(e){return e.isCustom}))))}(t,n)),s=Object(C.a)(i,2),o=s[0],l=s[1],u=Object(c.useCallback)((function(c){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n.find((function(e){return e.id===c}))||(i=Object(a.a)(Object(a.a)({},t.find((function(e){return e.id===c}))),i),["Icon","Guide"].forEach((function(e){return delete i[e]}))),r({groupName:e,type:"groupUpdate",id:c,payload:i}),l((function(e){return e.map((function(e){return c===e.id?Object(a.a)(Object(a.a)({},e),i):e}))}))}),[r,e,n,t]),j=Object(c.useCallback)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Object(x.a)(6),c=Object(a.a)(Object(a.a)({name:"Custom - ".concat(n)},t),{},{isCustom:!0});r({groupName:e,type:"groupUpdate",id:n,payload:c}),l((function(e){return[].concat(Object(D.a)(e),[Object(a.a)({id:n},c)])}))}),[r,e]),b=Object(c.useCallback)((function(t){r({groupName:e,type:"groupRemove",id:t}),l((function(e){return e.filter((function(e){return e.id!==t}))}))}),[r,e]),m=Object(c.useCallback)((function(){r({groupName:e,type:"groupClear"}),l(t),F(500)}),[e,r,t]);return[o,l,u,j,b,m]},ae=function(e){var t=e.groupName,n=void 0===t?"materials":t,r=e.showMoreDefault,i=void 0===r||r,s=e.state,o=e.dispatch,l=(Object(d.a)(e,["groupName","showMoreDefault","state","dispatch"]),s.totalMaterials),u=void 0===l?0:l,j=s.materials,b=ne(n,A,void 0===j?[]:j,o),m=Object(C.a)(b,6),x=m[0],f=m[2],h=m[3],p=m[4],v=m[5],g=Object(c.useState)(i),y=Object(C.a)(g,2),w=y[0],N=y[1];return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(Z,{title:"Materials Used",Icon:I.a,onClick:v}),Object(O.jsx)("div",{className:"flex flex-col mt-2 w-full  mx-auto shadow-sm bg-white rounded-md",children:(w?x:G(x,8,"units",(function(e){return e>0}))).map((function(e,t){return Object(O.jsx)(M,Object(a.a)({handleRemove:p,handleChange:f},e),e.id)}))}),Object(O.jsx)(te,{showMore:w,setShowMore:N,total:u,handleAdd:h})]})},ce=function(e){var t=_(),n=J();return Object(O.jsx)(ae,Object(a.a)({state:n,dispatch:t},e))},re=function(e){var t=e.name,n=e.placeholder,a=e.Icon,r=void 0===a?void 0:a,i=e.type,s=void 0===i?"text":i,o=e.inputMode,l=e.step,u=e.value,d=e.onChange,j=e.readOnly,b=void 0!==j&&j,m=e.units,x=void 0===m?"":m,f=e.align,h=void 0===f?"left":f,p=e.label,v=void 0===p?"":p,g=e.min,y=void 0===g?0:g,w=Object(c.useRef)();return Object(O.jsxs)("div",{className:"flex flex-col justify-start  w-full text-sm text-gray-500 focus-within:text-purple-600 max-w-md mx-auto",children:[!!v&&Object(O.jsx)("label",{htmlFor:t,className:"text-xs my-1 text-justify pl-2",children:v}),Object(O.jsxs)("div",{className:"w-full flex justify-between items-center  bg-white rounded-md  border-b-2 focus-within:border-purple-500 ",children:[!!r&&Object(O.jsx)(r,{className:"mx-2 "}),Object(O.jsx)("input",{ref:w,type:s,name:t,className:" w-full px-4 py-3 flex-grow focus:text-gray-900 text-".concat(h," bg-transparent"),placeholder:n,autoComplete:"off",value:u,onChange:d,onFocus:function(e){return e.target.select()},step:l,readOnly:b,inputMode:o,min:y}),Object(O.jsx)("span",{className:"  flex items-center pr-2  cursor-pointer opacity-20 focus:opacity-100 hover:opacity-100",children:x})]})]})},ie=n(2076),se=n(2077),oe=n(2078),le=n(2079),ue=n(2080),de=n(2081),je=n(2082),be=n(2083),me=function(){var e=J(),t=_(),n=e.fullName,a=e.phoneNumber,r=e.email,i=e.originAddress,s=e.destinationAddress,o=e.additionalStops,l=e.anyAdditionalStops,u=function(e){return t({field:e.target.name,value:e.target.value})};return Object(c.useEffect)((function(){document.title=n?"".concat(n," - move"):"Bill of Lading"}),[n]),Object(O.jsxs)("form",{action:"",method:"post",children:[Object(O.jsx)(Z,{title:"Contact Info",hidePlus:!0}),Object(O.jsx)(re,{name:"fullName",value:n,onChange:u,Icon:ie.a,placeholder:"Full Name"}),Object(O.jsx)(re,{name:"phoneNumber",value:a,onChange:u,Icon:se.a,placeholder:"Phone Number",inputMode:"numeric",type:"tel"}),Object(O.jsx)(re,{name:"email",value:r,onChange:u,Icon:oe.a,placeholder:"Email",type:"email"}),Object(O.jsx)(Z,{title:"Locations",onClick:function(){return t({field:"anyAdditionalStops",value:!l})},Icon:l?le.a:ue.a}),Object(O.jsx)(re,{name:"originAddress",value:i,onChange:u,Icon:de.a,placeholder:"Starting Point (Origin)"}),l&&Object(O.jsx)(re,{name:"additionalStops",value:o,onChange:u,Icon:je.a,placeholder:"Other Stops"}),Object(O.jsx)(re,{name:"destinationAddress",value:s,onChange:u,Icon:be.a,placeholder:"End Point (Destination)"})]})},xe=n(2084),fe=n(2085),he=n(2086),pe=n(2087),ve=n(2088),Oe=n(2089),ge=n(2090),ye=function(e){var t=e.showSideMenu,n=e.setshowSideMenu,a=e.navbarPinned,c=t?"":"hidden",r=function(){a||n(!1)};return Object(O.jsx)("div",{className:"  bg-white ".concat(c,"   lg:rounded-b-lg w-full "),children:Object(O.jsxs)("ul",{className:"flex flex-col  list-none lg:ml-auto m-4",children:[Object(O.jsx)(we,{to:"client",text:"Client",onClick:r}),Object(O.jsx)(we,{to:"rates",text:"rates",onClick:r}),Object(O.jsx)(we,{to:"estimate",text:"estimate",onClick:r}),Object(O.jsx)(we,{to:"materials",text:"materials",onClick:r}),Object(O.jsx)(we,{to:"overview",text:"overview",onClick:r})]})})},we=function(e){var t=e.to,n=e.text,a=e.onClick,c=Object(u.j)().url;return Object(O.jsx)("li",{className:"px-2 nav-item",children:Object(O.jsx)(l.c,{className:"px-3 py-2 flex items-center text-xs uppercase font-bold leading-snug  hover:opacity-75 ml-2 ",to:"".concat(c,"/").concat(t),activeClassName:"text-red-500",onClick:a,children:n})})},Ne=function(){var e=r.a.useState(!1),t=Object(C.a)(e,2),n=t[0],a=t[1],c=r.a.useState(!1),i=Object(C.a)(c,2),s=i[0],o=i[1],l=Object(u.h)().pathname,d=Object(u.j)().url,j=l.split("/"),b=Object(u.g)(),m=["client","rates","estimate","materials","overview"],x=m.indexOf(j[j.length-1]),f=x===m.length-1;return Object(O.jsxs)("div",{className:T.isMobile?"fixed bg-white z-10 bottom-0 left-0  w-full border-t":" bg-white rounded-lg w-full mt-0 shadow-xs ",children:[T.isMobile&&Object(O.jsx)(ye,{showSideMenu:n,setshowSideMenu:a,navbarPinned:s}),Object(O.jsxs)("div",{className:"w-full justify-between flex",children:[Object(O.jsxs)("div",{className:"flex",children:[Object(O.jsx)(Ce,{onClick:function(){return a(!n)},text:"Menu",Icon:n?xe.a:fe.a,iconPosition:"left"}),n&&Object(O.jsx)(Ce,{onClick:function(){o(!s)},text:"Pin Menu",Icon:s?he.a:pe.a,iconPosition:"left",inactive:!0})]}),Object(O.jsxs)("div",{className:"flex",children:[Object(O.jsx)(Ce,{onClick:function(){},text:"Note",Icon:ve.a,iconPosition:"left"}),Object(O.jsx)(Ce,{onClick:function(){0<x&&b.push("".concat(d,"/").concat(m[x-1]))},text:"Previous",Icon:Oe.a,iconPosition:"left",inactive:0===x}),Object(O.jsx)(Ce,{onClick:function(){m.length-1>x&&b.push("".concat(d,"/").concat(m[x+1]))},text:"Next",Icon:ge.a,iconPosition:"right",inactive:f})]})]}),!T.isMobile&&Object(O.jsx)(ye,{showSideMenu:n,setshowSideMenu:a,navbarPinned:s})]})},Ce=function(e){var t=e.onClick,n=(e.text,e.Icon),a=e.iconPosition,c=e.inactive,r=void 0!==c&&c;return Object(O.jsxs)("button",{className:"flex px-2   text-xs leading-none  py-4 mx-1 border border-solid border-transparent rounded outline-none focus:outline-none ",type:"button",onClick:t,children:["left"===a?Object(O.jsx)(n,{fontSize:"small",color:r?"disabled":"inherit"}):null,"right"===a?Object(O.jsx)(n,{fontSize:"small",color:r?"disabled":"inherit"}):null]})},ke=n(2108),Ie=n(2109),Se=n(2110),Te=n(2091),Fe=function(e){var t,n=e.value,a=e.label,c=e.Icon,r=e.unit,i=void 0===r?"":r,s=e.type,o=void 0===s?"number":s;return Object(O.jsx)("div",{className:"flex justify-center w-full  ",children:Object(O.jsxs)("div",{className:"relative text-gray-600 focus-within:text-red-400 w-full   m-2",children:[Object(O.jsx)("span",{className:"absolute text-yellow-800 inset-y-0 left-0 flex items-center pl-2 cursor-pointer",children:Object(O.jsx)(c,{})}),Object(O.jsxs)("div",{className:"flex justify-evenly items-center w-full   py-3 pr-10 text-sm text-black bg-yellow-50 rounded-md border-b-2 pl-10 focus:outline-none focus:bg-white focus:text-gray-900 text-center font-bold cursor-pointer",children:[Object(O.jsx)("span",{className:" w-3/5 font-thin text-xs px-2 truncate",children:a}),Object(O.jsxs)("span",{className:"w-1/5",children:["$"===i&&i+" ","number"===o?null===(t=B(n))||void 0===t?void 0:t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):null===n||void 0===n?void 0:n.toString()]}),Object(O.jsx)("span",{className:"font-thin text-xs px-2 truncate w-1/5",children:"$"!==i&&i})]}),Object(O.jsx)("span",{className:"absolute inset-y-0 right-0 flex items-center px-2 cursor-pointer opacity-20 focus:opacity-100 hover:opacity-100",children:Object(O.jsx)(Te.a,{})})]})})},Ee=n(2094),Pe=n(2095),Me=n(2096),Ae=n(2097),De=n(2098),Re=n(2099),Le=n(2100),We=n(39),Be=n(2092),Ve=n(2093);function He(e){var t=e.name,n=e.label,a=void 0===n?"Travel Fee":n,r=e.options,i=void 0===r?[]:r,s=e.value,o=e.dispatch;return Object(O.jsxs)("div",{className:"flex flex-col justify-start  w-full text-sm text-gray-500 focus-within:text-purple-600 max-w-md mx-auto ",children:[!!a&&Object(O.jsx)("label",{htmlFor:t,className:"text-xs my-1 text-justify pl-2",children:a}),Object(O.jsx)(We.b,{value:s,onChange:function(e){e!==s&&((null===s||void 0===s?void 0:s.onDeselect)&&s.onDeselect(),(null===e||void 0===e?void 0:e.onSelect)&&e.onSelect(),o({field:t,value:e}))},children:function(e){var t=e.open;return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{className:"relative mt-1 ",children:[Object(O.jsxs)(We.b.Button,{className:"border-b-2 focus-within:border-purple-500 px-4 py-3 relative w-full pr-10 text-left bg-white rounded-lg focus:outline-none focus-visible:ring-2 focus-visible:ring-opacity-75 focus-visible:ring-white focus-visible:ring-offset-orange-300 focus-visible:ring-offset-2 focus-visible:border-indigo-500 sm:text-sm",children:[Object(O.jsx)("span",{className:"block truncate",children:null===s||void 0===s?void 0:s.label}),Object(O.jsx)("span",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:Object(O.jsx)(Be.a,{className:"w-5 h-5 text-gray-400","aria-hidden":"true"})})]}),Object(O.jsx)(We.d,{show:t,as:c.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:Object(O.jsx)(We.b.Options,{className:"absolute w-full py-1 mt-1 overflow-auto text-base bg-white rounded-md shadow-lg max-h-60 ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm z-20",children:i.map((function(e,t){return Object(O.jsx)(We.b.Option,{className:function(e){var t=e.active;return"".concat(t?"text-amber-900 bg-amber-100":"text-gray-900","\n                          cursor-default select-none relative py-2 pl-10 pr-4")},value:e,children:function(t){var n=t.selected;t.active;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("span",{className:"".concat(n?"font-medium":"font-normal"," block truncate"),children:e.label}),n?Object(O.jsx)("span",{className:"".concat("text-amber-600","\n                                absolute inset-y-0 left-0 flex items-center pl-3"),children:Object(O.jsx)(Ve.a,{className:"w-5 h-5","aria-hidden":"true"})}):(null===e||void 0===e?void 0:e.Icon)&&Object(O.jsx)("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:Object(O.jsx)(e.Icon,{className:"w-5 h-5","aria-hidden":"true"})})]})}},t)}))})})]})})}})]})}var Ue=function(){var e,t=J(),n=_(),a=function(e){return n({field:e.target.name,value:e.target.value})},c=t.isTravelFeeFixed,i=t.hourlyRate,s=t.travelTime,o=t.totalHours,l=t.startTime,u=t.endTime,d=t.arriveTime,j=t.departTime,b=t.breakTime;return Object(O.jsxs)(r.a.Fragment,{children:[Object(O.jsxs)("div",{className:"flex max-w-md mx-auto space-x-2",children:[Object(O.jsx)(re,(e={name:"hourlyRate",value:i,onChange:a,placeholder:"Hourly Rate",type:"number",Icon:Ee.a,step:"5",label:"Hourly Rate"},Object(k.a)(e,"type","number"),Object(k.a)(e,"units","$/hr"),Object(k.a)(e,"align","right"),Object(k.a)(e,"min","0"),e)),Object(O.jsx)(Ge,{name:"travelTime",dispatch:n,travelTime:s,hourlyRate:i})]}),c?Object(O.jsx)("div",{className:"flex-col"}):Object(O.jsxs)("div",{className:"flex space-x-2 ",children:[Object(O.jsxs)("div",{className:"flex-row ",children:[Object(O.jsx)("label",{htmlFor:"startTime",className:" px-2",children:"Start"}),Object(O.jsx)(re,{name:"startTime",value:l,onChange:a,placeholder:"Start",Icon:Pe.a})]}),Object(O.jsxs)("div",{className:"flex-row",children:[Object(O.jsx)("label",{htmlFor:"endTime",className:" px-2",children:"End"}),Object(O.jsx)(re,{name:"endTime",value:u,onChange:a,placeholder:"End",Icon:Me.a})]})]}),Object(O.jsxs)("div",{className:"flex space-x-2",children:[Object(O.jsxs)("div",{className:"flex-row",children:[Object(O.jsx)("label",{htmlFor:"arriveTime",className:" px-2",children:"Arrive"}),Object(O.jsx)(re,{name:"arriveTime",value:d,onChange:a,placeholder:"Arrive",Icon:Ae.a})]}),Object(O.jsxs)("div",{className:"flex-row",children:[Object(O.jsx)("label",{htmlFor:"departTime",className:" px-2",children:"Depart"}),Object(O.jsx)(re,{name:"departTime",value:j,onChange:a,placeholder:"Depart",Icon:De.a})]})]}),Object(O.jsxs)("div",{className:"flex-row",children:[Object(O.jsx)("label",{htmlFor:"breakTime",className:" px-2",children:"Breaks"}),Object(O.jsx)(re,{name:"breakTime",value:b,onChange:a,placeholder:"Breaks",Icon:Re.a})]}),Object(O.jsx)("h2",{children:"Totals"}),Object(O.jsx)(Fe,{value:null===o||void 0===o?void 0:o.toString(),Icon:Le.a,type:"time",unit:"Hrs",label:"Total Time"})]})},Ge=function(e){var t=e.dispatch,n=e.travelTime,a=e.hourlyRate,c=[{label:"Not Fixed",isCustom:!0,Icon:xe.a,onSelect:function(){t({field:"isTravelFeeFixed",value:!1})},onDeselect:function(){t({field:"isTravelFeeFixed",value:!0})}},{label:"0:00 ",value:0},{label:"0:15",value:.25},{label:"0:30 ",value:.5},{label:"0:45 ",value:.75},{label:"1:00 ",value:1},{label:"1:15 ",value:1.25},{label:"1:30 ",value:1.5},{label:"1:45 ",value:1.75},{label:"2:00 ",value:2}];return a&&c.map((function(e){return(null===e||void 0===e?void 0:e.isCustom)||(e.label+=" ($".concat(a*e.value,")")),e})),Object(O.jsx)(He,{name:"travelTime",value:n,dispatch:t,options:c})},$e=n(2101),ze=n(2102),Ke=n(2103),Je=n(2104),_e=n(2105),Ye=n(2106),qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onClick,n=e.name,c=e.defaultValue,r=e.buttons,i=e.value,s=void 0===i?c||r[0].value:i,o=e.vertical,l=void 0!==o&&o;if(!r)return null;var u=function(e){return t({target:{name:n,value:e}})};return Object(O.jsx)("div",{className:"flex text-gray-600  ".concat(l?"flex-col":"justify-around"," w-full flex-wrap px-2 my-4 select-none "),children:r.map((function(e,t){return Object(O.jsx)(Xe,Object(a.a)({onClick:u,selected:s},e),t)}))})},Xe=function(e){var t=e.value,n=e.placeholder,a=e.onClick,c=e.selected,r=e.Icon,i=e.isDisabled,s=void 0!==i&&i,o=c===t;return Object(O.jsxs)("div",{className:"rounded-md focus:outline-none truncate flex-grow  flex flex-col md:flex-row items-center  flex-wrap  text-xs sm:text-sm px-2    cursor-pointer  ".concat(o?"text-gray-800  border-2 border-gray-600  font-semibold  ":""," "),onClick:function(){return!s&&!o&&a(t)},children:[Object(O.jsx)(r,{fontSize:"small",color:s?"disabled":"inherit",className:"md:m-1"}),Object(O.jsxs)("span",{className:s?"text-gray-400":"",children:[" ",n]})]})},Ze=function(){var e=J(),t=_(),n=function(e){return t({field:e.target.name,value:e.target.value})},a=e.distance,i=e.grossWeight,s=e.tareWeight,o=e.netWeight,l=e.mileageRate,u=e.cubicWeight,d=e.weightType;return Object(c.useEffect)((function(){return d||t({field:"weightType",value:"cubicWeight"}),function(){}}),[d,t]),Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"flex",children:[Object(O.jsxs)("div",{className:"flex flex-col justify-center   w-1/2",children:[Object(O.jsx)("label",{htmlFor:"distance",className:"text-xs text-center",children:"Distance"}),Object(O.jsx)(re,{units:"miles",name:"distance",value:a,onChange:n,placeholder:"Distance",Icon:$e.a})]}),Object(O.jsxs)("div",{className:"flex flex-col justify-center   w-1/2",children:[Object(O.jsx)("label",{htmlFor:"mileageRate",className:"text-xs text-center",children:"Mileage Rate"}),Object(O.jsx)(re,{name:"mileageRate",value:l,onChange:n,placeholder:"Mileage Rate",Icon:Ee.a,units:"$/lbs."})]})]}),Object(O.jsx)(Qe,{onClick:n,value:d}),"weightTicket"===d&&Object(O.jsxs)(r.a.Fragment,{children:[Object(O.jsxs)("div",{className:"flex",children:[Object(O.jsx)("div",{className:"flex flex-col justify-center  w-1/2",children:Object(O.jsx)(re,{name:"grossWeight",value:i,onChange:n,placeholder:"Gross Weight",Icon:ze.a,units:"lbs."})}),Object(O.jsx)("div",{className:"flex flex-col justify-center   w-1/2",children:Object(O.jsx)(re,{name:"tareWeight",value:s,onChange:n,placeholder:"Tare Weight",Icon:Ke.a,units:"lbs."})})]}),Object(O.jsx)(Fe,{value:o,Icon:Je.a,unit:"lbs.",label:"Net Weight"})]}),"cubicWeight"===d&&Object(O.jsx)(re,{name:"cubicWeight",value:u,onChange:n,placeholder:"Cubic Weight",units:"lbs.",Icon:Je.a})]})},Qe=function(e){var t=[{value:"cubicWeight",placeholder:"Cubic Weight",Icon:_e.a},{value:"weightTicket",placeholder:"Weight Ticket",Icon:Ye.a}];return Object(O.jsx)(qe,Object(a.a)({name:"weightType",buttons:t},e))},et=function(){var e=Object(c.useState)(!1),t=Object(C.a)(e,2),n=t[0],a=t[1],r=J(),i=_(),s=r.flatIsMaterialsIncluded,o=r.flatAmount;return Object(O.jsxs)("div",{children:[Object(O.jsx)(re,{name:"flatAmount",value:o,onChange:function(e){return i({field:e.target.name,value:e.target.value})},placeholder:"Flat Amount",Icon:function(){return Object(O.jsx)("span",{children:"$"})}}),Object(O.jsx)("input",{name:"flatIsMaterialsIncluded",className:"mr-5 ml-3",checked:s,onChange:function(){i({field:"flatIsMaterialsIncluded",value:!s})},placeholder:"Total Valuation Cost",type:"checkbox"}),Object(O.jsxs)("label",{htmlFor:"flatIsMaterialsIncluded",children:["Materials included?",Object(O.jsxs)("span",{className:"text-xs  cursor-pointer select-none pl-4",onClick:function(){return a(!n)},children:[n?"x ":"> "," Help"]})]}),n&&Object(O.jsx)("span",{className:"block",children:"Is this flat amount just for the transportation/labor, or are all the materials included in price?"})]})},tt=n(2107);function nt(e){var t=e.showPrice,n=void 0!==t&&t,a=e.options,c=void 0===a?[]:a,r=e.groupName,i=void 0===r?"":r,s=e.row,o=void 0!==s&&s,l=e.dense,u=void 0!==l&&l,d=e.name,j=void 0===d?"":d,b=e.value,m=void 0===b?"":b,x=e.dispatch,f=void 0===x?function(){}:x;return function(e){for(var t in e)return!1;return!0}(c)?Object(O.jsxs)("div",{className:"bg-yellow-500 p-4 rounded-md text-yellow-800 text-center bg-opacity-70",children:[Object(O.jsx)(tt.a,{className:"p-1"})," No options provided"]}):Object(O.jsxs)(We.c,{value:m,onChange:function(e){console.log(e),f({field:j,value:e})},className:"w-full  mx-auto py-2 text-xs text-gray-900 select-none",children:[i&&Object(O.jsx)(We.c.Label,{className:"text-black mx-auto w-full flex justify-center my-1",children:i}),Object(O.jsx)("div",{className:" flex ".concat(o?"flex-row justify-around space-x-2":"flex-col space-y-2 max-w-md mx-auto"),children:c.map((function(e){return Object(O.jsx)(We.c.Option,{value:e.value,disabled:e.disabled,className:function(e){var t=e.active,n=e.checked,a=e.disabled;return"w-full  border-b-2 rounded-lg bg-white  cursor-pointer focus:outline-none flex items-center justify-between hover:bg-purple-100 bg-opacity-75 overflow-hidden\n                    ".concat(t&&"ring-2 ring-offset-2 ring-offset-purple-300 ring-white ring-opacity-60 ","\n                    ").concat(n&&"bg-purple-900 border-purple-700   text-white shadow-md hover:bg-purple-800","\n                    ").concat(a&&"text-gray-400 ","\n                    ").concat(u?"px-1 py-1 ":"px-4 py-3 ")},children:function(t){t.active;var a=t.checked;t.disabled;return Object(O.jsxs)(O.Fragment,{children:[e.Icon&&Object(O.jsx)(e.Icon,{className:"".concat(u?"mr-1 p-1":"mr-2")}),Object(O.jsx)(We.c.Label,{as:"p",className:"font-medium truncate flex-grow",children:e.name}),Object(O.jsx)("div",{className:"flex items-center flex-shrink-0 ml-1",children:n?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(We.c.Description,{as:"span",className:"whitespace-nowrap ".concat(a?"text-purple-100":"text-gray-500"),children:e&&e.price&&isNaN(e.price)?e.price:"$ ".concat(null===e||void 0===e?void 0:e.price)}),Object(O.jsx)("div",{className:"flex-shrink-0 flex items-center text-white w-4 h-4 mx-2",children:a&&Object(O.jsx)(Ve.a,{className:"p-1"})})]}):a&&Object(O.jsx)(Ve.a,{className:"p-1"})})]})}},e.name)}))})]})}var at=function(){var e=J(),t=_(),n=e.totalTransportation,a=e.jobType;return Object(c.useEffect)((function(){return a||t({field:"jobType",value:"local"}),function(){}}),[a,t]),Object(O.jsxs)("form",{method:"post",children:[Object(O.jsx)(Z,{title:"Job Type",hidePlus:!0}),Object(O.jsx)(ct,{onClick:function(e){return t({field:e.target.name,value:e.target.value})},value:a}),"flatRate"===a&&Object(O.jsx)(et,{}),"longDistance"===a&&Object(O.jsx)(Ze,{}),"local"===a&&Object(O.jsx)(Ue,{}),Object(O.jsx)(Fe,{value:n,Icon:ke.a,unit:"$",label:"Total Transportation"})]})},ct=function(e){var t=J(),n=_(),c=t.jobType,r=[{value:"local",name:"Local (Hourly)",Icon:Ie.a},{value:"flatRate",name:"Flat Rate",Icon:Se.a},{value:"longDistance",name:"Long Distance",Icon:be.a}];return Object(O.jsx)(nt,Object(a.a)({name:"jobType",value:c,dispatch:n,options:r,row:"true",dense:"true"},e))},rt=function(){var e=J(),t=_(),n=e.estimatedWeight;return Object(O.jsxs)("div",{children:["Inventory",Object(O.jsx)(re,{name:"estimatedWeight",value:n,onChange:function(e){return t({field:e.target.name,value:e.target.value})},Icon:Je.a,placeholder:"Estimated Weight",type:"number"}),Object(O.jsx)("div",{className:"bg-red-500"})]})},it=n(2111),st=n(2113),ot=n(2112),lt=n(331),ut=function(e){var t=e.type,n=void 0===t?"Initial":t,a=e.name,r=e.width,i=void 0===r?500:r,s=e.height,o=void 0===s?200:s,l=e.dispatch,u=void 0===l?function(){}:l,d=Object(c.useRef)({});return Object(O.jsx)("div",{className:"flex flex-col pt-2",children:Object(O.jsxs)("div",{className:" w-full relative",children:[Object(O.jsxs)("div",{className:"rounded-lg p-1 bg-gray-300 bg-opacity-50 relative ",children:[Object(O.jsx)("div",{className:"w-4/5 mx-auto border-t-2 absolute bottom-6 z-0 left-0 right-0 text-center text-gray-400 select-none",children:n}),Object(O.jsx)(lt.a,{options:{onEnd:function(e){var t=$(d.current._canvas).toDataURL("image/png");u({field:a,value:t})},penColor:"rgb(66, 133, 244)",minWidth:3,maxWidth:5},canvasProps:{width:i,height:o,className:"bg-white bg-opacity-50 rounded-lg z-10"},ref:d})]}),Object(O.jsx)("button",{className:"bg-gray-400 bg-opacity-50 no select-none hover:bg-opacity-100 text-xs p-2 m-2 text-white absolute top-0 right-0 rounded-lg",onClick:function(){d.current.clear(),u({field:a,value:""})},children:"Reset"})]})})},dt=function(e){var t=e.label,n=void 0===t?"Sign":t,a=e.dispatch,r=e.name,i=e.type,s=Object(c.useState)(!1),o=Object(C.a)(s,2),l=o[0],u=o[1],d=function(){return u(!l)};return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{className:"flex flex-col justify-center items-center w-full max-w-md mx-auto ",children:l?Object(O.jsxs)("div",{className:"mt-1 flex flex-col justify-center items-center w-full mb-6",children:[Object(O.jsx)(ut,{dispatch:a,name:r,type:i}),Object(O.jsxs)("div",{className:"flex space-x-4",children:[Object(O.jsxs)("button",{className:"hover:bg-gray-300 text-gray-500 px-6 uppercase py-2 my-4 rounded-md",onClick:d,children:[Object(O.jsx)(xe.a,{className:"mr-2"}),"Cancel"]}),Object(O.jsxs)("button",{className:"bg-green-500 hover:bg-green-800 text-white px-6 uppercase py-2 my-4 rounded-md",onClick:d,children:[Object(O.jsx)(it.a,{className:"mr-2"}),"Complete"]})]})]}):Object(O.jsxs)("button",{className:"text-blue-500  hover:bg-gray-300 px-6 uppercase py-2 mt-2 rounded-md w-full font-bold",onClick:d,children:[Object(O.jsx)(ot.a,{className:"mr-2"}),n]})})})},jt=function(){var e=J(),t=_(),n=e.estimateIsBinding,a=e.bindingEstimateExists,r=void 0===a||a,i=e.estimateInitial,s=[{value:!1,name:"Non Binding",Icon:it.a},{value:!0,name:"Binding",Icon:st.a,isDisabled:!r}];return Object(c.useEffect)((function(){void 0===n&&t({field:"estimateIsBinding",value:!1})}),[n,t]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(Z,{title:"Estimate",hidePlus:!0}),Object(O.jsx)(nt,{onClick:function(e){return t({field:e.target.name,value:e.target.value})},name:"estimateIsBinding",value:n,dispatch:t,options:s,row:!0}),Object(O.jsx)(dt,{label:"initial",dispatch:t,name:"estimateInitial",value:i})]})},bt=n(95);function mt(e){return xt.apply(this,arguments)}function xt(){return(xt=Object(m.a)(b.a.mark((function e(t){var n,a,c,r,i,s,o,l,u,d,j,x;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"pdf/bol-sfm-fonts.pdf",c=window.location.origin.toString()+"/sfm/",r=c+"pdf/bol-sfm-fonts.pdf",e.next=5,fetch(r).then((function(e){return e.arrayBuffer()}));case 5:return i=e.sent,e.next=8,bt.PDFDocument.load(i);case 8:if(s=e.sent,o=s.getPages(),l=s.getForm(),u=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e&&t&&!n)return Array.isArray(t)&&(t=t.join(", ")),l.getTextField(e)},d=function(){var e=Object(m.a)(b.a.mark((function e(t,n,a){var c,r,i,l,u=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u.length>3&&void 0!==u[3]?u[3]:25,c=u.length>4&&void 0!==u[4]?u[4]:12,t&&n&&a){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,fetch(t).then((function(e){return e.arrayBuffer()}));case 6:return r=e.sent,e.next=9,s.embedPng(r);case 9:return i=e.sent,console.log(i.height,i.width),l=i.width/i.height,e.abrupt("return",o[0].drawImage(i,{x:n,y:a,height:c,width:l*c}));case 13:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),j=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;if(e&&t&&n)return o[0].drawText(e,{x:t,y:n,size:a})},u("Name",t.fullName),u("EMAIL",t.email),u("PHONE",t.phoneNumber),u("Origin",t.originAddress),!0===t.anyAdditionalStops&&u("Other Stops",t.additionalStops),u("Destination",t.destinationAddress),u("Notes",t.notes),!t.estimateIsBinding){e.next=26;break}return e.next=24,d(t.estimateInitial,24,373);case 24:e.next=28;break;case 26:return e.next=28,d(t.estimateInitial,24,462);case 28:if("basic"!==t.valuation){e.next=31;break}return e.next=31,d(t.valuationInitials,24,323);case 31:if("replacementWithDeductible"!==t.valuation){e.next=34;break}return e.next=34,d(t.valuationInitials,24,275);case 34:if(u("valuation with deductible",t.valuationCostWithDeductible),"replacement"!==t.valuation){e.next=38;break}return e.next=38,d(t.valuationInitials,24,222);case 38:return u("valuation no deductible",t.valuationCost),u("Shipment Value",t.shipmentValue),u("Selected Valuation",t.totalValuation),e.next=43,d(t.agreeToMoveSignature,24,95,150,35);case 43:if(t.agreedToEstimate&&j(t.estimateAgreedDate||t.dates[0],238,103),!t.crewLeadAssigned){e.next=48;break}return e.next=47,d(t.crewSignature,24,65,150,35);case 47:j(t.dates[0],238,73);case 48:if(!t.appendixExists){e.next=51;break}return e.next=51,d(t.initials,29,39,20,8);case 51:if(u("PERSONNEL",t.personnel),"local"===t.jobType&&(t.isTravelFeeFixed?u("Travel Fee",t.travelFee):(u("Hourly Time Start",t.startTime),u("Hourly Time End",t.endTime)),u("Hourly Time Arrive",t.arriveTime),u("Hourly Time Depart",t.departTime),u("Hourly Time Breaks",t.breakTime),u("Hourly Time TOTAL",t.totalHours),u("Hourly Rate",t.hourlyRate)),"longDistance"===t.jobType&&(u("Mileage Miles",t.distance),"weightTicket"===t.weightType&&(u("Mileage Weight Gross",t.grossWeight),u("Mileage Weight Tare",t.tareWeight)),u("Mileage Weight Net",t.netWeight),u("Mileage Rate",t.mileageRate)),u("Total Transportation",t.totalTransportation),null===t||void 0===t||null===(n=t.materials)||void 0===n||n.filter((function(e){return e.units>0})).forEach((function(e,t){var n=t+1;t<9&&(u("C".concat(n),e.name),u("QTY C".concat(n),e.units),u("RATE C".concat(n),e.rate),u("TOTAL C".concat(n),e.total))})),u("TOTAL PACKING  MATERIAL",t.totalMaterials),null===t||void 0===t||null===(a=t.miscFees)||void 0===a||a.filter((function(e){return e.value>0&&e.selected})).forEach((function(e,t){t<8&&(u("M".concat(t+1),U(e.name,9)),u("AMOUNT M".concat(t+1),e.value))})),u("TOTAL OTHER",t.totalMiscFees),u("SUBTOTAL 1234",t.subtotal),u("AdjustmentText",t.adjustmentText),u("Adjustment",t.adjustment),u("TOTAL MOVING CHARGES",t.totalMovingCharges),u("TOTAL AMOUNT PAID",t.totalAmountPaid),u("BalanceDueText",t.balanceDueText),u("TIPS  BALANCE DUE",t.remainingBalance),!t.jobComplete){e.next=70;break}return e.next=69,d(t.signature,320,32,150,35);case 69:j(t.dates[0],530,40);case 70:return l.flatten(),e.next=73,s.save();case 73:return x=e.sent,e.abrupt("return",x);case 75:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ft=function(){var e=J();return Object(O.jsxs)("div",{className:"w-full",children:[Object(O.jsx)("br",{}),Object(O.jsx)("button",{className:"bg-gray-700 p-2 m-2 text-white",onClick:function(){return mt(e)},children:"Get bill of lading"})]})},ht=n(2123),pt=n(2124),vt=n(2125),Ot=n(2114),gt=n(2115),yt=n(2116),wt=n(2117),Nt=n(2118),Ct=n(2119),kt=n(2120),It=n(2121),St=n(2122),Tt=[{id:"IRmJsc",name:"Piano",defaultAmount:"125",Icon:Ot.a,Guide:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.setValue,n="33";return Object(O.jsxs)("div",{className:"flex flex-col  justify-between items-center  rounded-md border-b bg-white m-1 p-2",children:[Object(O.jsx)("span",{children:"Piano Guide"}),Object(O.jsx)("span",{className:"text-xs text-gray-400",children:"This guide should show how to set price when item was unexpected and management is unavailable"}),Object(O.jsx)("div",{children:Object(O.jsxs)("button",{className:"text-xs bg-blue-800 rounded-md text-white p-2 m-2",onClick:function(){return t&&t(n)},children:["Set value to $",n]})})]})}},{id:"zz7cX7",name:"Removal (Dump/Donate)",defaultAmount:"50",pre:"starts at",Icon:gt.a},{id:"KD83m2",name:"Hoist",defaultAmount:"350",Icon:yt.a},{id:"RtoY57",name:"Tolls/Ferry",defaultAmount:"185",Icon:wt.a},{id:"PobHV7",name:"Storage",defaultAmount:"100",Icon:Nt.a},{id:"odrUhV",name:"Storage Labor",defaultAmount:"2",Icon:Ct.a},{id:"3qgVEX",name:"Bulky",defaultAmount:"1",Icon:kt.a},{id:"gs7eW8",name:"Hot tub",defaultAmount:"2",Icon:It.a},{id:"cZYuHW",name:"Permits",defaultAmount:"2",Icon:St.a}],Ft=function(e){var t=e.groupName,n=void 0===t?"miscFees":t,c=e.showMoreDefault,i=void 0===c||c,s=J(),o=_(),l=s.totalMiscFees,u=void 0===l?0:l,d=s.miscFees,j=void 0===d?[]:d,b=ne(n,Tt,j,o),m=Object(C.a)(b,6),x=m[0],f=m[2],h=m[3],p=m[4],v=m[5],g=r.a.useState(i),y=Object(C.a)(g,2),w=y[0],N=y[1],k=r.a.useState(!1),S=Object(C.a)(k,2),T=S[0],F=S[1],E=r.a.useRef([]),P=G(x,4,"selected",(function(e){return e}));return E.current=(w?x:P).map((function(e,t){return E.current[t]=r.a.createRef()})),r.a.useEffect((function(){var e,t,n,a,c,r,i,s;T&&(null===(e=E.current[E.current.length-1])||void 0===e||null===(t=e.current)||void 0===t||null===(n=t.parentNode)||void 0===n||null===(a=n.parentNode)||void 0===a||null===(c=a.parentNode)||void 0===c||null===(r=c.firstChild)||void 0===r||null===(i=r.lastChild)||void 0===i||null===(s=i.firstChild)||void 0===s||s.focus(),F(!1))}),[T,F]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(Z,{title:"Misc Fees",onClick:v,hidePlus:!!j&&0===j.length,Icon:I.a}),Object(O.jsx)("div",{className:"mt-2 bg-white rounded-t-md w-full mx-auto",children:(w?x:P).map((function(e,t){return Object(O.jsx)(Et,Object(a.a)({update:f,inputref:E.current[t],remove:p},e),t)}))}),Object(O.jsx)(te,{showMore:w,setShowMore:N,total:u,handleAdd:function(){h({selected:!0}),F(!0)}})]})},Et=function(e){var t=e.name,n=void 0===t?"":t,c=e.defaultAmount,i=void 0===c?0:c,s=e.value,o=void 0===s?"":s,l=e.update,u=e.inputref,j=void 0===u?null:u,b=e.selected,m=void 0!==b&&b,x=e.Icon,f=void 0===x?void 0:x,h=e.Guide,p=void 0===h?void 0:h,v=e.pre,g=void 0===v?"":v,y=e.isCustom,w=void 0!==y&&y,N=e.id,k=e.remove,S=Object(d.a)(e,["name","defaultAmount","value","update","inputref","selected","Icon","Guide","pre","isCustom","id","remove"]),T=r.a.useState(!1),F=Object(C.a)(T,2),E=F[0],P=F[1],M=function(){return P((function(e){return!e}))},A=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;"nameInput"!==(null===t||void 0===t||null===(e=t.target)||void 0===e?void 0:e.name)&&l(N,{selected:!m,value:o||i})};return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",Object(a.a)(Object(a.a)({"data-id":"fee-".concat(N),className:"flex flex-col text-gray-800 text-sm cursor-pointer bg-white odd:bg-gray-50"},S),{},{children:Object(O.jsxs)("div",{className:"flex  justify-between items-center    border-b ".concat(!0===m?" bg-green-50 hover:bg-green-100":"  hover:bg-purple-100"),children:[Object(O.jsxs)("div",{className:"flex flex-grow p-2 w-3/5",onClick:A,children:[Object(O.jsx)("span",{children:m?Object(O.jsx)(ht.a,{className:"text-green-800"}):Object(O.jsx)(pt.a,{})}),Object(O.jsx)("span",{className:"px-2",children:f?Object(O.jsx)(f,{}):Object(O.jsx)("span",{className:"bg-gray-800 text-white px-2 py-1 text-xs uppercase rounded-md",children:n&&n[0]||"C"})}),Object(O.jsx)("span",{className:" px-2 truncate ",children:w?Object(O.jsx)("input",{name:"nameInput",value:n,onFocus:function(e){return e.target.select()},onKeyPress:function(e){"Enter"===e.key&&j.current.focus()},onChange:function(e){return l(N,{name:e.target.value})},className:"`w-full  p-1 bg-transparent  text-md border-b-2 focus:border-green-700 hover:border-green-700  cursor-pointer             "}):"".concat(n)})]}),Object(O.jsx)("div",{children:Object(O.jsxs)("div",{className:"pr-3 relative",children:[m&&Object(O.jsx)("span",{className:"absolute top-1 select-none text-gray-500",children:"$"}),Object(O.jsx)("input",{name:"amountInput",value:o,type:"number",ref:j,min:"0",onChange:function(e){return l(N,{value:e.target.value})},onKeyPress:function(e){"Enter"===e.key&&e.target.blur()},onFocus:function(e){return e.target.select()},className:"w-20 text-right p-1 bg-transparent  text-md border-b-2 focus:border-green-700 hover:border-green-700  cursor-pointer ".concat(m||w?"":"hidden")}),Object(O.jsx)("span",{name:"usualPrice",onClick:A,className:"font-thin text-xs px-2 nowrap w-2/5 ".concat(m||w?"hidden":""),children:"".concat(g||"usually "," $").concat(i)})]})}),Object(O.jsx)("span",{className:"px-2  opacity-20 focus:opacity-100 hover:opacity-100",children:w?Object(O.jsx)(I.a,{className:"p-1",onClick:function(){return k(N)}}):p?E?Object(O.jsx)(ee.a,{onClick:M}):Object(O.jsx)(vt.a,{onClick:M}):Object(O.jsx)("div",{className:"w-6"})})]})})),E&&p&&Object(O.jsx)(p,{setValue:function(e){l(N,{value:e,selected:!0})}})]})},Pt=function(){var e=Object(c.useState)(function(e){var t=e.path,n=e.url;return Object(a.a)({current:t,redirect:"".concat(n,"/client")},Object.fromEntries(["materials","client","rates","estimates","inventory","overview"].map((function(e){return[e,"".concat(t,"/").concat(e)]}))))}(Object(u.j)())),t=Object(C.a)(e,1)[0],n=Object(u.i)().moveId,r=Object(o.c)((function(e){var t=e.firestore.data;return t.moves&&t.moves[n]}));return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("button",{onClick:function(){return console.log(r)},children:"log it"}),Object(O.jsx)(Ne,{}),Object(O.jsx)("div",{className:"flex flex-col items-stretch w-full sm:w-3/4 mx-auto lg:w-1/2 pb-10",children:Object(O.jsx)(q,{children:Object(O.jsxs)(u.d,{children:[Object(O.jsx)(u.b,{path:t.overview,children:Object(O.jsx)(ft,{})}),Object(O.jsxs)(u.b,{path:t.materials,children:[Object(O.jsx)(ce,{}),Object(O.jsx)("br",{}),Object(O.jsx)(Ft,{})]}),Object(O.jsx)(u.b,{path:t.client,children:Object(O.jsx)(me,{})}),Object(O.jsx)(u.b,{path:t.rates,children:Object(O.jsx)(at,{})}),Object(O.jsx)(u.b,{path:t.inventory,children:Object(O.jsx)(rt,{})}),Object(O.jsx)(u.b,{path:t.estimate,children:Object(O.jsx)(jt,{})})]})})})]})},Mt=function(e){var t=e.onChange,n=e.value;return Object(O.jsxs)("select",{name:"paymentOption",value:n,onChange:t,className:"m-2 w-full  py-2 pr-6 text-sm text-black bg-white rounded-md pl-2 focus:outline-none focus:bg-white focus:text-gray-900",children:[[{label:"Cash ",value:"cash",adjustmentRate:"-5%"},{label:"Check",value:"check",adjustmentRate:"0"},{label:"Card ",value:"card",adjustmentRate:"3%"},{label:"Billed Later ",value:"billLater"}].map((function(e){return Object(O.jsx)("option",{value:e.value,children:e.label.toString()},e.label)})),Object(O.jsx)("option",{onSelect:function(){return console.log("more")},children:"More..."})]})},At=n(321),Dt=n(97),Rt={iconStyle:"solid",style:{base:{iconColor:"#c4f0ff",color:"#fff",fontWeight:500,fontFamily:"Roboto, Open Sans, Segoe UI, sans-serif",fontSize:"16px",fontSmoothing:"antialiased",":-webkit-autofill":{color:"#fce883"},"::placeholder":{color:"#87bbfd"}},invalid:{iconColor:"#ffc7ee",color:"#ffc7ee"}}},Lt=function(e){var t=e.onChange;return Object(O.jsx)("div",{className:"FormRow",children:Object(O.jsx)(Dt.CardElement,{options:Rt,onChange:t})})},Wt=function(e){var t=e.label,n=e.id,a=e.type,c=e.placeholder,r=e.required,i=e.autoComplete,s=e.value,o=e.onChange;return Object(O.jsxs)("div",{className:"FormRow flex items-center  border border-purple-500 my-2 rounded-md",children:[Object(O.jsx)("label",{htmlFor:n,className:"FormRowLabel w-1/5 min-w-max px-3  ",children:t}),Object(O.jsx)("input",{className:"FormRowInput w-full py-3  pr-4",id:n,type:a,placeholder:c,required:r,autoComplete:i,value:s,onChange:o})]})},Bt=function(e){var t=e.processing,n=e.error,a=e.children,c=e.disabled;return Object(O.jsx)("button",{className:"SubmitButton px-4 py-2 bg-green-500 text-gray-200 rounded-md   ".concat(n?"SubmitButton--error":""),type:"submit",disabled:t||c,children:t?"Processing...":a})},Vt=function(e){var t=e.children;return Object(O.jsxs)("div",{className:"ErrorMessage",role:"alert",children:[Object(O.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 17 17",children:[Object(O.jsx)("path",{fill:"#FFF",d:"M8.5,17 C3.80557963,17 0,13.1944204 0,8.5 C0,3.80557963 3.80557963,0 8.5,0 C13.1944204,0 17,3.80557963 17,8.5 C17,13.1944204 13.1944204,17 8.5,17 Z"}),Object(O.jsx)("path",{fill:"#6772e5",d:"M8.5,7.29791847 L6.12604076,4.92395924 C5.79409512,4.59201359 5.25590488,4.59201359 4.92395924,4.92395924 C4.59201359,5.25590488 4.59201359,5.79409512 4.92395924,6.12604076 L7.29791847,8.5 L4.92395924,10.8739592 C4.59201359,11.2059049 4.59201359,11.7440951 4.92395924,12.0760408 C5.25590488,12.4079864 5.79409512,12.4079864 6.12604076,12.0760408 L8.5,9.70208153 L10.8739592,12.0760408 C11.2059049,12.4079864 11.7440951,12.4079864 12.0760408,12.0760408 C12.4079864,11.7440951 12.4079864,11.2059049 12.0760408,10.8739592 L9.70208153,8.5 L12.0760408,6.12604076 C12.4079864,5.79409512 12.4079864,5.25590488 12.0760408,4.92395924 C11.7440951,4.59201359 11.2059049,4.59201359 10.8739592,4.92395924 L8.5,7.29791847 L8.5,7.29791847 Z"})]}),t]})},Ht=function(e){var t=e.onClick;return Object(O.jsx)("button",{type:"button",className:"ResetButton",onClick:t,children:Object(O.jsx)("svg",{width:"32px",height:"32px",viewBox:"0 0 32 32",children:Object(O.jsx)("path",{fill:"#FFF",d:"M15,7.05492878 C10.5000495,7.55237307 7,11.3674463 7,16 C7,20.9705627 11.0294373,25 16,25 C20.9705627,25 25,20.9705627 25,16 C25,15.3627484 24.4834055,14.8461538 23.8461538,14.8461538 C23.2089022,14.8461538 22.6923077,15.3627484 22.6923077,16 C22.6923077,19.6960595 19.6960595,22.6923077 16,22.6923077 C12.3039405,22.6923077 9.30769231,19.6960595 9.30769231,16 C9.30769231,12.3039405 12.3039405,9.30769231 16,9.30769231 L16,12.0841673 C16,12.1800431 16.0275652,12.2738974 16.0794108,12.354546 C16.2287368,12.5868311 16.5380938,12.6540826 16.7703788,12.5047565 L22.3457501,8.92058924 L22.3457501,8.92058924 C22.4060014,8.88185624 22.4572275,8.83063012 22.4959605,8.7703788 C22.6452866,8.53809377 22.5780351,8.22873685 22.3457501,8.07941076 L22.3457501,8.07941076 L16.7703788,4.49524351 C16.6897301,4.44339794 16.5958758,4.41583275 16.5,4.41583275 C16.2238576,4.41583275 16,4.63969037 16,4.91583275 L16,7 L15,7 L15,7.05492878 Z M16,32 C7.163444,32 0,24.836556 0,16 C0,7.163444 7.163444,0 16,0 C24.836556,0 32,7.163444 32,16 C32,24.836556 24.836556,32 16,32 Z"})})})},Ut=function(){var e=Object(Dt.useStripe)(),t=Object(Dt.useElements)(),n=Object(c.useState)(null),r=Object(C.a)(n,2),i=r[0],s=r[1],o=Object(c.useState)(!1),l=Object(C.a)(o,2),u=l[0],d=l[1],j=Object(c.useState)(!1),x=Object(C.a)(j,2),f=x[0],h=x[1],p=Object(c.useState)(null),v=Object(C.a)(p,2),g=v[0],y=v[1],w=Object(c.useState)({email:"",phone:"",name:""}),N=Object(C.a)(w,2),k=N[0],I=N[1],S=function(){var n=Object(m.a)(b.a.mark((function n(a){var c;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a.preventDefault(),e&&t){n.next=3;break}return n.abrupt("return");case 3:if(!i){n.next=6;break}return t.getElement("card").focus(),n.abrupt("return");case 6:return u&&h(!0),n.next=9,e.createPaymentMethod({type:"card",card:t.getElement(Dt.CardElement),billing_details:k});case 9:c=n.sent,h(!1),c.error?s(c.error):y(c.paymentMethod);case 12:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return g?Object(O.jsxs)("div",{className:"Result",children:[Object(O.jsx)("div",{className:"ResultTitle",role:"alert",children:"Payment successful"}),Object(O.jsxs)("div",{className:"ResultMessage",children:["Thanks for trying Stripe Elements. No money was charged, but we generated a PaymentMethod: ",g.id]}),Object(O.jsx)(Ht,{onClick:function(){s(null),h(!1),y(null),I({email:"",phone:"",name:""})}})]}):Object(O.jsxs)("form",{className:"Form",onSubmit:S,children:[Object(O.jsxs)("fieldset",{className:"FormGroup",children:[Object(O.jsx)(Wt,{label:"Name",id:"name",type:"text",placeholder:"Jane Doe",required:!0,autoComplete:"name",value:k.name,onChange:function(e){I(Object(a.a)(Object(a.a)({},k),{},{name:e.target.value}))}}),Object(O.jsx)(Wt,{label:"Email",id:"email",type:"email",placeholder:"janedoe@gmail.com",required:!0,autoComplete:"email",value:k.email,onChange:function(e){I(Object(a.a)(Object(a.a)({},k),{},{email:e.target.value}))}}),Object(O.jsx)(Wt,{label:"Phone",id:"phone",type:"tel",placeholder:"(941) 555-0123",required:!0,autoComplete:"tel",value:k.phone,onChange:function(e){I(Object(a.a)(Object(a.a)({},k),{},{phone:e.target.value}))}})]}),Object(O.jsx)("fieldset",{className:"FormGroup",children:Object(O.jsx)(Lt,{onChange:function(e){s(e.error),d(e.complete)}})}),i&&Object(O.jsx)(Vt,{children:i.message}),Object(O.jsx)(Bt,{processing:f,error:i,disabled:!e,children:"Pay $25"})]})},Gt={fonts:[{cssSrc:"https://fonts.googleapis.com/css?family=Roboto"}]},$t=Object(At.a)("pk_test_6pRNASCoBOKtIshFeQd4XMUh"),zt=function(){return Object(O.jsxs)("div",{className:"AppWrapper",children:[Object(O.jsx)("h1",{children:"CARD PAYMENT"}),Object(O.jsx)(Dt.Elements,{stripe:$t,options:Gt,children:Object(O.jsx)(Ut,{})})]})},Kt=function(){var e=J(),t=e.totalAmountPaid,n=e.paymentOption,a=_(),c=function(e){return a({field:e.target.name,value:e.target.value})};return Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{children:"Payment Type"}),Object(O.jsx)(Mt,{value:n,onChange:c}),Object(O.jsx)("h2",{children:"Total Amount Paid"}),Object(O.jsx)(re,{name:"totalAmountPaid",value:t,onChange:c,Icon:function(){return Object(O.jsx)("span",{children:"$"})},placeholder:"Total Amount Paid"}),n&&"card"===n&&Object(O.jsx)(zt,{})]})},Jt=function(){var e=_();return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{className:"flex w-full justify-center",children:Object(O.jsx)(ut,{dispatch:e,type:"signature",name:"Customer Signature",width:"300"})})})},_t="",Yt=function(){var e=J(),t=e.subtotal,n=e.totalValuation,a=e.totalTransportation,c=e.totalMaterials,r=e.totalMiscFees;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(Z,{title:"Totals",hidePlus:!0}),Object(O.jsxs)("div",{className:"flex justify-between mx-auto w-1/2 p-1",children:[Object(O.jsx)("span",{className:_t,children:"Valuation"}),Object(O.jsx)("span",{className:_t,children:n})]}),Object(O.jsxs)("div",{className:"flex justify-between mx-auto w-1/2 p-1",children:[Object(O.jsx)("span",{className:_t,children:"Transportation"}),Object(O.jsx)("span",{className:_t,children:a})]}),Object(O.jsxs)("div",{className:"flex justify-between mx-auto w-1/2 p-1",children:[Object(O.jsx)("span",{className:_t,children:"Materials"}),Object(O.jsx)("span",{className:_t,children:c})]}),Object(O.jsxs)("div",{className:"flex justify-between mx-auto w-1/2 p-1",children:[Object(O.jsx)("span",{className:_t,children:"Specialty Fees"}),Object(O.jsx)("span",{className:_t,children:r})]}),Object(O.jsxs)("div",{className:"flex justify-between mx-auto w-1/2 p-1 border-t-2 border-double font-bold",children:[Object(O.jsx)("span",{className:_t,children:"Subtotal"}),Object(O.jsx)("span",{className:_t,children:t})]})]})},qt=n(143),Xt=n.n(qt),Zt=n(57);n(2126),n(2127),n(2128),n(205);Zt.c.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(Zt.c.version,"/pdf.worker.min.js");var Qt=function(e){var t=J(),n=_(),a=t.fullName,c=t.phoneNumber,r=t.email,i=function(e){return n({field:e.target.name,value:e.target.value})};return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(Z,{title:"Contact Info",hidePlus:!0}),Object(O.jsx)(re,{name:"fullName",value:a,onChange:i,Icon:ie.a,placeholder:"Full Name",label:"Full Name"}),Object(O.jsx)(re,{name:"phoneNumber",value:c,onChange:i,Icon:se.a,placeholder:"Phone Number",inputMode:"numeric",type:"tel",label:"Phone Number"}),Object(O.jsx)(re,{name:"email",value:r,onChange:i,Icon:oe.a,placeholder:"Email",type:"email",label:"Email"})]})},en=function(){var e=J(),t=_(),n=e.originAddress,a=e.destinationAddress,c=e.additionalStops,r=e.anyAdditionalStops,i=function(e){return t({field:e.target.name,value:e.target.value})};return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(Z,{title:"Locations",onClick:function(){return t({field:"anyAdditionalStops",value:!r})},Icon:r?le.a:ue.a}),Object(O.jsx)(re,{name:"originAddress",value:n,onChange:i,Icon:de.a,placeholder:"Starting Point (Origin)",label:"Starting Point (Origin)"}),r&&Object(O.jsx)(re,{name:"additionalStops",value:c,onChange:i,Icon:je.a,placeholder:"Other Stops",label:"Other Stops"}),Object(O.jsx)(re,{name:"destinationAddress",value:a,onChange:i,Icon:be.a,placeholder:"End Point (Destination)",label:"End Point (Destination)"})]})},tn=n(2129),nn=n(2130),an=n(2131),cn=n(2132),rn=n(2133),sn=function(){var e=J(),t=_(),n=e.dateType;return Object(c.useEffect)((function(){return n||t({field:"dateType",value:"today"}),function(){}}),[n,t]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(Z,{title:"Dates",hidePlus:!0}),Object(O.jsx)(on,{onClick:function(e){return t({field:e.target.name,value:e.target.value})},value:n}),"other"===n&&Object(O.jsx)(ln,{})]})},on=function(e){var t=J(),n=_(),c=t.dateType,r=[{value:"today",name:"Today",Icon:tn.a},{value:"other",name:"Multi-Day/Other",Icon:nn.a,disabled:!0}];return Object(O.jsx)(nt,Object(a.a)(Object(a.a)({name:"dateType",dispatch:n,value:c,options:r},e),{},{row:"true"}))},ln=function(){var e=_(),t=J().dates,n=function(n,a){var c=t;c[a]=n.target.value,e({field:"dates",value:Object(D.a)(c)})},a=function(n){if(t.length>1){var a=t;a.splice(n,1),e({field:"dates",value:Object(D.a)(a)})}};return Object(O.jsx)(O.Fragment,{children:t&&t.map((function(e,c){return Object(O.jsx)(un,{index:c,value:e,handleChange:n,handleDelete:a,canDelete:t.length>1},c)}))})},un=function(e){var t=e.index,n=void 0===t?1:t,a=e.value,c=e.handleChange,r=e.handleDelete,i=e.canDelete;return Object(O.jsxs)("div",{className:"flex items-center justify-between rounded-md  m-1",children:[Object(O.jsx)(re,{name:"date-"+(n+1),value:a,onChange:function(e){return c(e,n)},Icon:an.a,placeholder:"Day "+(n+1),type:"text",className:"flex-grow w-full"}),Object(O.jsxs)("div",{className:"flex",children:[Object(O.jsx)("span",{className:" flex-shrink hover:text-red-500 cursor-pointer m-2",children:Object(O.jsx)(le.a,{onClick:function(){return c({target:{value:H(a)}},n)}})}),Object(O.jsx)("span",{className:" flex-shrink hover:text-blue-500 cursor-pointer m-2",children:Object(O.jsx)(cn.a,{onClick:function(){return c({target:{value:R(new Date)}},n)}})}),Object(O.jsx)("span",{className:" flex-shrink hover:text-green-500 cursor-pointer m-2",children:Object(O.jsx)(ue.a,{onClick:function(){return c({target:{value:V(a)}},n)}})})]}),i&&Object(O.jsx)("span",{className:" flex-shrink hover:text-red-500 cursor-pointer m-2",children:Object(O.jsx)(rn.a,{onClick:function(){return r(n)}})})]})},dn=n(2134),jn=n(2135),bn=n(2136),mn=n(2137),xn=n(2138),fn=function(){var e=J(),t=_(),n=e.valuation,a=e.valuationCost,r=e.valuationCostWithDeductible,i=e.shipmentValue,s=e.estimatedWeight,o=e.valuationRate,l=e.valuationRateWithDeductible,u=Object(c.useState)(!1),d=Object(C.a)(u,2),j=d[0],b=d[1],m=Object(c.useState)(!1),x=Object(C.a)(m,2),f=x[0],h=x[1],p=function(e){return t({field:e.target.name,value:e.target.value})},v=[{value:"basic",name:"Basic",Icon:dn.a,price:"Free"},{value:"replacementWithDeductible",name:"Replacement (w/$300 Ded)",Icon:jn.a,price:r},{value:"replacement",name:"Full Replacement",Icon:bn.a,price:a}];Object(c.useEffect)((function(){var e={};void 0===o&&(e.valuationRate=1.4),void 0===l&&(e.valuationRateWithDeductible=1.15),void 0===n&&(e.valuation="basic"),void 0===a&&(e.valuationCost=0),void 0===r&&(e.valuationCostWithDeductible=0),void 0===i&&(e.shipmentValue=0),void 0===s&&(e.estimatedWeight=0),0!==Object.keys(e).length&&t({type:"fieldsUpdate",payload:e})}),[n,a,r,i,s,o,l,t]);return f?Object(O.jsx)("button",{onClick:function(){return h(!f)},children:"Completed"}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(Z,{title:"Valuation",onClick:function(){return b((function(e){return!e}))},Icon:j?xe.a:mn.a}),Object(O.jsxs)("div",{className:"flex max-w-md mx-auto space-x-2",children:[Object(O.jsx)("div",{className:"text-center",children:Object(O.jsx)(re,{name:"estimatedWeight",value:s,onChange:p,Icon:Je.a,placeholder:"Estimated Weight",label:"Estimated Weight",type:"number",units:"lbs.",align:"right",min:"0"})}),Object(O.jsxs)("div",{className:"relative",children:[Object(O.jsx)(re,{name:"shipmentValue",value:i,onChange:p,Icon:xn.a,placeholder:"Shipment Value",label:"Shipment Value",type:"number",align:"right",min:"0"}),!!s&&5*Number(s)>Number(i)&&Object(O.jsxs)("span",{className:"text-xs text-red-500 flex justify-center ",children:["Min Shimpent Value $",100*Math.ceil(5*s/100)]})]})]}),j&&Object(O.jsxs)("div",{className:"flex justify-around bg-white bg-opacity-50 p-5 rounded-md",children:[Object(O.jsx)(hn,{name:"valuationRateWithDeductible",rate:l,placeholder:"Replacement w/ deductible",onChange:p,min:"0.55",max:"1.15"}),Object(O.jsx)(hn,{name:"valuationRate",rate:o,onChange:p,min:"0.66",max:"1.40",placeholder:"Full Replacement"})]}),Object(O.jsx)(nt,{showPrice:!0,options:v,groupName:"Select valuation type",dispatch:t,value:n,name:"valuation"}),Object(O.jsx)(dt,{label:"initial",completed:f,setCompleted:h,dispatch:t,name:"valuationInitials"})]})},hn=function(e){var t=e.name,n=e.rate,a=e.onChange,c=e.min,r=e.max,i=e.placeholder;return Object(O.jsxs)("div",{className:"text-xs flex flex-col justify-center text-center",children:[Object(O.jsx)("span",{children:i})," ",Object(O.jsxs)("span",{className:"text-sm py-2",children:["$",n,"/ 100 lbs."]}),Object(O.jsx)("div",{className:"slidecontainer",children:Object(O.jsx)("input",{className:"w-full lg:w-1/2",name:t,type:"range",min:c,max:r,step:.01,value:n,id:"myRange",onChange:a})})]})},pn=function(){var e=_(),t=J().agreeToMoveSignature,n=Object(c.useState)(!1),a=Object(C.a)(n,2),r=a[0],i=a[1];return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(Z,{title:"Release",hidePlus:!0}),Object(O.jsxs)("p",{className:"px-6 text-sm my-4",children:["I have read and understand ",Object(O.jsx)("span",{className:"underline text-blue-600",children:"this contract"}),", and release my household goods to the carrier subject to the terms and conditions of this contract."]}),Object(O.jsx)(dt,{type:"Signature",completed:r,setCompleted:i,dispatch:e,name:"agreeToMoveSignature",value:t})]})},vn=function(){var e=_();return Object(O.jsx)("div",{className:"flex justify-center w-full",children:Object(O.jsxs)("button",{className:"bg-red-500 p-2 px-4 rounded-md text-white",onClick:function(){return e({type:"clearData"})},children:[Object(O.jsx)("span",{children:Object(O.jsx)(I.a,{})}),Object(O.jsx)("span",{children:"Clear Everything"})]})})},On="flex flex-col max-w-lg w-full ",gn=function(){return Object(O.jsxs)(q,{children:[Object(O.jsxs)("div",{className:"flex flex-col justify-center items-center md:items-stretch md:flex-row px-0 space-y-2 md:space-y-0 md:space-x-2 mt-2 max-w-screen-2xl",children:[Object(O.jsx)("div",{className:On,children:Object(O.jsxs)("div",{className:"bg-gray-50 p-2 rounded-md",children:[Object(O.jsx)(Qt,{}),Object(O.jsx)(en,{}),Object(O.jsx)(sn,{}),Object(O.jsx)(jt,{}),Object(O.jsx)(fn,{}),Object(O.jsx)(pn,{})]})}),Object(O.jsx)("div",{className:On,children:Object(O.jsxs)("div",{className:"bg-gray-50  p-2 rounded-md",children:[Object(O.jsx)(at,{}),Object(O.jsx)(ce,{showMoreDefault:!1}),Object(O.jsx)(Ft,{showMoreDefault:!1})]})}),Object(O.jsx)("div",{className:On,children:Object(O.jsxs)("div",{className:"bg-gray-50 p-2 rounded-md",children:[Object(O.jsx)(Yt,{}),Object(O.jsx)(Kt,{}),Object(O.jsx)(Jt,{}),Object(O.jsx)(vn,{})]})})]}),Object(O.jsx)("div",{className:"flex flex-col flex-grow       p-2"})]})},yn=function(){var e=Object(c.useState)(""),t=Object(C.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),i=Object(C.a)(r,2),s=i[0],o=i[1],l=Object(v.useFirestore)();function u(){var e={text:n};if(a(""),s){var t=s;return o(""),l.collection("todos").doc(t).update(e)}return l.collection("todos").add(e)}return Object(O.jsxs)("div",{children:[Object(O.jsx)("h1",{children:"Estimates"}),Object(O.jsx)("input",{className:"p-2 px-4 m-1 rounded-md",value:n,onChange:function(e){a(e.target.value)},placeholder:"Add todo",onKeyPress:function(e){"Enter"===e.key&&u()},onFocus:function(e){return e.target.select()}}),Object(O.jsxs)("button",{className:"bg-red-500 p-2 m-1 rounded-md text-white",onClick:u,children:[s?"Edit":"Add"," estimate"]}),Object(O.jsx)(wn,{handleEdit:function(e,t){return function(n){a(t),o(e)}}})]})},wn=function(e){var t=e.handleEdit,n=Object(v.useFirestore)();Object(v.useFirestoreConnect)(["todos"]);var a=Object(o.c)((function(e){return e.firestore.ordered.todos}));if(!Object(v.isLoaded)(a))return Object(O.jsx)("div",{children:"Loading..."});if(Object(v.isEmpty)(a))return Object(O.jsx)("div",{children:"Todos List Is Empty"});var c=function(e){return function(){var t=Object(m.a)(b.a.mark((function t(a){var c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.next=3,n.collection("todos").doc(e).delete();case 3:return c=t.sent,console.log(c),t.abrupt("return",c);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};return Object(O.jsx)("div",{children:Object(O.jsx)("ul",{children:a.map((function(e,n){return Object(O.jsxs)("li",{id:n,todo:a[e],children:[JSON.stringify(e),Object(O.jsx)("button",{className:"bg-red-500 text-white p-2 px-4 m-1 rounded-sm",onClick:c(e.id),children:"x"}),Object(O.jsx)("button",{className:"bg-green-500 text-white p-2 px-4 m-1 rounded-sm",onClick:t(e.id,e.text),children:"edit"})]},e)}))})})},Nn=function(){return Object(O.jsx)("div",{children:"Estimate"})},Cn=n(149),kn=n.n(Cn),In=n(2139),Sn=function(e){var t=e.paramountId,n=e.fullName,a=e.phone,c=e.email;return Object(O.jsxs)("tr",{className:"hover:bg-pink-500 hover:text-white cursor-pointer",children:[Object(O.jsx)("td",{children:Object(O.jsxs)(l.b,{to:"/p/".concat(t),children:[" ",t]})}),Object(O.jsx)("td",{children:Object(O.jsx)(l.b,{to:"/p/".concat(t),children:n})}),Object(O.jsx)("td",{children:Object(O.jsx)(l.b,{to:"/p/".concat(t),children:c})}),Object(O.jsx)("td",{children:Object(O.jsx)(l.b,{to:"/p/".concat(t),children:a})}),Object(O.jsx)("td",{children:Object(O.jsx)(l.b,{to:"/p1/".concat(t),children:"Single View"})})]})},Tn=function(){var e=Object(c.useState)([]),t=Object(C.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),i=Object(C.a)(r,2),s=i[0],o=i[1];return Object(c.useEffect)((function(){for(var e=[],t=0;t<20;t++)e[t]={id:Object(x.a)(6),fullName:kn.a.name.findName(),email:kn.a.internet.email(),phone:kn.a.phone.phoneNumber()};a(e)}),[]),Object(O.jsxs)("div",{className:"flex flex-col justify-center items-center bg-gray-50 container mx-auto",children:[Object(O.jsx)(Fn,{value:s,setValue:o}),Object(O.jsx)("div",{className:"flex justify-center ",children:Object(O.jsxs)("table",{className:"w-full",children:[Object(O.jsx)("thead",{className:"text-white bg-gray-900 text-center cursor-pointer",children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:"Id"}),Object(O.jsx)("th",{children:"Name"}),Object(O.jsx)("th",{children:"Phone"}),Object(O.jsx)("th",{children:"Email"}),Object(O.jsx)("th",{})]})}),Object(O.jsx)("tbody",{children:(0===s.length?n:n.filter((function(e){return Object.values(e).toString().toLowerCase().includes(s.toLowerCase())}))).map((function(e){return Object(O.jsx)(Sn,{paramountId:e.id,fullName:e.fullName,email:e.email,phone:e.phone},e.id)}))})]})}),Object(O.jsx)("button",{children:"+ Paramount"})]})},Fn=function(e){var t=e.value,n=void 0===t?"":t,a=e.setValue;return Object(O.jsxs)("div",{className:"bg-white w-80 p-2 m-1 mx-4 rounded-md flex",children:[Object(O.jsx)("span",{children:Object(O.jsx)(In.a,{})}),Object(O.jsx)("input",{type:"search",onChange:function(e){return a(e.target.value)},value:n,className:"w-full pl-2",placeholder:"search..."})]})},En=n(2146),Pn=[{name:"Full Name",id:"dfgsd"},{name:"Phone Number",id:"5t4e"},{name:"Email",id:"ert34"},{name:"Origin Address",id:"asdf4"},{name:"Destination Address",id:"asdasd4f4"},{name:"Reference Number",id:"y654hr"},{name:"Signature",id:"sdvcxc"},{name:"Initials",id:"gre676"},{name:"Date",id:"gre676"}],Mn=function(e){return Object(O.jsxs)("div",{className:"my-10 z-10 flex flex-col",children:[Object(O.jsx)("h1",{children:"Fields"}),Pn.map((function(e){return Object(O.jsx)(An,{id:e.id,name:e.name,value:e.value},e.id)}))]})},An=function(e){var t=e.name,n=e.value;return Object(O.jsx)(Rn,Object(a.a)(Object(a.a)({},e),{},{children:Object(O.jsxs)("div",{className:"bg-purple-500 rounded-md p-1 my-1 select-none hover:bg-purple-700 ",children:[Object(O.jsxs)("div",{className:"handle  text-white cursor-pointer text-xs pb-1 pl-2 ",children:[":: ",t]}),!!n&&Object(O.jsx)("div",{className:"bg-white px-4 py-1 rounded-sm",children:"Arnas Jelizarovas"})]})}))},Dn={border:"1px dashed gray",backgroundColor:"white",padding:"0.5rem 1rem",marginRight:"1.5rem",marginBottom:"1.5rem",float:"left"},Rn=function(e){var t=e.name,n=Object(En.a)((function(){return{type:"field",item:e,end:function(e,t){var n=t.getDropResult();if(e&&n){var a="";if("any"===n.allowedDropEffect||n.allowedDropEffect===n.dropEffect){var c="copy"===n.dropEffect;a="You ".concat(c?"copied":"moved"," ").concat(e.name," into ").concat(n.name,"!")}else a="You cannot ".concat(n.dropEffect," an item into the ").concat(n.name);console.log(a)}},collect:function(e){return{opacity:e.isDragging()?.4:1}}}}),[t]),c=Object(C.a)(n,2),r=c[0].opacity,i=c[1];return Object(O.jsx)("div",Object(a.a)(Object(a.a)({},e),{},{ref:i,style:Object(a.a)(Object(a.a)({},Dn),{},{opacity:r}),children:e.children}))},Ln=n(2141),Wn=function(e){var t=e.file,n=e.setFile,a=e.onUrlAdded,r=function(e){var t=Object(c.useState)(0),n=Object(C.a)(t,2),a=n[0],r=n[1],i=Object(c.useState)(null),s=Object(C.a)(i,2),o=s[0],l=s[1],u=Object(c.useState)(null),d=Object(C.a)(u,2),j=d[0],x=d[1];return Object(c.useEffect)((function(){var t=rc.ref(e.name),n=ac.collection("images");t.put(e).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;r(t)}),(function(e){l(e)}),Object(m.a)(b.a.mark((function e(){var a,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getDownloadURL();case 2:return a=e.sent,c=ic(),e.next=6,n.add({url:a,createdAt:c});case 6:x(a);case 7:case"end":return e.stop()}}),e)}))))}),[e]),{progress:a,url:j,error:o}}(t),i=r.progress,s=r.url;return Object(c.useEffect)((function(){s&&(n(null),a(s))}),[s,n,a]),Object(O.jsx)("div",{children:i+" %"})},Bn=function(e){e.customPdf;var t=e.setCustomPdf,n=Object(c.useState)(null),a=Object(C.a)(n,2),r=a[0],i=a[1],s=Object(c.useState)(null),o=Object(C.a)(s,1)[0],l=Object(c.useState)(null),u=Object(C.a)(l,1)[0];return Object(O.jsxs)("form",{children:[Object(O.jsxs)("label",{children:[Object(O.jsx)("input",{type:"file",onChange:function(e){var t=e.target.files[0];t&&i(t)}}),Object(O.jsx)("span",{children:"+"})]}),Object(O.jsxs)("div",{className:"output",children:[o&&Object(O.jsx)("div",{className:"error",children:o}),r&&Object(O.jsx)("div",{children:r.name}),r&&Object(O.jsx)(Wn,{file:r,setFile:i,onUrlAdded:function(e){t((function(t){return[].concat(Object(D.a)(t),[e])}))}})]}),u&&Object(O.jsx)("span",{children:u})]})},Vn=[{id:"Fci3ht4RCfb9rr2U04Xd",name:"Accessorials",url:"https://firebasestorage.googleapis.com/v0/b/sfm-tools-448ab.appspot.com/o/pdf%2Faccesorials.pdf?alt=media&token=b9e30c40-5ea8-4000-8685-d0f22632829a"},{id:"QoRroeKIeEOcGvTZve1T",name:"Damage Waiver",url:"https://firebasestorage.googleapis.com/v0/b/sfm-tools-448ab.appspot.com/o/pdf%2FDamage%20Waiver.pdf?alt=media&token=7a30566b-ae9c-46e4-a302-0e93988ee8ad"},{id:"56yerfthdfg",name:"Residential Inspection",url:"https://firebasestorage.googleapis.com/v0/b/sfm-tools-448ab.appspot.com/o/pdf%2FRersidential%20Preinspection.pdf?alt=media&token=f920d38a-bd72-44b1-98ce-06acdc134022"},{id:"erty656",name:"Load Chart",url:"https://firebasestorage.googleapis.com/v0/b/sfm-tools-448ab.appspot.com/o/pdf%2FLoad%20Chart.pdf?alt=media&token=69dfea5c-fb71-4265-8dff-90ac89e29770"},{id:"sdfg5456",name:"Prohibited Items",url:"https://firebasestorage.googleapis.com/v0/b/sfm-tools-448ab.appspot.com/o/pdf%2FProhibited%20Items.pdf?alt=media&token=4652dbf3-2833-461c-baf1-9a0b79d2f6f2"}],Hn=function(e){e.pdf;var t=e.setPdf,n=Object(c.useState)([]),r=Object(C.a)(n,2),i=r[0],s=r[1],o=function(e){return function(n){t((function(t){return(null===t||void 0===t?void 0:t.id)!==(null===e||void 0===e?void 0:e.id)?Object(a.a)({},e):t}))}};return Object(O.jsxs)("div",{className:"w-64 p-2",children:[Object(O.jsxs)("div",{className:"my-10",children:[Object(O.jsx)(Z,{title:"Packet List",hidePlus:!0}),Object(O.jsx)("ul",{className:"p-1",children:Vn.map((function(e,t){return Object(O.jsx)(Un,{name:e.name,onClick:o(e)},t)}))})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)(Z,{title:"Unique Paperwork",hidePlus:!0}),!!i&&i.map((function(e,t){return Object(O.jsx)("span",{children:null===e||void 0===e?void 0:e.name})})),Object(O.jsx)(Bn,{customPdf:i,setCustomPdf:s})]})]})},Un=function(e){var t=e.name,n=(e.id,e.onClick);return Object(O.jsxs)("li",{className:"hover:text-blue-600 cursor-pointer",onClick:n,children:[Object(O.jsx)(Ln.a,{})," ",Object(O.jsx)("span",{children:t})]})};Zt.c.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(Zt.c.version,"/pdf.worker.min.js");var Gn=Object(c.memo)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.pdf;console.log("previewRerender");var n=Object(c.useState)({x:0,y:0}),a=Object(C.a)(n,2),r=a[0],i=a[1],s=Object(c.useState)(null),o=Object(C.a)(s,2),l=o[0],u=o[1],d=Object(c.useState)(1),j=Object(C.a)(d,2),b=j[0],m=j[1],x=function(e){console.log("getcoordinates");var t=e.target.getBoundingClientRect(),n=e.clientX-t.left,a=e.clientY-t.top;i({x:n.toFixed(2),y:-(a-792).toFixed(2)})};function f(e){var t=e.numPages;u(t)}return Object(O.jsxs)("div",{className:"bg-white p-4 rounded-md",children:[Object(O.jsx)(Zt.a,{file:(null===t||void 0===t?void 0:t.data)?{data:t.data}:null===t||void 0===t?void 0:t.url,onLoadSuccess:f,renderMode:"canvas",onClick:x,children:Object(O.jsx)(Zt.b,{pageNumber:b,className:"flex"})}),Object(O.jsxs)("p",{children:["Page ",b," of ",l]}),Object(O.jsx)("button",{className:"p-1",onclick:function(){return m((function(e){return e--}))},children:"prev page"}),Object(O.jsx)("button",{onclick:function(){return m((function(e){return e++}))},children:"net page"}),Object(O.jsx)("h1",{children:"coordinate: x: ".concat(r.x,", y: ").concat(r.y,".")})]})})),$n=n(2142),zn=n(330),Kn=n(329),Jn=n(2147),_n=n(325),Yn=n.n(_n),qn=[{type:"text",page:0,text:"Jamming",x:200,y:200,size:50}];function Xn(e){return Zn.apply(this,arguments)}function Zn(){return(Zn=Object(m.a)(b.a.mark((function e(t){var n,a,c,r,i,s,o,l,u,d,j=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=j.length>1&&void 0!==j[1]?j[1]:qn,console.log({pdf:t,data:n}),(a=t.url)&&n){e.next=5;break}return e.abrupt("return",void 0);case 5:return e.next=7,fetch(a).then((function(e){return e.arrayBuffer()}));case 7:return c=e.sent,console.log({formPdfBytes:c}),e.next=11,bt.PDFDocument.load(c);case 11:return r=e.sent,i=r.getPages(),s=r.getForm(),o=function(e){var t=e.pdfField,n=e.text,a=e.condition;if(t&&n&&!(void 0!==a&&a))return Array.isArray(n)&&(n=n.join(", ")),s.getTextField(t).setText(n.toString())},l=function(){var e=Object(m.a)(b.a.mark((function e(t){var n,a,c,s,o,l,u,d,j,m;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.signature,a=t.x,c=t.y,s=t.width,o=void 0===s?25:s,l=t.height,u=void 0===l?10:l,d=t.page,void 0===d?0:d,n&&a&&c){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,fetch(n).then((function(e){return e.arrayBuffer()}));case 5:return j=e.sent,e.next=8,r.embedPng(j);case 8:return m=e.sent,e.abrupt("return",i[0].drawImage(m,{x:a,y:c,height:u,width:o}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(e){var t=e.text,n=e.x,a=e.y,c=e.size,r=void 0===c?10:c,s=e.page,o=void 0===s?0:s;if(t&&n&&a)return console.log("setting trext"),i[o].drawText(t,{x:n,y:a,size:r})},n.map(function(){var e=Object(m.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("text"!==(null===t||void 0===t?void 0:t.type)){e.next=2;break}return e.abrupt("return",u({text:null===t||void 0===t?void 0:t.text,x:null===t||void 0===t?void 0:t.x,y:null===t||void 0===t?void 0:t.y,page:null===t||void 0===t?void 0:t.page}));case 2:if("signature"!==(null===t||void 0===t?void 0:t.type)){e.next=6;break}return e.next=5,l({signature:null===t||void 0===t?void 0:t.signature,x:null===t||void 0===t?void 0:t.x,y:null===t||void 0===t?void 0:t.y,page:null===t||void 0===t?void 0:t.page});case 5:return e.abrupt("return",e.sent);case 6:if("formField"!==(null===t||void 0===t?void 0:t.type)){e.next=8;break}return e.abrupt("return",o({pdfField:null===t||void 0===t?void 0:t.pdfField,text:null===t||void 0===t?void 0:t.text,condition:null===t||void 0===t?void 0:t.condition}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),s.flatten(),e.next=21,r.save();case 21:return d=e.sent,e.abrupt("return",d);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Qn={width:"612px",height:"792px"},ea=function(){var e=Object(c.useState)(null),t=Object(C.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)({a:{top:20,left:80,title:"Drag me around"},b:{top:180,left:20,title:"Drag me too"}}),s=Object(C.a)(i,2),o=s[0],l=s[1],u=function(){var e=Object(m.a)(b.a.mark((function e(t){var c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=5;break}return e.next=3,Xn({url:null===n||void 0===n?void 0:n.url});case 3:c=e.sent,r((function(e){return Object(a.a)(Object(a.a)({},e),{},{data:c})}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsxs)("div",{className:"flex  justify-around items-start ",children:[Object(O.jsx)(aa,{}),Object(O.jsxs)("div",{children:[Object(O.jsx)(Hn,{pdf:n,setPdf:r}),Object(O.jsx)("button",{onClick:u,className:"bg-purple-700 text-white p-2 rounded-md",children:"PDFize"}),Object(O.jsx)("button",{onClick:function(){console.log(n)},className:"bg-purple-700 text-white p-2 rounded-md",children:"clg"})]}),Object(O.jsxs)($n.a,{backend:zn.a,options:Kn.a,children:[Object(O.jsx)(Mn,{}),Object(O.jsx)(ta,{pdf:n,boxes:o,setBoxes:l})]})]})};function ta(e){var t=e.pdf,n=e.boxes,r=e.setBoxes,i=Object(c.useCallback)((function(e,t,a){r(Yn()(n,Object(k.a)({},e,{$merge:{left:t,top:a}})))}),[n,r]),s=function(e){return function(t){r((function(t){return console.log(t[e]),t}))}},o=function(e,t){var n=Object(c.useRef)(),r=Object(Jn.a)({accept:["box","field"],drop:function(c,r){if(console.log(),"field"===r.getItemType()){var i=r.getSourceClientOffset();if(i&&n.current){var s=n.current.getBoundingClientRect(),o=i.x-s.left,l=i.y-s.top;return void t((function(e){return Object(a.a)(Object(a.a)({},e),{},Object(k.a)({},Object(x.a)(6),{title:c.name,fieldId:c.id,left:o,top:l}))}))}}if("box"!==r.getItemType());else{var u=r.getDifferenceFromInitialOffset(),d=Math.round(c.left+u.x),j=Math.round(c.top+u.y);e(c.id,d,j)}}}),i=Object(C.a)(r,2)[1];return function(e){n.current=e,i(n)}}(i,r);return Object(O.jsxs)("div",{ref:o,className:"LocalBox bg-purple-900 relative",style:Qn,children:[Object(O.jsx)(Gn,{pdf:t}),Object.keys(n).map((function(e){var t=n[e],a=t.left,c=t.top,r=t.title;return Object(O.jsx)(na,{id:e,left:a,top:c,hideSourceOnDrag:!0,handleDelete:s,children:r},e)}))]})}var na=function(e){var t=e.id,n=e.left,a=e.top,c=e.hideSourceOnDrag,r=void 0===c||c,i=e.children,s=e.handleDelete,o=Object(En.a)((function(){return{type:"box",item:{id:t,left:n,top:a},collect:function(e){return{isDragging:e.isDragging()}}}}),[t,n,a]),l=Object(C.a)(o,2),u=l[0].isDragging,d=l[1];return u&&r?Object(O.jsx)("div",{ref:d,children:"t"}):Object(O.jsxs)("button",{ref:d,className:"absolute bg-green-500 text-white text-xs px-1 rounded-sm cursor-pointer",style:{left:n,top:a},children:[Object(O.jsxs)("span",{children:[i," [",n.toFixed(1),", ",(792-Number(a)).toFixed(1),"]"]}),Object(O.jsx)("span",{className:"m-1 hover:text-gray-300",onClick:s(t),children:Object(O.jsx)(xe.a,{className:"p-1"})})]})};var aa=function(){return Object(O.jsxs)("div",{children:[Object(O.jsx)("h1",{children:"Task List"}),Object(O.jsxs)("ul",{children:[Object(O.jsx)(ca,{to:"type",text:"Job Type"}),Object(O.jsx)(ca,{to:"contact",text:"Personal Info"}),Object(O.jsx)(ca,{to:"prep",text:"Prepare Paperwork"}),Object(O.jsx)(ca,{to:"schedule",text:"Schedule"}),Object(O.jsx)(ca,{to:"assign",text:"Assign Crew"})]})]})},ca=function(e){var t=e.to,n=e.text,a=(e.onClick,Object(u.j)().url);return Object(O.jsx)("li",{className:"px-2 nav-item",children:Object(O.jsx)(l.c,{className:"px-3 py-2 flex items-center text-xs uppercase font-bold leading-snug  hover:opacity-75 ml-2 ",to:"".concat(a,"/").concat(t),activeClassName:"text-red-500",children:n})})},ra=function(){return Object(O.jsx)("div",{children:"Dispatch"})},ia=function(){return Object(O.jsx)("div",{children:"Job"})},sa="ADD_WARE",oa="TOGGLE_WARE",la="SET_FILTER",ua=0,da=Object(o.b)(null,{addWare:function(e){return{type:sa,payload:{id:++ua,content:e}}}})((function(e){var t=Object(c.useState)(""),n=Object(C.a)(t,2),a=n[0],r=n[1],i=function(){e.addWare(a),r("")};return Object(O.jsxs)("div",{children:[Object(O.jsx)("input",{onChange:function(e){return r(e.target.value)},value:a,onKeyPress:function(e){"Enter"===e.key&&i()},onFocus:function(e){return e.target.select()}}),Object(O.jsx)("button",{className:"add-ware bg-green-500 p-2 rounded-md text white",onClick:i,children:"Add Ware"})]})})),ja=n(147),ba=n.n(ja),ma=Object(o.b)(null,{toggleWare:function(e){return{type:oa,payload:{id:e}}}})((function(e){var t=e.ware,n=e.toggleWare;return Object(O.jsxs)("li",{className:"ware-item",onClick:function(){return n(t.id)},children:[t&&t.completed?"\ud83d\udc4c":"\ud83d\udc4b"," ",Object(O.jsx)("span",{className:ba()("ware-item__text",t&&t.completed&&"ware-item__text--completed"),children:t.content})]})})),xa={ALL:"all",COMPLETED:"completed",INCOMPLETE:"incomplete"},fa=function(e){return e.wares},ha=function(e){return function(e){return fa(e)?fa(e).allIds:[]}(e).map((function(t){return function(e,t){return fa(e)?Object(a.a)(Object(a.a)({},fa(e).byIds[t]),{},{id:t}):{}}(e,t)}))},pa=Object(o.b)((function(e){return{wares:function(e,t){var n=ha(e);switch(t){case xa.COMPLETED:return n.filter((function(e){return e.completed}));case xa.INCOMPLETE:return n.filter((function(e){return!e.completed}));case xa.ALL:default:return n}}(e,e.visibilityFilter)}}))((function(e){var t=e.wares;return Object(O.jsx)("ul",{className:"ware-list",children:t&&t.length?t.map((function(e,t){return Object(O.jsx)(ma,{ware:e},"ware-".concat(e.id))})):"No wares, yay!"})})),va=Object(o.b)((function(e){return{activeFilter:e.visibilityFilter}}),{setFilter:function(e){return{type:la,payload:{filter:e}}}})((function(e){var t=e.activeFilter,n=e.setFilter;return Object(O.jsx)("div",{className:"visibility-filters",children:Object.keys(xa).map((function(e){var a=xa[e];return Object(O.jsx)("span",{className:ba()("filter",a===t&&"filter--active"),onClick:function(){n(a)},children:a},"visibility-filter-".concat(a))}))})}));function Oa(){return Object(O.jsxs)("div",{className:"ware-app flex flex-col  items-center py-10",children:[Object(O.jsx)("h1",{children:"Ware List"}),Object(O.jsx)(da,{}),Object(O.jsx)(va,{}),Object(O.jsx)(pa,{})]})}var ga=[{title:"Materials Calculator",img:"".concat("/sfm","/img/tools-materials.gif"),url:"/t/materials"},{title:"Coordinates View",url:"/t/coordinates"},{title:"Text Customer",url:"/t/sms"},{title:"ABHS",url:"/t/abhs"},{title:"Tip Split",url:"/t/tips"}],ya=function(){return Object(O.jsx)("div",{className:"grid grid-cols-4 gap-4 container mx-auto mt-10",children:ga.map((function(e){return Object(O.jsx)("div",{className:"w-full border-2 rounded-md relative min-h-[200px] hover:bg-red-700 hover:font-bold bg-red-500",children:Object(O.jsxs)(l.b,{to:e.url,children:[e.img?Object(O.jsx)("img",{alt:"demo",src:e.img,className:"w-full "}):Object(O.jsx)("div",{className:"w-full h-full  "}),Object(O.jsx)("span",{className:"absolute bottom-0 bg-white w-full px-4 py-2 text-center ",children:e.title})]})})}))})},wa=n(326),Na=function(){var e=Object(c.useState)({x:null,y:null}),t=Object(C.a)(e,2),n=t[0],a=t[1],r=function(e){a({x:e.clientX,y:e.clientY})};return Object(c.useEffect)((function(){return window.addEventListener("click",r),function(){return window.removeEventListener("click",r)}}),[]),n},Ca=function(){var e=Object(c.useState)(1),t=Object(C.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)({x:0,y:0}),i=Object(C.a)(r,2),s=i[0],o=i[1],l=Object(c.useRef)(null),u=Na(),d=u.x,j=u.y,b="number"===typeof d&&"number"===typeof j,m=Object(wa.a)({file:"/sfm/pdf/abhs.pdf",page:n,canvasRef:l}).pdfDocument;return Object(O.jsxs)("div",{children:[Object(O.jsx)("h1",{children:b?"coordinate: x: ".concat(s.x,", y: ").concat(s.y,"."):"Click anywhere on document."}),!m&&Object(O.jsx)("span",{children:"Loading..."}),Object(O.jsx)("canvas",{ref:l,className:"mx-auto",onClick:function(e){var t=e.target.getBoundingClientRect(),n=e.clientX-t.left,a=e.clientY-t.top;o({x:n,y:-(a-792)})}}),Boolean(m&&m.numPages)&&Object(O.jsx)("nav",{children:Object(O.jsxs)("ul",{className:"pager",children:[Object(O.jsx)("li",{className:"previous",children:Object(O.jsx)("button",{disabled:1===n,onClick:function(){return a(n-1)},children:"Previous"})}),Object(O.jsx)("li",{className:"next",children:Object(O.jsx)("button",{disabled:n===m.numPages,onClick:function(){return a(n+1)},children:"Next"})})]})})]})},ka=Object(c.createContext)(),Ia=Object(c.createContext)(),Sa=function(e,t){var n=t.field,c=t.value,r=t.type,i=t.groupName,s=void 0===i?"materials":i,o=t.payload,l=t.id,u=void 0===l?null:l;if(!r)return Object(a.a)(Object(a.a)({},e),{},Object(k.a)({},n,c));var d=e[s];switch(r){case"fieldsUpdate":return Object(a.a)(Object(a.a)({},e),o);case"groupUpdate":return Object(a.a)(Object(a.a)({},e),{},Object(k.a)({},s,(null===d||void 0===d?void 0:d.find((function(e){return e.id===u})))?d.map((function(e){return u===e.id?Object(a.a)(Object(a.a)({},e),o):e})):[].concat(Object(D.a)(d),[Object(a.a)({id:u},o)])));case"groupClear":return Object(a.a)(Object(a.a)({},e),{},Object(k.a)({},s,[]));case"groupRemove":return Object(a.a)(Object(a.a)({},e),{},Object(k.a)({},s,d.filter((function(e){return e.id!==u}))));default:return e}},Ta=function(e){var t,n=e.children,a=Object(c.useReducer)((t=Sa,function(e,n){var a=t(e,n);return localStorage.setItem("materials",JSON.stringify(a)),a}),function(){if(!("materials"in localStorage))return{materials:[]};try{return JSON.parse(localStorage.getItem("materials"))}catch(e){return{}}}()),r=Object(C.a)(a,2),i=r[0],s=r[1],o=i.materials;return Object(c.useEffect)((function(){s({field:"totalMaterials",value:o&&o.reduce((function(e,t){var n=t.units,a=t.rate;return e+Number(n)*Number(a)}),0)})}),[o,s]),Object(O.jsx)(ka.Provider,{value:i,children:Object(O.jsx)(Ia.Provider,{value:s,children:n})})},Fa=n(2143),Ea=n(2144),Pa=n(2145);var Ma=function(e,t){switch(console.log("reducer"),t.type){case"update":return Object(a.a)(Object(a.a)({},e),t.payload);case"clear":return{}}return Object(a.a)({},e)},Aa=function(){var e=new URLSearchParams(Object(u.h)().search),t=Object(v.useFirestore)(),n={phone:e.get("p")||e.get("phone")||"",customer:e.get("n")||e.get("name")||"",greeting:"AM"===((new Date).getHours()>=12?"PM":"AM")?"Good Morning":"Good afternoon",crewLead:"Arnas",company:"Paramount Transportation Systems",moveType:"delivering",scheduledETA:"1 p.m. to 4 p.m.",sms:"",editId:""},r=Object(c.useReducer)(Ma,n),i=Object(C.a)(r,2),s=i[0],o=i[1],l=s.phone,d=s.customer,j=s.greeting,b=s.crewLead,m=s.company,x=s.moveType,f=s.scheduledETA,h=s.sms,p=s.editId,g=function(e){return o({type:"update",payload:Object(k.a)({},e.target.name,e.target.value)})};return Object(c.useEffect)((function(){return o({type:"update",payload:{sms:"".concat(j).concat(d?" "+d:"",", this is Arnas with ").concat(m,". We'll be ").concat(x," today. Our scheduled ETA is ").concat(f,". If you have any questions please text me or call me. ")}}),function(){}}),[l,d,j,b,m,x,f]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"bg-gray-100 p-2 rounded-b-lg",children:[!!p&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("span",{children:["Editing: ",p]}),Object(O.jsx)("button",{onClick:function(){return o({type:"clear"})},children:"x"})]}),Object(O.jsx)(re,{name:"phone",Icon:se.a,value:l,onChange:g,placeholder:"Text phone number"}),Object(O.jsx)(re,{name:"customer",Icon:Fa.a,value:d,onChange:g,placeholder:"Customer name"}),Object(O.jsx)(re,{name:"scheduledETA",Icon:Fa.a,value:f,onChange:g,placeholder:"scheduledETA"}),Object(O.jsx)("div",{className:"bg-white mx-2 py-1 rounded-md",children:Object(O.jsx)(qe,{name:"greeting",value:j,onClick:g,buttons:[{value:"Good morning",placeholder:"Morning",Icon:Ie.a},{value:"Good afternoon",placeholder:"Afternoon",Icon:Se.a},{value:"Hello",placeholder:"Neutral",Icon:Se.a}]})}),Object(O.jsx)("div",{className:"bg-white mx-2 py-1 rounded-md",children:Object(O.jsx)(qe,{name:"moveType",value:x,onClick:g,buttons:[{value:"delivering your goods ",placeholder:"Delivery",Icon:Ie.a},{value:"packing up your goods ",placeholder:"Origin",Icon:Se.a},{value:"moving you",placeholder:"Local",Icon:Se.a}]})}),Object(O.jsx)("div",{className:"bg-white mx-2 py-1 rounded-md",children:Object(O.jsx)(qe,{name:"company",value:m,onClick:g,buttons:[{value:"Paramount Transportation Systems",placeholder:"Paramount",Icon:Ie.a},{value:"SuperFriends Moving",placeholder:"SuperFriends",Icon:Se.a}]})}),Object(O.jsx)("div",{className:"eta-window"}),Object(O.jsx)("div",{className:"bg-white p-10 my-2 rounded-lg",children:h}),Object(O.jsxs)("div",{className:"flex justify-center",children:[Object(O.jsxs)("a",{className:"bg-green-500 text-white p-2 px-4 rounded-md",href:"sms:".concat(l).concat(T.isIOS?"&":"?","body=").concat(h),target:"_blank",rel:"noreferrer",children:[Object(O.jsx)(Ea.a,{className:"mr-2"})," Send text"]}),Object(O.jsxs)("button",{className:"text-blue-500 px-4 py-2",onClick:function(){var e={phone:l,customer:d,greeting:j,crewLead:b,company:m,moveType:x,scheduledETA:f,sms:h};if(p){var n=p;return o({type:"update",payload:{editId:""}}),t.collection("sms").doc(n).update(e)}return t.collection("sms").add(e)},children:[Object(O.jsx)(Pa.a,{className:"mr-2"}),"Save"]})]})]}),Object(O.jsx)(Ra,{handleEdit:function(e,t){return function(n){console.log({id:e,payload:t}),o({type:"update",payload:Object(a.a)({editId:e},t)})}}})]})};var Da={collection:"sms",limitTo:10},Ra=function(e){var t=e.handleEdit,n=Object(u.g)(),c=Object(v.useFirestore)();console.log(n,c),Object(v.useFirestoreConnect)((function(){return[Da]}));var r=Object(o.c)((function(e){return e.firestore.ordered.sms}));return Object(v.isLoaded)(r)?Object(v.isEmpty)(r)?"Todo list is empty":Object(O.jsx)("div",{className:"sidebar flex flex-col w-full bg-gray-50 mt-4 p-4 rounded-md",children:r.map((function(e,n){var c=e.id,r=Object(d.a)(e,["id"]);return Object(O.jsx)(La,Object(a.a)({id:c,handleEdit:t},r),"".concat(c,"-").concat(n))}))}):"Loading"},La=function(e){var t=e.id,n=e.handleEdit,a=Object(d.a)(e,["id","handleEdit"]);return Object(O.jsxs)("div",{className:" w-full p-2 grid grid-flow-col auto-cols-fr justify-items-center text-xs ",children:[Object(O.jsx)("div",{children:null===a||void 0===a?void 0:a.customer}),Object(O.jsx)("div",{children:null===a||void 0===a?void 0:a.phone}),Object(O.jsx)("div",{children:null===a||void 0===a?void 0:a.moveType}),Object(O.jsx)("div",{children:t}),Object(O.jsxs)("div",{className:"flex",children:[Object(O.jsx)("div",{className:"px-2 cursor-pointer",onClick:n(t,a),children:Object(O.jsx)(mn.a,{})}),Object(O.jsx)("div",{className:"px-2",children:Object(O.jsx)(I.a,{})})]})]})};function Wa(e){return Ba.apply(this,arguments)}function Ba(){return(Ba=Object(m.a)(b.a.mark((function e(t){var n,a,c,r,i,s,o,l,u,d,j,x,f,h,p,v,O,g,y,w,N,C,k;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"pdf/abhs.pdf",n=window.location.origin.toString()+"/sfm/",a=n+"pdf/abhs.pdf",e.next=5,fetch(a).then((function(e){return e.arrayBuffer()}));case 5:return c=e.sent,e.next=8,bt.PDFDocument.load(c);case 8:return r=e.sent,i=r.getPages(),s=r.getForm(),o=t.reference,l=t.address,u=t.type,d=t.date,j=t.crew,x=t.start,f=t.breaks,h=t.end,p=t.totalTime,v=t.rate,O=t.travelFee,g=t.total,y=t.crewSignature,w=t.clientSignature,N=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e&&t&&!n)return Array.isArray(t)&&(t=t.join(", ")),s.getTextField(e).setText(t.toString())},C=function(){var e=Object(m.a)(b.a.mark((function e(t,n,a){var c,s,o,l,u=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=u.length>3&&void 0!==u[3]?u[3]:25,s=u.length>4&&void 0!==u[4]?u[4]:10,t&&n&&a){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,fetch(t).then((function(e){return e.arrayBuffer()}));case 6:return o=e.sent,e.next=9,r.embedPng(o);case 9:return l=e.sent,e.abrupt("return",i[0].drawImage(l,{x:n,y:a,height:s,width:c}));case 11:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),N("reference",o),N("address",l),N("type",u),N("date",d),N("crew",j),N("start",x),N("breaks",f),N("end",h),N("totalTime",p),N("rate",v),N("travelFee",O),N("total",g),e.next=28,C(y,107,53,150,35);case 28:return e.next=30,C(w,378,53,150,35);case 30:return s.flatten(),e.next=33,r.save();case 33:return k=e.sent,e.abrupt("return",k);case 35:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Va=function(e){var t=e.Icon,n=e.text,c=e.onClick,r=void 0===c?{}:c,i=e.color,s=e.className,o=(e.disabled,Object(d.a)(e,["Icon","text","onClick","color","className","disabled"]));return Object(O.jsxs)("button",Object(a.a)(Object(a.a)({onClick:r,className:"rounded-md py-2 px-4 text-white ".concat(s," ").concat(!!i&&"bg-".concat(i))},o),{},{children:[t&&Object(O.jsx)("span",{children:Object(O.jsx)(t,{})}),!!n&&Object(O.jsx)("span",{children:n})]}))},Ha=function(e,t){var n=t.payload;return n?Object(a.a)(Object(a.a)({},e),n):e},Ua={reference:"Margeaux Everett",address:"2405 Maple Street, Everett, WA 98201",type:"Move in & Stage",crew:"Arnas, Kevan",breaks:"0",rate:125,travelFee:62.5,date:R(new Date)},Ga=function(){var e=Object(c.useReducer)(Ha,Ua),t=Object(C.a)(e,2),n=t[0],a=t[1],r=n.reference,i=void 0===r?"":r,s=n.address,o=void 0===s?"":s,l=n.type,u=void 0===l?"":l,d=n.date,j=void 0===d?"":d,x=n.crew,f=void 0===x?"":x,h=n.start,p=void 0===h?"":h,v=n.breaks,g=void 0===v?"":v,y=n.end,w=void 0===y?"":y,N=n.totalTime,I=void 0===N?"":N,S=n.rate,T=void 0===S?"":S,F=n.travelFee,E=void 0===F?"":F,P=n.total,M=void 0===P?"":P,A=function(e){var t=e.field,n=e.value;a({payload:Object(k.a)({},t,n)})},D=function(e){a({payload:Object(k.a)({},e.target.name,e.target.value)})},B=function(){var e=Object(m.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Xt.a,e.next=3,Wa(n);case 3:e.t1=e.sent,e.t2="ABHS ".concat(R(new Date),".pdf"),(0,e.t0)(e.t1,e.t2,"application/pdf");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){var e=L(p),t=L(w);e>t&&(t+=12);var n=t-e-(L(g)||0);a({payload:{totalTime:W(n>=0?n:0)}})}),[p,w,g,a]),Object(c.useEffect)((function(){var e=0;e=Number(L(I))*Number(T),E&&(e+=E),a({payload:{total:e}})}),[I,T,E,a]);return Object(O.jsxs)("div",{className:"flex flex-col lg:flex-row items-center",children:[Object(O.jsx)("div",{}),Object(O.jsxs)("div",{className:"container bg-gray-50 p-2 rounded-b-md max-w-md",children:[Object(O.jsx)(Z,{title:"ABHS",hidePlus:!0}),Object(O.jsx)(re,{name:"reference",value:i,onChange:D,Icon:ie.a,label:"Reference"}),Object(O.jsx)(re,{name:"address",value:o,onChange:D,Icon:de.a,label:"address"}),Object(O.jsx)(re,{name:"type",value:u,onChange:D,Icon:yt.a,label:"type"}),Object(O.jsx)(re,{name:"date",value:j,onChange:D,Icon:cn.a,label:"date"}),Object(O.jsx)(re,{name:"crew",value:f,onChange:D,Icon:Ct.a,label:"crew"}),Object(O.jsxs)("div",{className:"flex",children:[Object(O.jsx)(re,{name:"start",className:"w-1/2",value:p,onChange:D,Icon:De.a,label:"start"}),Object(O.jsx)(re,{name:"end",className:"w-1/2",value:w,onChange:D,Icon:Me.a,label:"end"})]}),Object(O.jsx)(re,{name:"breaks",value:g,onChange:D,Icon:Re.a,label:"breaks"}),Object(O.jsx)(re,{name:"totalTime",value:I,onChange:D,Icon:Ie.a,label:"total Time"}),Object(O.jsx)(re,{name:"rate",value:T,onChange:D,Icon:Ee.a,label:"rate"}),Object(O.jsx)(re,{name:"travelFee",value:E,onChange:D,Icon:be.a,label:"travel Fee"}),Object(O.jsx)(re,{name:"total",value:M,onChange:D,Icon:xn.a,label:"total"}),Object(O.jsx)("span",{children:" Crew Signature "}),Object(O.jsx)(ut,{dispatch:A,type:"signature",name:"crewSignature"}),Object(O.jsx)("span",{children:" ABHS Signature "}),Object(O.jsx)(ut,{dispatch:A,type:"signature",name:"clientSignature"}),Object(O.jsx)("div",{className:"flex justify-center my-4 bg-green-400 rounded-sm shadow-md",children:Object(O.jsx)(Va,{onClick:B,text:"Download"})})]})]})},$a=function(){var e=Object(c.useState)([]),t=Object(C.a)(e,2),n=(t[0],t[1],Object(c.useState)({})),a=Object(C.a)(n,2),r=(a[0],a[1],Object(c.useState)()),i=Object(C.a)(r,2),s=(i[0],i[1],Object(c.useState)(0)),o=Object(C.a)(s,2),l=(o[0],o[1]);return Object(O.jsxs)("div",{className:"bg-white p-2 flex flex-col justify-start items-baseline",children:[Object(O.jsx)("h2",{children:"Split the tip"}),Object(O.jsx)("label",{htmlFor:"tip",children:"TIP, $"}),Object(O.jsx)("input",{name:"tip",type:"text",placeholder:"enter total tip amount",className:"p-2 border rounded-sm",onChange:function(e){return l(e.target.value)}}),Object(O.jsx)(We.a,{children:function(e){var t=e.open;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(We.a.Button,{children:["Crew #1",Object(O.jsx)(vt.a,{className:"".concat(t?"transform rotate-90":"")})]}),Object(O.jsx)(We.d,{show:t,enter:"transition duration-100 ease-out",enterFrom:"transform scale-95 opacity-0",enterTo:"transform scale-100 opacity-100",leave:"transition duration-75 ease-out",leaveFrom:"transform scale-100 opacity-100",leaveTo:"transform scale-95 opacity-0",children:Object(O.jsxs)(We.a.Panel,{static:!0,children:[Object(O.jsx)("li",{children:"Arnas"}),Object(O.jsx)("li",{children:"Kevan"}),Object(O.jsx)("li",{children:"Connor"}),Object(O.jsx)("li",{children:"Marc"})]})})]})}}),Object(O.jsx)("button",{children:"Add Crew"}),Object(O.jsx)("button",{children:"Add Day"})]})},za=function(){var e=function(){var e=Object(c.useContext)(ka);if(void 0===e)throw new Error("useMaterials must be used within a MaterialsProvider");return e}(),t=function(){var e=Object(c.useContext)(Ia);if(void 0===e)throw new Error("useMaterialsDispatch must be used within a MaterialsDispatchProvider");return e}();return Object(O.jsx)("div",{className:"flex flex-col items-stretch w-full sm:w-3/4 mx-auto lg:w-1/2 pb-10",children:Object(O.jsxs)(u.d,{children:[Object(O.jsx)(u.b,{path:"/t/materials",children:Object(O.jsx)(ae,{state:e,dispatch:t})}),Object(O.jsx)(u.b,{path:"/t/coordinates",children:Object(O.jsx)(Ca,{})}),Object(O.jsx)(u.b,{path:"/t/sms",children:Object(O.jsx)(Aa,{})}),Object(O.jsx)(u.b,{path:"/t/abhs",children:Object(O.jsx)(Ga,{})}),Object(O.jsx)(u.b,{path:"/t/tips",children:Object(O.jsx)($a,{})})]})})},Ka=function(){return Object(O.jsx)(Ta,{children:Object(O.jsx)(za,{})})},Ja=Object(c.memo)((function(e){var t=Object(c.useState)(!1),n=Object(C.a)(t,2),a=n[0],r=n[1],i=Object(c.useState)(!1),s=Object(C.a)(i,2),o=s[0],u=s[1],d="".concat("/sfm","/favicon.ico"),j=Object(c.useCallback)((function(){return o?null:r((function(e){return!e}))}),[o]),b=Object(c.useCallback)((function(){return u((function(e){return!e}))}),[]),m=function(e){var t=e.to,n=e.text;return Object(O.jsx)("li",{className:"px-2 nav-item",children:Object(O.jsx)(l.b,{onClick:j,className:"px-3 py-2 flex items-center text-xs uppercase font-bold leading-snug text-white hover:opacity-75 ml-2",to:t,replace:!0,children:n})})};return Object(O.jsx)("nav",{className:" flex flex-wrap items-center justify-between px-2 py-1 navbar-expand-lg bg-purple-900 shadow-md border-b-2 border-purple-800 ",children:Object(O.jsxs)("div",{className:"container px-4 mx-auto flex flex-wrap items-center justify-between",children:[Object(O.jsxs)("div",{className:"w-full relative flex justify-between lg:w-auto lg:static lg:block lg:justify-start",children:[Object(O.jsx)(l.b,{to:"/",children:Object(O.jsxs)("div",{className:"flex text-white   cursor-pointer text-xl leading-none px-3 py-1 border border-solid border-transparent rounded bg-transparent  outline-none focus:outline-none ",children:[Object(O.jsx)("img",{className:"bg-white w-6 h-6 p-1",src:d,alt:""}),Object(O.jsx)("span",{className:"px-2 text-white",children:Object(O.jsx)("strong",{children:"SFM"})})]})}),Object(O.jsxs)("div",{className:"flex ",children:[a&&Object(O.jsx)("button",{type:"button",onClick:b,className:"text-white opacity-30 cursor-pointer text-xl leading-none px-3 py-1 border border-solid border-transparent rounded bg-transparent block lg:hidden outline-none focus:outline-none",children:o?Object(O.jsx)(he.a,{}):Object(O.jsx)(pe.a,{})}),Object(O.jsx)("button",{className:"text-white cursor-pointer text-xl leading-none px-3 py-1 border border-solid border-transparent rounded bg-transparent block lg:hidden outline-none focus:outline-none",type:"button",onClick:j,children:a?Object(O.jsx)(xe.a,{}):Object(O.jsx)(fe.a,{})})]})]}),Object(O.jsx)("div",{className:"lg:flex flex-grow items-center"+(a?" flex":" hidden"),id:"example-navbar-danger",children:Object(O.jsxs)("ul",{className:"flex flex-col lg:flex-row list-none lg:ml-auto",children:[Object(O.jsx)(m,{to:"/moves",text:"Moves"}),Object(O.jsx)(m,{to:"/estimates",text:"Estimates"}),Object(O.jsx)(m,{to:"/paramount",text:"Paramount"}),Object(O.jsx)(m,{to:"/dispatch",text:"Dispatch"}),Object(O.jsx)(m,{to:"/warehouse",text:"Warehouse"}),Object(O.jsx)(m,{to:"/tools",text:"tools"})]})})]})})}));var _a=function(){return Object(O.jsx)(l.a,{basename:"/",children:Object(O.jsxs)("div",{className:"min-h-screen w-full flex flex-col justify-between ",children:[Object(O.jsx)(Ja,{}),Object(O.jsxs)("div",{className:"flex-grow relative w-full rounded-b-lg shadow-2xl  ",children:[Object(O.jsxs)(u.d,{children:[Object(O.jsx)(u.a,{exact:!0,from:"/",to:"/p/R2tpMl/"}),Object(O.jsx)(u.a,{exact:!0,from:"/materials",to:"/t/materials"}),Object(O.jsx)(u.a,{exact:!0,from:"/bol",to:"/t/coordinates"}),Object(O.jsx)(u.a,{exact:!0,from:"/bingo",to:"/t/loadchart"}),Object(O.jsx)(u.b,{path:"/moves",component:w}),Object(O.jsx)(u.b,{path:"/m/:moveId",component:Pt}),Object(O.jsx)(u.b,{path:"/estimates",component:yn}),Object(O.jsx)(u.b,{path:"/e/:estimateId",component:Nn}),Object(O.jsx)(u.b,{path:"/paramount",component:Tn}),Object(O.jsx)(u.b,{path:"/p/:pId",component:ea}),Object(O.jsx)(u.b,{path:"/dispatch",component:ra}),Object(O.jsx)(u.b,{path:"/d/:jobId",component:ia}),Object(O.jsx)(u.b,{path:"/warehouse",component:Oa}),Object(O.jsx)(u.b,{path:"/w/:wId",component:ma}),Object(O.jsx)(u.b,{path:"/tools",component:ya}),Object(O.jsx)(u.b,{path:"/t/:toolId",component:Ka})]}),Object(O.jsx)(u.d,{children:Object(O.jsx)(u.b,{path:"/m1/:moveId",component:gn})})]})]})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ya=n(84),qa=(n(2019),n(2053),n(2055),n(2054),n(96)),Xa=n(209),Za=n(328),Qa=xa.ALL,ec=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case la:return t.payload.filter;default:return e}},tc={allIds:[],byIds:{}};var nc={materials:[],miscFees:[]};Ya.a.initializeApp({apiKey:"AIzaSyB1WHQPb434r37qVAQYoC53f5_cyaxMWmg",authDomain:"sfm-tools-448ab.firebaseapp.com",projectId:"sfm-tools-448ab",storageBucket:"sfm-tools-448ab.appspot.com",messagingSenderId:"980029527425",appId:"1:980029527425:web:52b20aa5a85cca58b20480"});var ac=Ya.a.firestore(),cc=Ya.a.functions(),rc=Ya.a.storage(),ic=Ya.a.firestore.FieldValue.serverTimestamp,sc=Object(qa.combineReducers)({visibilityFilter:ec,wares:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case sa:var n=t.payload,c=n.id,r=n.content;return Object(a.a)(Object(a.a)({},e),{},{allIds:[].concat(Object(D.a)(e.allIds),[c]),byIds:Object(a.a)(Object(a.a)({},e.byIds),{},Object(k.a)({},c,{content:r,completed:!1}))});case oa:var i=t.payload.id;return Object(a.a)(Object(a.a)({},e),{},{byIds:Object(a.a)(Object(a.a)({},e.byIds),{},Object(k.a)({},i,Object(a.a)(Object(a.a)({},e.byIds[i]),{},{completed:!e.byIds[i].completed})))});default:return e}},move:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nc,t=arguments.length>1?arguments[1]:void 0,n=t.field,c=t.value,r=void 0===c?"":c,i=t.type,s=t.groupName,o=t.payload,l=t.id,u=void 0===l?null:l;if(!i&&n)return Object(a.a)(Object(a.a)({},e),{},Object(k.a)({},n,r));var d=e[s];switch(i){case"fieldsUpdate":return Object(a.a)(Object(a.a)({},e),o);case"groupUpdate":return u&&s&&d?Object(a.a)(Object(a.a)({},e),{},Object(k.a)({},s,(null===d||void 0===d?void 0:d.find((function(e){return e.id===u})))?null===d||void 0===d?void 0:d.map((function(e){return u===e.id?Object(a.a)(Object(a.a)({},e),o):e})):[].concat(Object(D.a)(d),[Object(a.a)({id:u},o)]))):Object(a.a)({},e);case"groupClear":return s?Object(a.a)(Object(a.a)({},e),{},Object(k.a)({},s,[])):Object(a.a)({},e);case"groupRemove":return u&&s?Object(a.a)(Object(a.a)({},e),{},Object(k.a)({},s,d.filter((function(e){return e.id!==u})))):Object(a.a)({},e);case"clearData":return nc;default:return e}},firestore:Xa.firestoreReducer}),oc=Object(qa.createStore)(sc,Object(Za.composeWithDevTools)()),lc={firebase:Ya.a,config:{userProfile:"users",useFirestoreForProfile:!0},dispatch:oc.dispatch,createFirestoreInstance:Xa.createFirestoreInstance};s.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(o.a,{store:oc,children:Object(O.jsx)(v.ReactReduxFirebaseProvider,Object(a.a)(Object(a.a)({},lc),{},{children:Object(O.jsx)(_a,{})}))})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},343:function(e,t,n){},525:function(e,t){},526:function(e,t){},527:function(e,t){},528:function(e,t){},529:function(e,t){}},[[2052,1,2]]]);
//# sourceMappingURL=main.695dec5f.chunk.js.map