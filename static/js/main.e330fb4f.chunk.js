(this["webpackJsonpmaterial-calculator"]=this["webpackJsonpmaterial-calculator"]||[]).push([[0],{74:function(e,t,n){},94:function(e,t,n){"use strict";n.r(t);var a=n(5),r=n.n(a),c=n(48),i=n.n(c),s=(n(74),n(26)),o=n(14),l=n(4),u=Object(a.createContext)(),d=function(){return Object(a.useContext)(u)},j=function(e,t){switch(t.type){case"changeCount":return e.map((function(e){return e.id===t.payload.id&&(e.count=t.payload.newCount),e}));case"clearCount":return e.map((function(e){return e.count=0,e}));case"keyAdd":return e.map((function(e){return e.id===t.payload&&(e.count=e.count+1),e}));default:return e}},h=[{id:"q3lYEM",name:"Small Box",volume:1.5,w:"16 3/8",d:"12 5/8",h:"12 5/8",count:0,img:"img/small.jpg",history:{}},{id:"KX1q8A",name:"Medium Box",volume:3,w:"18",d:"18",h:"16",count:0,img:"img/medium.jpg",history:{}},{id:"AT9F5y",name:"Large Box",volume:4.5,w:"18",d:"18",h:"24",count:0,img:"img/large.jpg",history:{}},{id:"L2NPOm",name:"Mattress Bag",description:"For use on mattresses & box springs",count:0,img:"img/matbags.jpg",history:{}},{id:"Zb53TO",name:"Wardrobe (Rent)",volume:13,w:"24",d:"24",h:"40",count:0,img:"img/wardrobe.jpg",history:{}},{id:"XjYPgM",name:"Wardrobe (Buy)",volume:13,w:"24",d:"24",h:"40",count:0,img:"img/wardrobe.jpg",history:{}},{id:"Aic8ie",name:"Laydown Wardrobe",volume:13,w:"24",d:"24",h:"40",count:0,img:"img/laydown.jpg",history:{}},{id:"fjCPOT",name:"Mirror Pack (Small)",volume:13,w:"24",d:"24",h:"40",count:0,img:"img/smirror.jpg",history:{}},{id:"UmttCz",name:"Mirror Pack (Large)",volume:13,w:"24",d:"24",h:"40",count:0,img:"img/lmirror.jpg",history:{}},{id:"dW96Oj",name:"Paper Pads",count:0,img:"img/pads.jpg",history:{}},{id:"K6HCr1",name:"Stretch Wrap",count:0,img:"img/wrap.jpg",history:{}},{id:"s1s12u",name:"Carpet Protection",count:0,img:"img/carpet.jpg",history:{}},{id:"INaIjO",name:"Ropes",count:0,img:"img/rope.jpg",history:{}},{id:"s0mSbR",name:"Blankets",count:0,img:"img/blanket.jpg",history:{}}],b=function(e){console.log("inventory provider rerender");var t=Object(a.useReducer)(j,h),n=Object(o.a)(t,2),c=n[0],i=n[1],d=r.a.useMemo((function(){return{inventory:c,dispatch:i}}),[c,i]);return Object(l.jsx)(u.Provider,Object(s.a)({value:d},e))},m=function(){var e=d().dispatch;return Object(l.jsx)("button",{type:"reset",onClick:function(){return e({type:"clearCount"})},children:Object(l.jsx)("span",{className:"bg-gray-800 px-4 py-2 rounded-sm text-white text-xs hover:bg-red-700",children:"Clear"})})},x=function(e){(function(e){return"touches"in e})(e)&&e.touches.length<2&&e.preventDefault&&e.preventDefault()},g=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.shouldPreventDefault,c=void 0===r||r,i=n.delay,s=void 0===i?300:i,l=Object(a.useState)(!1),u=Object(o.a)(l,2),d=u[0],j=u[1],h=Object(a.useRef)(),b=Object(a.useRef)(),m=Object(a.useCallback)((function(t){c&&t.target&&(t.target.addEventListener("touchend",x,{passive:!1}),b.current=t.target),h.current=setTimeout((function(){e(t),j(!0)}),s)}),[e,s,c]),g=Object(a.useCallback)((function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];h.current&&clearTimeout(h.current),n&&!d&&t(),j(!1),c&&b.current&&b.current.removeEventListener("touchend",x)}),[c,t,d]);return{onMouseDown:function(e){return m(e)},onTouchStart:function(e){return m(e)},onMouseUp:function(e){return g(e)},onMouseLeave:function(e){return g(e,!1)},onTouchEnd:function(e){return g(e)}}},p=n(31),O=function(e){var t=e.count,n=e.changeCount,a=g((function(){n(0)}),(function(){n(t>0?t-1:t)}),{shouldPreventDefault:!0,delay:1e3});return Object(l.jsx)("div",{className:"custom-number-input w-32 bg-gray-100 bg-opacity-50  rounded-lg",children:Object(l.jsxs)("div",{className:"flex flex-row h-10 w-full rounded-lg relative bg-transparent ",children:[Object(l.jsx)("button",Object(s.a)(Object(s.a)({},a),{},{className:"disable-select  text-gray-600 hover:text-red-700 hover:bg-red-200 h-full w-20 rounded-l cursor-pointer outline-none",children:Object(l.jsx)("span",{className:"m-auto text-2xl font-thin",children:"\u2212"})})),Object(l.jsx)("input",{min:"0",type:"number",name:"custom-input-number",className:Object(p.a)("outline-none bg-gray-100 bg-opacity-50 focus:outline-none text-center w-full  font-semibold text-md hover:text-black focus:text-black  md:text-basecursor-default flex items-center text-gray-700",t>0&&"bg-yellow-300"),onChange:function(e){var t=parseInt(e.target.value)||0;return n(t)},onKeyPress:function(e){"ArrowLeft"!==e.key&&"ArrowRight"!==e.key&&"ArrowUp"!==e.key&&"ArrowDown"!==e.key&&"Delete"!==e.key&&"Backspace"!==e.key&&-1===e.key.search(/\d/)&&e.preventDefault()},onKeyDown:function(e){return"Enter"===e.key?e.target.blur():null},value:t}),Object(l.jsx)("button",{onClick:function(){n(t+1)},className:" text-gray-600 hover:text-green-700 hover:bg-green-200 h-full w-20 rounded-r cursor-pointer",children:Object(l.jsx)("span",{className:"m-auto text-2xl font-thin",children:"+"})})]})})},f=function(e){var t=e.m,n=t.id,r=t.name,c=t.volume,i=t.count,s=t.img,u=(t.w,t.d,t.h,t.description,t.subtext),j=d().dispatch,h=Object(a.useState)(!1),b=Object(o.a)(h,2);b[0],b[1];return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:Object(l.jsxs)("div",{className:"flex align-middle w-60",children:[Object(l.jsx)("div",{className:"p-1",children:Object(l.jsx)("img",{className:"max-h-4 w-4",src:"/material-calculator/"+s,alt:""})}),Object(l.jsxs)("div",{className:"flex",children:[Object(l.jsxs)("div",{className:"flex-1",children:[r," "]}),Object(l.jsx)("div",{className:"text-xs align-middle",children:Object(l.jsxs)("span",{children:[c?"".concat(c," c.u. ft."):u," "]})})]})]})}),Object(l.jsx)("td",{children:Object(l.jsx)(O,{count:i,changeCount:function(e){j({type:"changeCount",payload:{id:n,newCount:e}})}})})]})},v=function(){var e=d().inventory;return Object(l.jsx)("div",{className:"flex p-5 justify-center  align-center ",children:Object(l.jsxs)("table",{className:"rounded-md ",children:[Object(l.jsx)("thead",{className:"",children:Object(l.jsxs)("tr",{className:"bg-green-700 text-white",children:[Object(l.jsx)("th",{children:"Material"}),Object(l.jsx)("th",{children:"Count"})]})}),Object(l.jsx)("tbody",{className:"bg-white",children:e.map((function(e){return Object(l.jsx)(f,{m:e},e.name+e.volume)}))})]})})},y=n(106),w=function(e){var t=e.name,n=e.placeholder,a=e.Icon,r=e.type,c=void 0===r?"text":r,i=(e.defaultValue,e.step),s=e.value,o=e.onChange;return Object(l.jsxs)("div",{className:"relative text-gray-600 focus-within:text-red-400 w-100 m-2",children:[Object(l.jsx)("span",{className:"absolute inset-y-0 left-0 flex items-center pl-2",children:Object(l.jsx)(a,{})}),Object(l.jsx)("input",{type:c,name:t,className:" w-full  py-2 pr-6 text-sm text-black bg-white rounded-md pl-12 focus:outline-none focus:bg-white focus:text-gray-900",placeholder:n,autoComplete:"off",value:s,onChange:o,step:i}),s.length>0||"number"===c&&s>0?Object(l.jsx)("span",{className:"absolute inset-y-0 right-0 flex items-center px-2 cursor-pointer opacity-20 focus:opacity-100 hover:opacity-100",onClick:function(){return o({target:{name:t,value:""}})},children:Object(l.jsx)(y.a,{})}):null]})},N=n(107),C=n(108),T=n(109),k=n(110),I=n(111),P=n(112),S=n(113),D=n(30),A={fullName:"Arnas Jelizarovas",phoneNumber:8605150847,email:"",originAddress:"",destinationAddress:"",additionalStops:"",notes:"",estimateIsBinding:!1,valuation:"basic",valuationCost:"",valuationCostWithDeductible:"",totalValuation:"",personnel:[],date:function(e){var t=e.getFullYear(),n=(1+e.getMonth()).toString().padStart(2,"0"),a=e.getDate().toString().padStart(2,"0");return n+"/"+a+"/"+t}(new Date),hourlyRate:"",travelTime:"",travelFee:"",startTime:"",arriveTime:"",departTime:"",endTime:"",breakTime:"",totalHours:"",distance:"",grossWeight:"",tareWeight:"",netWeight:"",mileageRate:"",totalTransportation:"",materials:{},totalMaterials:"",otherFees:{},totalOtherFees:"",subtotal:"",adjustment:"",totalMovingCharges:"",totalAmountPaid:"",remainingBalance:"",signature:"",initials:"",crewSignature:"",agreedToEstimate:!0,crewLeadAssigned:!0,jobComplete:!0},F=Object(a.createContext)(),E=Object(a.createContext)(),L=function(){var e=Object(a.useContext)(F);if(void 0===e)throw new Error("useClient must be used within a ClientProvider");return e},M=function(){var e=Object(a.useContext)(E);if(void 0===e)throw new Error("useClientDispatch must be used within a ClientDispatchProvider");return e},R=function(e,t){var n=t.field,a=t.value;return Object(s.a)(Object(s.a)({},e),{},Object(D.a)({},n,a))},B=function(e){var t=e.children,n=Object(a.useReducer)(R,A),r=Object(o.a)(n,2),c=r[0],i=r[1];return Object(l.jsx)(F.Provider,{value:c,children:Object(l.jsx)(E.Provider,{value:i,children:t})})};var W=function(){var e=L(),t=M(),n=e.fullName,a=e.phoneNumber,r=e.email,c=e.originAddress,i=e.destinationAddress,s=e.additionalStops,o=e.notes,u=function(e){return t({field:e.target.name,value:e.target.value})};return Object(l.jsx)("div",{className:"md:container md:mx-auto",children:Object(l.jsx)("div",{className:"px-10 w-full sm:w-1/2 mx-auto lg:w-1/2 flex-row ",children:Object(l.jsxs)("form",{action:"",method:"post",children:[Object(l.jsx)("h2",{children:"Personal Info"}),Object(l.jsx)(w,{name:"fullName",value:n,onChange:u,Icon:N.a,placeholder:"Full Name"}),Object(l.jsx)(w,{name:"phoneNumber",value:a,onChange:u,Icon:C.a,placeholder:"Phone Number",type:"number"}),Object(l.jsx)(w,{name:"email",value:r,onChange:u,Icon:T.a,placeholder:"Email",type:"email"}),Object(l.jsx)("h2",{children:"Locations"}),Object(l.jsx)(w,{name:"originAddress",value:c,onChange:u,Icon:k.a,placeholder:"Starting Point (Origin)"}),Object(l.jsx)(w,{name:"destinationAddress",value:i,onChange:u,Icon:I.a,placeholder:"End Point (Destination)"}),Object(l.jsx)(w,{name:"additionalStops",value:s,onChange:u,Icon:P.a,placeholder:"Other Stops"}),Object(l.jsx)(w,{name:"notes",value:o,onChange:u,Icon:S.a,placeholder:"Notes"})]})})})},H=n(36),z=n.n(H),J=n(49),Y=n(50),K=n(66),U=n.n(K),X=n(67),$=n.n(X);function q(){return(q=Object(J.a)(z.a.mark((function e(t){var n,a,r,c,i,s,o,l,u,d,j,h,b,m,x,g,p;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"pdf/bol.pdf",n=window.location.origin.toString()+"/material-calculator/",a=n+"pdf/bol.pdf",e.next=5,fetch(a).then((function(e){return e.arrayBuffer()}));case 5:return r=e.sent,e.next=8,Y.PDFDocument.load(r);case 8:return c=e.sent,i=c.getPages(),s=i[0],o=t.signature,e.next=14,fetch(o).then((function(e){return e.arrayBuffer()}));case 14:return l=e.sent,e.next=17,c.embedPng(l);case 17:return u=e.sent,d=t.initials,e.next=21,fetch(d).then((function(e){return e.arrayBuffer()}));case 21:return j=e.sent,e.next=24,c.embedPng(j);case 24:return h=e.sent,b=t.crewSignature,e.next=28,fetch(b).then((function(e){return e.arrayBuffer()}));case 28:return m=e.sent,e.next=31,c.embedPng(m);case 31:x=e.sent,g=c.getForm(),g.getTextField("Name").setText("     "+t.fullName),g.getTextField("EMAIL").setText("     "+t.email),g.getTextField("PHONE 1").setText("     "+t.phoneNumber.toString()),g.getTextField("Origin").setText("     "+t.originAddress),g.getTextField("Other Stops").setText("     "+t.additionalStops),g.getTextField("Destination").setText("     "+t.destinationAddress),g.getTextField("Notes").setText("     "+t.notes),!0===t.agreedToEstimate&&(s.drawImage(u,{x:24,y:95,height:35,width:150}),s.drawText(t.date,{x:238,y:103,size:12})),!0===t.crewLeadAssigned&&(s.drawImage(x,{x:24,y:65,height:35,width:150}),s.drawText(t.date,{x:238,y:73,size:12})),!0===t.jobComplete&&(s.drawImage(u,{x:320,y:32,height:35,width:150}),s.drawText(t.date,{x:530,y:40,size:12})),t.estimateIsBinding?s.drawImage(h,{x:24,y:373,height:10,width:25}):s.drawImage(h,{x:24,y:462,height:10,width:25}),e.t0=t.valuation,e.next="basic"===e.t0?47:"replacement"===e.t0?49:"replacementWithDeductible"===e.t0?51:53;break;case 47:return s.drawImage(h,{x:24,y:323,height:10,width:25}),e.abrupt("break",54);case 49:return s.drawImage(h,{x:24,y:222,height:10,width:25}),e.abrupt("break",54);case 51:return s.drawImage(h,{x:24,y:275,height:10,width:25}),e.abrupt("break",54);case 53:return e.abrupt("break",54);case 54:return g.flatten(),e.next=57,c.save();case 57:p=e.sent,U()(p,"new bol.pdf","application/pdf");case 59:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var V=function(){var e=L();return Object(l.jsxs)("div",{children:[Object(l.jsx)("pre",{children:e&&JSON.stringify(e,0,2)}),Object(l.jsx)(G,{type:"signature",name:"Customer Signature"}),Object(l.jsx)(G,{type:"initials",name:"Customer Initials"}),Object(l.jsx)(G,{type:"crewSignature",name:"Signature of Carrier"}),Object(l.jsx)("br",{}),Object(l.jsx)("button",{className:"bg-gray-700 p-2 m-2 text-white",onClick:function(){return function(e){return q.apply(this,arguments)}(e)},children:"Get bill of lading"})]})},G=function(e){var t=e.type,n=e.name,r=Object(a.useState)(null),c=Object(o.a)(r,2),i=(c[0],c[1]),s=M(),u=Object(a.useRef)({});return Object(l.jsxs)("div",{children:[Object(l.jsx)("h2",{children:n}),Object(l.jsx)($.a,{penColor:"blue",canvasProps:{width:500,height:200,className:"bg-white",border:"1px solid black"},onEnd:function(){var e=u.current.getTrimmedCanvas().toDataURL("image/png");i(e),s({field:t,value:e})},ref:u}),Object(l.jsx)("button",{className:"bg-gray-700 p-2 m-2 text-white",onClick:function(){u.current.clear(),s({field:t,value:""})},children:"Clear"})]})},Z=n(68),Q=function(){var e=Object(a.useState)({x:null,y:null}),t=Object(o.a)(e,2),n=t[0],r=t[1],c=function(e){r({x:e.clientX,y:e.clientY})};return Object(a.useEffect)((function(){return window.addEventListener("click",c),function(){return window.removeEventListener("click",c)}}),[]),n},_=function(){var e=Object(a.useState)(1),t=Object(o.a)(e,2),n=t[0],r=t[1],c=Object(a.useRef)(null),i=Q(),s=i.x,u=i.y,d="number"===typeof s&&"number"===typeof u,j=Object(Z.a)({file:"/material-calculator/pdf/bol.pdf",page:n,canvasRef:c}),h=j.pdfDocument;j.pdfPage;return Object(l.jsxs)("div",{children:[Object(l.jsx)("h1",{children:d?"Your cursor is at ".concat(s,", ").concat(-(u-80-792),"."):"Move your mouse around."}),!h&&Object(l.jsx)("span",{children:"Loading..."}),Object(l.jsx)("canvas",{ref:c}),Boolean(h&&h.numPages)&&Object(l.jsx)("nav",{children:Object(l.jsxs)("ul",{className:"pager",children:[Object(l.jsx)("li",{className:"previous",children:Object(l.jsx)("button",{disabled:1===n,onClick:function(){return r(n-1)},children:"Previous"})}),Object(l.jsx)("li",{className:"next",children:Object(l.jsx)("button",{disabled:n===h.numPages,onClick:function(){return r(n+1)},children:"Next"})})]})})]})},ee=function(){return Object(l.jsx)("div",{children:"Inventory"})},te=n(27),ne=n(12),ae=n(114),re=n(115),ce=function(){return Object(l.jsx)("select",{className:"m-2 w-1/2  py-2 pr-6 text-sm text-black bg-white rounded-md pl-2 focus:outline-none focus:bg-white focus:text-gray-900",children:["0:15","0:30","0:45","1:00","1:15","1:30","1:45","2:00"].map((function(e){return Object(l.jsxs)("option",{children:["\u23f0 ",e]})}))})},ie=function(){var e=L(),t=M(),n=function(e){return t({field:e.target.name,value:e.target.value})},a=e.date,r=e.hourlyRate,c=e.travelFee,i=(e.travelTime,e.totalHours),s=e.startTime,o=e.endTime;return Object(l.jsx)("div",{className:"md:container md:mx-auto",children:Object(l.jsx)("div",{className:"px-10 w-full sm:w-1/2 mx-auto lg:w-1/2 flex-row ",children:Object(l.jsxs)("form",{method:"post",children:[Object(l.jsx)("h2",{children:"Job Type"}),Object(l.jsxs)("select",{className:"m-2 w-full  py-2 pr-6 text-sm text-black bg-white rounded-md pl-2 focus:outline-none focus:bg-white focus:text-gray-900",children:[Object(l.jsx)("option",{children:"\u23f0 Local (Hourly)"}),Object(l.jsx)("option",{children:"\ud83d\ude9a Long Distance"}),Object(l.jsx)("option",{children:"\ud83d\udcb3 Flat Rate"})]}),Object(l.jsx)("h2",{children:"Date"}),Object(l.jsx)(w,{name:"date",value:a,onChange:n,Icon:ae.a,placeholder:"Date",type:"text"}),Object(l.jsx)("h2",{children:"Rates"}),Object(l.jsx)(w,{name:"hourlyRate",value:r,onChange:n,placeholder:"Hourly",type:"number",Icon:function(){return Object(l.jsx)("span",{className:"select-none text-bold",children:"$/hr"})},step:"5"}),Object(l.jsxs)("div",{className:"flex",children:[Object(l.jsx)(w,{name:"travelFee",value:c,onChange:n,placeholder:"Travel Fee",type:"number",Icon:I.a}),Object(l.jsx)(ce,{})]}),Object(l.jsx)("h2",{children:"Time"}),Object(l.jsxs)("div",{className:"flex",children:[Object(l.jsx)(w,{name:"startTime",value:s,onChange:n,placeholder:"Start",Icon:re.a}),Object(l.jsx)(w,{name:"endTime",value:o,onChange:n,placeholder:"End",Icon:re.a})]}),Object(l.jsx)("h2",{children:"Totals"}),Object(l.jsx)(w,{name:"totalHours",value:i,onChange:n,placeholder:"Total Hours",Icon:re.a}),Object(l.jsxs)("h2",{className:"text-4xl mt-10",children:["Total sum is $"," ",Number(i)*Number(r)+Number(c)]})]})})})};var se=function(){return Object(l.jsx)("div",{className:"w-screen h-screen bg-gray-200",children:Object(l.jsx)(b,{children:Object(l.jsxs)(te.a,{children:[Object(l.jsx)("div",{className:"flex-row justify-center w-screen bg-gray-800 ",children:Object(l.jsxs)("div",{className:"text-white p-4 bg-black flex  justify-around",children:[Object(l.jsxs)("div",{className:"flex cursor-pointer",children:[Object(l.jsx)("img",{className:"bg-white w-6 h-6 p-1",src:"/material-calculator/favicon.ico",alt:""}),Object(l.jsxs)("span",{className:"px-2",children:["SFM",Object(l.jsx)("strong",{children:"tools"})]})]}),Object(l.jsx)("nav",{className:"px-5 ",children:Object(l.jsxs)("ul",{className:"flex justify-around",children:[Object(l.jsx)("li",{className:"px-2",children:Object(l.jsx)(te.b,{to:"/client",children:"Client"})}),Object(l.jsx)("li",{className:"px-2",children:Object(l.jsx)(te.b,{to:"/rates",children:"Rates"})}),Object(l.jsx)("li",{className:"px-2",children:Object(l.jsx)(te.b,{to:"/bol",children:"BOL"})}),Object(l.jsx)("li",{className:"px-2",children:Object(l.jsx)(te.b,{to:"/inventory",children:"Inventory"})}),Object(l.jsx)("li",{className:"px-2",children:Object(l.jsx)(te.b,{to:"/materials",children:"Materials"})}),Object(l.jsx)("li",{className:"px-2",children:Object(l.jsx)(te.b,{to:"/overview",children:"Overview"})})]})})]})}),Object(l.jsx)(B,{children:Object(l.jsxs)(ne.d,{children:[Object(l.jsx)(ne.b,{exact:!0,path:"/",render:function(){return Object(l.jsx)(ne.a,{to:"/client"})}}),Object(l.jsxs)(ne.b,{path:"/materials",children:[Object(l.jsx)(m,{}),Object(l.jsx)(v,{})]}),Object(l.jsx)(ne.b,{path:"/rates",children:Object(l.jsx)(ie,{})}),Object(l.jsx)(ne.b,{path:"/client",children:Object(l.jsx)(W,{})}),Object(l.jsx)(ne.b,{path:"/bol",children:Object(l.jsx)(_,{})}),Object(l.jsx)(ne.b,{path:"/inventory",children:Object(l.jsx)(ee,{})}),Object(l.jsx)(ne.b,{path:"/overview",children:Object(l.jsx)(V,{})})]})})]})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(se,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[94,1,2]]]);
//# sourceMappingURL=main.e330fb4f.chunk.js.map